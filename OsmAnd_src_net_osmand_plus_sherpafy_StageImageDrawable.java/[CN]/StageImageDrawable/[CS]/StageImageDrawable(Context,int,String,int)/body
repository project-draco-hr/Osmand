{
  this.resources=ctx.getResources();
  this.color=color;
  WindowManager mgr=(WindowManager)ctx.getSystemService(Context.WINDOW_SERVICE);
  DisplayMetrics dm=new DisplayMetrics();
  mgr.getDefaultDisplay().getMetrics(dm);
  density=dm.density;
  if (text != null) {
    this.text=text;
    textPaint=new TextPaint();
    textPaint.setColor(R.color.color_white);
    textPaint.setTextAlign(Align.CENTER);
  }
 else {
    drawable=getResources().getDrawable(drawableRes);
    paintBmp=new Paint();
    paintBmp.setAntiAlias(true);
    paintBmp.setFilterBitmap(true);
    paintBmp.setDither(true);
  }
  paintOuter=new Paint();
  paintOuter.setColor(0x88555555);
  paintOuter.setAntiAlias(true);
  paintOuter.setStyle(Style.FILL_AND_STROKE);
  paintInnerCircle=new Paint();
  paintInnerCircle.setStyle(Style.FILL_AND_STROKE);
  paintInnerCircle.setColor(color);
  paintInnerCircle.setAntiAlias(true);
}
