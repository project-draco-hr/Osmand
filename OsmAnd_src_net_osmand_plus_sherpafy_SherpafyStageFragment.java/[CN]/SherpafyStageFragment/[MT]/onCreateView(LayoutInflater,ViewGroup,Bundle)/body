{
  view=inflater.inflate(R.layout.tab_content,container,false);
  tabHost=(TabHost)view.findViewById(android.R.id.tabhost);
  tabHost.setup();
  ViewPager mViewPager=(ViewPager)view.findViewById(R.id.pager);
  mTabsAdapter=new TabsAdapter(getChildFragmentManager(),getSherlockActivity(),tabHost,mViewPager,stage);
  if (stage != null) {
    mTabsAdapter.addTab(tabHost.newTabSpec("INFO").setIndicator(getString(R.string.sherpafy_stage_tab_info)),SherpafyStageInfoFragment.class);
    if (!stage.getItinerary().equals("") && (stage.getGpx() != null || stage.getStartPoint() != null)) {
      mTabsAdapter.addTab(tabHost.newTabSpec("ROUTE").setIndicator(getString(R.string.sherpafy_stage_tab_route)),SherpafyStageItineraryFragment.class);
    }
    if (stage.getFavorites().size() > 0) {
      mTabsAdapter.addTab(tabHost.newTabSpec("FAV").setIndicator(getString(R.string.sherpafy_stage_tab_fav)),SherpafyFavoritesListFragment.class);
    }
    StageFavoriteGroup group=stage.getGroupById("destination");
    if (group != null && group.getFavorites().size() > 0) {
      int o=group.getFavorites().get(0).getOrder();
      Bundle bl=new Bundle();
      bl.putInt(SherpafyFavoriteFragment.FAV_PARAM,o);
      mTabsAdapter.addTab(tabHost.newTabSpec("TARGET").setIndicator(getString(R.string.sherpafy_stage_tab_target)),SherpafyFavoriteFragment.class,bl);
    }
  }
  return view;
}
