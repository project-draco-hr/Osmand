{
  final Drawable background=getBackground();
  int hOffset=0;
  if (background != null) {
    background.getPadding(mTempRect);
    hOffset=ViewUtils.isLayoutRtl(SpinnerCompat.this) ? mTempRect.right : -mTempRect.left;
  }
 else {
    mTempRect.left=mTempRect.right=0;
  }
  final int spinnerPaddingLeft=SpinnerCompat.this.getPaddingLeft();
  final int spinnerPaddingRight=SpinnerCompat.this.getPaddingRight();
  final int spinnerWidth=SpinnerCompat.this.getWidth();
  if (mDropDownWidth == WRAP_CONTENT) {
    int contentWidth=measureContentWidth((SpinnerAdapter)mAdapter,getBackground());
    final int contentWidthLimit=getContext().getResources().getDisplayMetrics().widthPixels - mTempRect.left - mTempRect.right;
    if (contentWidth > contentWidthLimit) {
      contentWidth=contentWidthLimit;
    }
    setContentWidth(Math.max(contentWidth,spinnerWidth - spinnerPaddingLeft - spinnerPaddingRight));
  }
 else   if (mDropDownWidth == MATCH_PARENT) {
    setContentWidth(spinnerWidth - spinnerPaddingLeft - spinnerPaddingRight);
  }
 else {
    setContentWidth(mDropDownWidth);
  }
  if (ViewUtils.isLayoutRtl(SpinnerCompat.this)) {
    hOffset+=spinnerWidth - spinnerPaddingRight - getWidth();
  }
 else {
    hOffset+=spinnerPaddingLeft;
  }
  setHorizontalOffset(hOffset);
}
