{
  boolean processed=false;
  if (indexPOI && Amenity.isAmenity(e)) {
    amenities.add(e);
    processed=true;
  }
  if (e instanceof Node && e.getTag(OSMTagKey.PLACE) != null) {
    places.add((Node)e);
    processed=true;
  }
  if (indexAddress) {
    if ("yes".equals(e.getTag(OSMTagKey.BUILDING))) {
      if (e.getTag(OSMTagKey.ADDR_HOUSE_NUMBER) != null) {
        buildings.put(entityId,e);
        processed=true;
      }
    }
    if (e instanceof Way && OSMSettings.wayForCar(e.getTag(OSMTagKey.HIGHWAY)) && e.getTag(OSMTagKey.NAME) != null) {
      ways.put(entityId,(Way)e);
      processed=true;
    }
    if (e instanceof Relation) {
      if (e.getTag(OSMTagKey.POSTAL_CODE) != null) {
        String tag=e.getTag(OSMTagKey.POSTAL_CODE);
        for (        EntityId l : ((Relation)e).getMemberIds()) {
          postalCodes.put(l,tag);
        }
      }
      if ("address".equals(e.getTag(OSMTagKey.TYPE))) {
        addressRelations.put(entityId,(Relation)e);
        processed=true;
      }
    }
  }
  if (indexTransport) {
    if (e instanceof Relation && e.getTag(OSMTagKey.ROUTE) != null) {
      transport.add((Relation)e);
      processed=true;
    }
    if (e instanceof Node && "bus_stop".equals(e.getTag(OSMTagKey.HIGHWAY))) {
      processed=true;
    }
    if (e instanceof Node && e.getTag(OSMTagKey.RAILWAY) != null) {
      if ("tram_stop".equals(e.getTag(OSMTagKey.RAILWAY)) || "station".equals(e.getTag(OSMTagKey.RAILWAY))) {
        processed=true;
      }
    }
  }
  try {
    if (e instanceof Node) {
      currentCountNode++;
      prepNode.setLong(1,e.getId());
      prepNode.setDouble(2,((Node)e).getLatitude());
      prepNode.setDouble(3,((Node)e).getLongitude());
      prepNode.addBatch();
      if (currentCountNode >= BATCH_SIZE) {
        prepNode.executeBatch();
        currentCountNode=0;
      }
    }
 else     if (preloadRelationAndWaysIntoDB || createWholeOsmDB) {
      if (e instanceof Way) {
        for (        Long i : ((Way)e).getNodeIds()) {
          currentWaysCount++;
          prepWays.setLong(1,e.getId());
          prepWays.setLong(2,i);
          prepWays.addBatch();
        }
        if (currentWaysCount >= BATCH_SIZE) {
          prepWays.executeBatch();
          currentWaysCount=0;
        }
      }
 else {
        for (        Entry<EntityId,String> i : ((Relation)e).getMembersMap().entrySet()) {
          currentRelationsCount++;
          prepRelations.setLong(1,e.getId());
          prepRelations.setLong(2,i.getKey().getId());
          prepRelations.setLong(3,i.getKey().getType().ordinal());
          prepRelations.setString(4,i.getValue());
          prepRelations.addBatch();
        }
        if (currentRelationsCount >= BATCH_SIZE) {
          prepRelations.executeBatch();
          currentRelationsCount=0;
        }
      }
    }
    if (createWholeOsmDB) {
      for (      Entry<String,String> i : e.getTags().entrySet()) {
        currentTagsCount++;
        prepTags.setLong(1,e.getId());
        prepTags.setLong(2,EntityType.valueOf(e).ordinal());
        prepTags.setString(3,i.getKey());
        prepTags.setString(4,i.getValue());
        prepTags.addBatch();
      }
      if (currentTagsCount >= BATCH_SIZE) {
        prepTags.executeBatch();
        currentTagsCount=0;
      }
    }
  }
 catch (  SQLException ex) {
    log.error("Could not save in db",ex);
  }
  return processed || loadAllObjects;
}
