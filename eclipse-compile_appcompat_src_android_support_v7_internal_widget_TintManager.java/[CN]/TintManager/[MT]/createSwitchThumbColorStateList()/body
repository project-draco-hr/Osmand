{
  final int[][] states=new int[3][];
  final int[] colors=new int[3];
  int i=0;
  final ColorStateList thumbColor=getThemeAttrColorStateList(mContext,R.attr.colorSwitchThumbNormal);
  if (thumbColor != null && thumbColor.isStateful()) {
    states[i]=new int[]{-android.R.attr.state_enabled};
    colors[i]=thumbColor.getColorForState(states[i],0);
    i++;
    states[i]=new int[]{android.R.attr.state_checked};
    colors[i]=getThemeAttrColor(mContext,R.attr.colorControlActivated);
    i++;
    states[i]=new int[0];
    colors[i]=thumbColor.getDefaultColor();
    i++;
  }
 else {
    states[i]=new int[]{-android.R.attr.state_enabled};
    colors[i]=getDisabledThemeAttrColor(mContext,R.attr.colorSwitchThumbNormal);
    i++;
    states[i]=new int[]{android.R.attr.state_checked};
    colors[i]=getThemeAttrColor(mContext,R.attr.colorControlActivated);
    i++;
    states[i]=new int[0];
    colors[i]=getThemeAttrColor(mContext,R.attr.colorSwitchThumbNormal);
    i++;
  }
  return new ColorStateList(states,colors);
}
