{
  OsmandApplication context=fragment.getMyActivity().getMyApplication();
  final OsmandSettings.CommonPreference<Boolean> shouldUpdatePreference=preferenceLiveUpdatesOn(item,fragment.getSettings());
  IncrementalChangesManager changesManager=context.getResourceManager().getChangesManager();
  final String fileNameWithoutExtension=Algorithms.getFileNameWithoutExtension(new File(item.getFileName()));
  nameTextView.setText(getNameToDisplay(item));
  if (shouldUpdatePreference.get()) {
    final Integer frequencyId=preferenceUpdateFrequency(item,fragment.getSettings()).get();
    final UpdateFrequency frequency=UpdateFrequency.values()[frequencyId];
    subheaderTextView.setText(frequency.toString());
    subheaderTextView.setTextColor(fragment.getActivity().getResources().getColor(R.color.osmand_orange));
    icon.setImageDrawable(context.getIconsCache().getIcon(R.drawable.ic_map,R.color.osmand_orange));
    options.setImageDrawable(getSecondaryColorPaintedIcon(R.drawable.ic_overflow_menu_white));
  }
 else {
    String size;
    long updatesSize=changesManager.getUpdatesSize(fileNameWithoutExtension);
    updatesSize/=(1 << 10);
    if (updatesSize > 100) {
      size=DownloadActivity.formatMb.format(new Object[]{(float)updatesSize / (1 << 10)});
    }
 else {
      size=updatesSize + " KB";
    }
    subheaderTextView.setText(size);
    subheaderTextView.setTextColor(secondaryColor);
    icon.setImageDrawable(getSecondaryColorPaintedIcon(R.drawable.ic_map));
    options.setImageDrawable(getSecondaryColorPaintedIcon(R.drawable.ic_action_plus));
  }
  final long timestamp=changesManager.getTimestamp(fileNameWithoutExtension);
  String formattedDate=LiveUpdatesFragment.formatDateTime(fragment.getActivity(),timestamp);
  descriptionTextView.setText(context.getString(R.string.last_update,formattedDate));
  final View.OnClickListener clickListener=new View.OnClickListener(){
    @Override public void onClick(    View v){
      final FragmentManager fragmentManager=fragment.getChildFragmentManager();
      LiveUpdatesSettingsDialogFragment.createInstance(item).show(fragmentManager,"settings");
    }
  }
;
  options.setOnClickListener(clickListener);
  view.setOnClickListener(clickListener);
}
