{
  View view=inflater.inflate(R.layout.fragment_live_updates,container,false);
  listView=(ExpandableListView)view.findViewById(android.R.id.list);
  View bottomShadowView=inflater.inflate(R.layout.shadow_bottom,listView,false);
  listView.addFooterView(bottomShadowView);
  adapter=new LocalIndexesAdapter(this);
  listView.setAdapter(adapter);
  listView.setOnChildClickListener(new ExpandableListView.OnChildClickListener(){
    @Override public boolean onChildClick(    ExpandableListView parent,    View v,    int groupPosition,    int childPosition,    long id){
      final FragmentManager fragmentManager=getChildFragmentManager();
      LiveUpdatesSettingsDialogFragment.createInstance(adapter.getChild(groupPosition,childPosition)).show(fragmentManager,"settings");
      return true;
    }
  }
);
  subscriptionHeader=inflater.inflate(R.layout.live_updates_header,listView,false);
  updateHeader();
  listView.addHeaderView(subscriptionHeader);
  loadLocalIndexesTask=new LoadLocalIndexTask(adapter,this).execute();
  return view;
}
