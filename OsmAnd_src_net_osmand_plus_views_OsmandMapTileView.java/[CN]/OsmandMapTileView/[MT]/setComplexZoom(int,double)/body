{
  if (mainLayer != null && zoom <= mainLayer.getMaximumShownMapZoom() && zoom >= mainLayer.getMinimumShownMapZoom()) {
    animatedDraggingThread.stopAnimating();
    currentViewport.setZoomWithAnimate(zoom,0);
    currentViewport.setMapDensity(mapDensity);
    currentViewport.setRotate(zoom > LOWEST_ZOOM_TO_ROTATE ? rotate : 0);
    refreshMap();
  }
}
