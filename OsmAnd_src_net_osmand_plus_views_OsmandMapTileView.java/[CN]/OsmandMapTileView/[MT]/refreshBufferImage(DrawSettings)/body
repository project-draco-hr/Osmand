{
  if (!baseHandler.hasMessages(BASE_REFRESH_MESSAGE) || drawSettings.isUpdateVectorRendering()) {
    Message msg=Message.obtain(handler,new Runnable(){
      @Override public void run(){
        if (bufferBitmap == null) {
          System.out.println("St " + System.currentTimeMillis());
        }
        baseHandler.removeMessages(BASE_REFRESH_MESSAGE);
        refreshBaseMapInternal(currentViewport.copy(),drawSettings);
        sendRefreshMapMsg(drawSettings,0);
        if (bufferBitmapTmp == null) {
          System.out.println("End " + System.currentTimeMillis());
        }
      }
    }
);
    msg.what=BASE_REFRESH_MESSAGE;
    baseHandler.sendMessage(msg);
  }
}
