{
  if (!baseHandler.hasMessages(BASE_REFRESH_MESSAGE) || drawSettings.isUpdateVectorRendering()) {
    Message msg=Message.obtain(baseHandler,new Runnable(){
      @Override public void run(){
        baseHandler.removeMessages(BASE_REFRESH_MESSAGE);
        try {
          refreshBaseMapInternal(currentViewport.copy(),drawSettings);
          sendRefreshMapMsg(drawSettings,0);
        }
 catch (        Exception e) {
          log.error(e.getMessage(),e);
        }
      }
    }
);
    msg.what=BASE_REFRESH_MESSAGE;
    baseHandler.sendMessage(msg);
  }
}
