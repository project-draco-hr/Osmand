{
  if (isMapRotateEnabled()) {
    return (rotateCos * dx + rotateSin * dy) / getTileSize();
  }
 else {
    return dx / getTileSize();
  }
}
