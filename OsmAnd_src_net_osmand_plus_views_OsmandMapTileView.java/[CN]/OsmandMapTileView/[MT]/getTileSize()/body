{
  float res=map == null ? 256 : map.getTileSize();
  if (zoom != (int)zoom) {
    res*=(float)Math.pow(2,zoom - (int)zoom);
  }
  if (dm != null && dm.density > 1f && !OsmandSettings.isUsingHighResMaps(getSettings())) {
    res*=dm.density;
  }
  return res;
}
