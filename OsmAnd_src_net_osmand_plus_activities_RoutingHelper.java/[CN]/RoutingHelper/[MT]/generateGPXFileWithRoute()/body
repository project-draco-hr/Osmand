{
  GPXFile gpx=new GPXFile();
  gpx.author=OSMAND_ROUTER;
  Track track=new Track();
  gpx.tracks.add(track);
  TrkSegment trkSegment=new TrkSegment();
  track.segments.add(trkSegment);
  int cRoute=currentRoute;
  int cDirInfo=currentDirectionInfo;
  for (int i=cRoute; i < routeNodes.size(); i++) {
    Location loc=routeNodes.get(i);
    WptPt pt=new WptPt();
    pt.lat=loc.getLatitude();
    pt.lon=loc.getLongitude();
    if (loc.hasSpeed()) {
      pt.speed=loc.getSpeed();
    }
    if (loc.hasAltitude()) {
      pt.ele=loc.getAltitude();
    }
    if (loc.hasAccuracy()) {
      pt.hdop=loc.getAccuracy();
    }
    trkSegment.points.add(pt);
  }
  return gpx;
}
