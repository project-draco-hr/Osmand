{
  if (directionInfo != null && currentDirectionInfo < directionInfo.size()) {
    int t=directionInfo.get(currentDirectionInfo).afterLeftTime;
    int e=directionInfo.get(currentDirectionInfo).expectedTime;
    if (e > 0) {
      int passedDist=listDistance[directionInfo.get(currentDirectionInfo).routePointOffset] - listDistance[currentRoute];
      int wholeDist=listDistance[directionInfo.get(currentDirectionInfo).routePointOffset];
      if (currentDirectionInfo < directionInfo.size() - 1) {
        wholeDist-=listDistance[directionInfo.get(currentDirectionInfo + 1).routePointOffset];
      }
      if (wholeDist > 0) {
        t=(int)(t + ((float)e) * (1 - (float)passedDist / (float)wholeDist));
      }
    }
    return t;
  }
  return 0;
}
