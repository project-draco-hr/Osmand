{
  if (culled != null && !culled.isEmpty() && QuadRect.trivialOverlap(tileBox.getLatLonBounds(),trackBounds)) {
    Bitmap newBitmap=Bitmap.createBitmap(canvas.getWidth(),canvas.getHeight(),Bitmap.Config.ARGB_8888);
    Canvas canvas2=new Canvas(newBitmap);
    canvas2.rotate(-tileBox.getRotate(),tileBox.getCenterPixelX(),tileBox.getCenterPixelY());
    alphaPaint.setAlpha(255);
    float stroke=(p.getStrokeWidth() + 16) / 2;
    alphaPaint.setStrokeWidth(stroke * 2);
    float lastx=Float.NEGATIVE_INFINITY;
    float lasty=0;
    for (    GPXUtilities.WptPt pt : culled) {
      float x=tileBox.getPixXFromLatLon(pt.lat,pt.lon);
      float y=tileBox.getPixYFromLatLon(pt.lat,pt.lon);
      if (lastx != Float.NEGATIVE_INFINITY) {
        if (Math.min(x,lastx) < canvas.getWidth() + stroke && Math.max(x,lastx) > 0 - stroke && Math.min(y,lasty) < canvas.getHeight() + stroke && Math.max(y,lasty) > 0 - stroke) {
          alphaPaint.setColor(pt.colourARGB);
          canvas2.drawLine(lastx,lasty,x,y,alphaPaint);
        }
      }
      lastx=x;
      lasty=y;
    }
    canvas2.rotate(tileBox.getRotate(),tileBox.getCenterPixelX(),tileBox.getCenterPixelY());
    alphaPaint.setAlpha(alpha);
    canvas.drawBitmap(newBitmap,0,0,alphaPaint);
  }
}
