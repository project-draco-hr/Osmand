{
  TIntArrayList tx=new TIntArrayList();
  TIntArrayList ty=new TIntArrayList();
  canvas.rotate(-tb.getRotate(),tb.getCenterPixelX(),tb.getCenterPixelY());
  Path path=new Path();
  for (int i=startIndex; i <= endIndex; i++) {
    GPXUtilities.WptPt p=pts.get(i);
    tx.add((int)(tb.getPixXFromLatLon(p.lat,p.lon) + 0.5));
    ty.add((int)(tb.getPixYFromLatLon(p.lat,p.lon) + 0.5));
  }
  calculatePath(tb,tx,ty,path);
  if (shadow) {
    float sw=paint.getStrokeWidth();
    int col=paint.getColor();
    paint.setColor(Color.BLACK);
    paint.setStrokeWidth(sw + 4);
    canvas.drawPath(path,paint);
    paint.setStrokeWidth(sw);
    paint.setColor(col);
    canvas.drawPath(path,paint);
  }
 else   canvas.drawPath(path,paint);
  canvas.rotate(tb.getRotate(),tb.getCenterPixelX(),tb.getCenterPixelY());
}
