{
  final SherpafyCustomization c=(SherpafyCustomization)((OsmandApplication)getApplication()).getAppCustomization();
  new AsyncTask<TourInformation,Void,Void>(){
    private ProgressDialogImplementation dlg;
    protected void onPreExecute(){
      dlg=ProgressDialogImplementation.createProgressDialog(TourCommonActivity.this,"",getString(R.string.indexing_tour,""),ProgressDialog.STYLE_SPINNER);
    }
    @Override protected Void doInBackground(    TourInformation... params){
      c.selectTour(params[0],dlg);
      return null;
    }
    protected void onPostExecute(    Void result){
      dlg.getDialog().dismiss();
      for (      WeakReference<Fragment> ref : fragList) {
        Fragment f=ref.get();
        if (f instanceof TourFragment) {
          if (!f.isDetached()) {
            ((TourFragment)f).refreshTour();
          }
        }
      }
    }
  }
.execute(ti);
}
