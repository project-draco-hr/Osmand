{
  View row=convertView;
  if (row == null) {
    LayoutInflater inflater=getMyActivity().getLayoutInflater();
    row=inflater.inflate(R.layout.expandable_list_item_category_btn,parent,false);
    fixBackgroundRepeat(row);
  }
  if (isArgumentTrue(ARG_TO_EXPAND_TRACK_INFO)) {
    row.findViewById(R.id.explist_indicator).setVisibility(View.GONE);
  }
 else {
    adjustIndicator(groupPosition,isExpanded,row);
  }
  TextView label=(TextView)row.findViewById(R.id.category_name);
  final GpxDisplayGroup model=getGroup(groupPosition);
  label.setText(model.getGroupName());
  final ImageView ch=(ImageView)row.findViewById(R.id.check_item);
  if (isArgumentTrue(ARG_TO_HIDE_CONFIG_BTN)) {
    ch.setVisibility(View.GONE);
  }
 else   if (model.getType() == GpxDisplayItemType.TRACK_SEGMENT) {
    ch.setVisibility(View.VISIBLE);
    ch.setImageDrawable(getMyActivity().getResources().getDrawable(app.getSettings().isLightContent() ? R.drawable.ic_action_settings_light : R.drawable.ic_action_settings_dark));
    ch.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        selectSplitDistance(model);
      }
    }
);
  }
 else   if (model.getType() == GpxDisplayItemType.TRACK_POINTS || model.getType() == GpxDisplayItemType.TRACK_ROUTE_POINTS) {
    ch.setVisibility(View.VISIBLE);
    ch.setImageDrawable(getMyActivity().getResources().getDrawable(app.getSettings().isLightContent() ? R.drawable.ic_action_fav_light : R.drawable.ic_action_fav_dark));
    ch.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        saveAsFavorites(model);
      }
    }
);
  }
 else {
    ch.setVisibility(View.INVISIBLE);
  }
  return row;
}
