{
  if (followSpeedLimitations) {
    float m=road.getMaximumSpeed();
    if (m > 0) {
      return m;
    }
  }
  Double value=null;
  for (int i=0; i < road.types.length; i++) {
    RouteTypeRule r=road.region.quickGetEncodingRule(road.types[i]);
    String highway=r.highwayRoad();
    if (highway != null && highwaySpeed.containsKey(highway)) {
      value=highwaySpeed.get(highway);
      break;
    }
 else     if (highwaySpeed.containsKey(r.getTag() + "$" + r.getValue())) {
      value=highwaySpeed.get(r.getTag() + "$" + r.getValue());
      break;
    }
  }
  if (value == null) {
    value=minDefaultSpeed;
  }
  return value / 3.6d;
}
