{
  if (followSpeedLimitations) {
    RouteRegion reg=road.region;
    int sz=road.types.length;
    for (int i=0; i < sz; i++) {
      RouteTypeRule r=reg.quickGetEncodingRule(road.types[i]);
      float maxSpeed=r.maxSpeed();
      if (maxSpeed > 0) {
        return maxSpeed;
      }
    }
  }
  Double value=highwaySpeed.get(road.getHighway());
  if (value == null) {
    value=minDefaultSpeed;
  }
  return value / 3.6d;
}
