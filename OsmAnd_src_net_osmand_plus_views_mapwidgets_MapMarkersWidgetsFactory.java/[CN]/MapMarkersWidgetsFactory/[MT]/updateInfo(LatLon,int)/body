{
  if (!map.getMyApplication().getSettings().USE_MAP_MARKERS.get()) {
    return;
  }
  List<MapMarker> markers=helper.getMapMarkersPositions();
  if (zoom < 3 || markers.size() == 0 || !map.getMyApplication().getSettings().SHOW_MAP_MARKERS_TOOLBAR.get() || map.getMyApplication().getRoutingHelper().isFollowingMode() || map.getMyApplication().getRoutingHelper().isRoutePlanningMode() || map.getMapLayers().getMapControlsLayer().getMapRouteInfoMenu().isVisible()) {
    updateVisibility(false);
    return;
  }
  LatLon loc=null;
  if (customLocation != null) {
    loc=customLocation;
  }
 else {
    Location l=map.getMapViewTrackingUtilities().getMyLocation();
    if (l != null) {
      loc=new LatLon(l.getLatitude(),l.getLongitude());
    }
  }
  Float heading=map.getMapViewTrackingUtilities().getHeading();
  MapMarker marker=markers.get(0);
  updateUI(loc,heading,marker,arrowImg,distText,okButton,addressText,true);
  if (markers.size() > 1) {
    marker=markers.get(1);
    updateUI(loc,heading,marker,arrowImg2nd,distText2nd,okButton2nd,addressText2nd,false);
    updateVisibility(topBar2nd,true);
  }
 else {
    updateVisibility(topBar2nd,false);
  }
  updateVisibility(true);
}
