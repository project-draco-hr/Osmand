{
  long timeToStart=System.currentTimeMillis();
  if (Version.getAppName(this).equals("OsmAnd~")) {
    if (android.os.Build.VERSION.SDK_INT >= 9) {
      try {
        Class.forName("net.osmand.plus.base.EnableStrictMode").newInstance();
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
    }
  }
  super.onCreate();
  createInUiThread();
  uiHandler=new Handler();
  if (Version.isSherpafy(this)) {
    appCustomization=new SherpafyCustomization();
  }
 else {
    appCustomization=new OsmAndAppCustomization();
  }
  appCustomization.setup(this);
  osmandSettings=appCustomization.getOsmandSettings();
  appInitializer.onCreateApplication();
  checkPreferredLocale();
  startApplication();
  if (LOG.isInfoEnabled()) {
    LOG.info("Time to start application " + (System.currentTimeMillis() - timeToStart) + " ms. Should be less < 800 ms");
  }
  timeToStart=System.currentTimeMillis();
  appInitializer.initPlugins();
  if (LOG.isInfoEnabled()) {
    LOG.info("Time to init plugins " + (System.currentTimeMillis() - timeToStart) + " ms. Should be less < 800 ms");
  }
}
