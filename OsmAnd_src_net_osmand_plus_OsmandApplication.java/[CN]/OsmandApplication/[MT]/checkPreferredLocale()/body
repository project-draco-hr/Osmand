{
  Configuration config=getBaseContext().getResources().getConfiguration();
  String lang=osmandSettings.PREFERRED_LOCALE.get();
  if (!"".equals(lang) && !config.locale.getLanguage().equals(lang)) {
    preferredLocale=new Locale(lang);
    Locale.setDefault(preferredLocale);
    config.locale=preferredLocale;
    getBaseContext().getResources().updateConfiguration(config,getBaseContext().getResources().getDisplayMetrics());
  }
  String clang="".equals(lang) ? config.locale.getLanguage() : lang;
  resourceManager.getOsmandRegions().setLocale(clang);
}
