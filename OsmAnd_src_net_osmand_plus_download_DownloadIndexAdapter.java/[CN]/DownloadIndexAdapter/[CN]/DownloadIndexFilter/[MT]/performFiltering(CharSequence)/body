{
  FilterResults results=new FilterResults();
  if (constraint == null || constraint.length() == 0) {
    results.values=indexFiles;
    results.count=indexFiles.size();
  }
 else {
    String[] ors=constraint.toString().split("\\,");
    List<List<String>> conds=new ArrayList<List<String>>();
    for (    String or : ors) {
      final ArrayList<String> cond=new ArrayList<String>();
      for (      String term : or.split("\\s")) {
        final String t=term.trim().toLowerCase();
        if (t.length() > 0) {
          cond.add(t);
        }
      }
      if (cond.size() > 0) {
        conds.add(cond);
      }
    }
    List<IndexItem> filter=new ArrayList<IndexItem>();
    Context c=downloadActivity;
    for (    IndexItem item : indexFiles) {
      boolean add=true;
      String indexLC=osmandRegions.getDownloadNameIndexLowercase(item.getBasename());
      if (indexLC == null) {
        item.getVisibleName(c,osmandRegions).toLowerCase();
      }
      for (      List<String> or : conds) {
        boolean tadd=true;
        for (        String var : or) {
          if (!indexLC.contains(var)) {
            tadd=false;
            break;
          }
        }
        if (!tadd) {
          add=false;
        }
 else {
          add=true;
          break;
        }
      }
      if (add) {
        filter.add(item);
      }
    }
    results.values=filter;
    results.count=filter.size();
  }
  return results;
}
