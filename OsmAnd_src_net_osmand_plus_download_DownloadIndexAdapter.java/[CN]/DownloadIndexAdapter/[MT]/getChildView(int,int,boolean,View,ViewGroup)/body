{
  View v=convertView;
  if (v == null) {
    LayoutInflater inflater=(LayoutInflater)downloadFragment.getDownloadActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    v=inflater.inflate(net.osmand.plus.R.layout.download_index_list_item,parent,false);
  }
  final View row=v;
  TextView name=(TextView)row.findViewById(R.id.name);
  TextView update=(TextView)row.findViewById(R.id.update_descr);
  update.setText("");
  TextView uptodate=(TextView)row.findViewById(R.id.uptodate_descr);
  uptodate.setText("");
  TextView description=(TextView)row.findViewById(R.id.download_descr);
  IndexItem e=(IndexItem)getChild(groupPosition,childPosition);
  OsmandApplication clctx=downloadFragment.getMyApplication();
  String eName=e.getVisibleName(clctx,osmandRegions);
  name.setText(eName.trim());
  String d=e.getDate(format) + " " + e.getSizeDescription(clctx);
  description.setText(d.trim());
  CheckBox ch=(CheckBox)row.findViewById(R.id.check_download_item);
  ch.setChecked(downloadFragment.getDownloadActivity().getEntriesToDownload().containsKey(e));
  ch.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      final CheckBox ch=(CheckBox)v.findViewById(R.id.check_download_item);
      ch.setChecked(!ch.isChecked());
      downloadFragment.onChildClick(downloadFragment.getExpandableListView(),row,groupPosition,childPosition,getChildId(groupPosition,childPosition));
    }
  }
);
  if (indexFileNames != null && e.isAlreadyDownloaded(indexFileNames)) {
    if (e.getType() == DownloadActivityType.HILLSHADE_FILE) {
      String sfName=e.getTargetFileName();
      if (indexActivatedFileNames.containsKey(sfName)) {
        name.setTypeface(Typeface.DEFAULT,Typeface.NORMAL);
      }
 else       if (e.getType() == DownloadActivityType.HILLSHADE_FILE) {
        name.setTypeface(Typeface.DEFAULT,Typeface.NORMAL);
      }
 else {
        name.setTypeface(Typeface.DEFAULT,Typeface.ITALIC);
      }
    }
 else {
      String sfName=e.getTargetFileName();
      final boolean updatableResource=indexActivatedFileNames.containsKey(sfName);
      String date=updatableResource ? indexActivatedFileNames.get(sfName) : indexFileNames.get(sfName);
      boolean outdated=DownloadActivity.downloadListIndexThread.checkIfItemOutdated(e);
      String updateDescr=downloadFragment.getResources().getString(R.string.local_index_installed) + ": " + date;
      uptodate.setText(updateDescr);
      update.setText(updateDescr);
      uptodate.setVisibility(!outdated ? View.VISIBLE : View.GONE);
      update.setVisibility(!outdated ? View.GONE : View.VISIBLE);
    }
  }
  return row;
}
