{
  this.downloadActivity=downloadActivity;
  this.indexFiles=new ArrayList<IndexItem>(indexFiles);
  List<IndexItemCategory> cats=IndexItemCategory.categorizeIndexItems(downloadActivity.getMyApplication(),indexFiles);
synchronized (this) {
    list.clear();
    list.addAll(cats);
  }
  format=downloadActivity.getMyApplication().getResourceManager().getDateFormat();
  okColor=downloadActivity.getResources().getColor(R.color.color_ok);
  TypedArray ta=downloadActivity.getDownloadActivity().getTheme().obtainStyledAttributes(new int[]{android.R.attr.textColorPrimary});
  defaultColor=ta.getColor(0,downloadActivity.getResources().getColor(R.color.color_unknown));
  ta.recycle();
  updateColor=downloadActivity.getResources().getColor(R.color.color_update);
  osmandRegions=downloadActivity.getMyApplication().getResourceManager().getOsmandRegions();
}
