{
  this.downloadFragment=downloadFragment;
  this.indexFiles=new ArrayList<IndexItem>(indexFiles);
  app=downloadFragment.getMyApplication();
  List<IndexItemCategory> cats=IndexItemCategory.categorizeIndexItems(app,indexFiles);
synchronized (this) {
    list.clear();
    list.addAll(cats);
  }
  format=downloadFragment.getMyApplication().getResourceManager().getDateFormat();
  okColor=downloadFragment.getResources().getColor(R.color.color_ok);
  TypedArray ta=downloadFragment.getDownloadActivity().getTheme().obtainStyledAttributes(new int[]{android.R.attr.textColorPrimary});
  defaultColor=ta.getColor(0,downloadFragment.getResources().getColor(R.color.color_unknown));
  ta.recycle();
  updateColor=downloadFragment.getResources().getColor(R.color.color_update);
  osmandRegions=downloadFragment.getMyApplication().getResourceManager().getOsmandRegions();
}
