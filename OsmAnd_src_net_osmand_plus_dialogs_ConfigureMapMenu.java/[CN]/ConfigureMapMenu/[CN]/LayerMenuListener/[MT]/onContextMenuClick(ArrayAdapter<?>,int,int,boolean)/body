{
  OsmandSettings settings=ma.getMyApplication().getSettings();
  if (itemId == R.string.layer_poi) {
    if (isChecked) {
      ma.getMapLayers().selectPOIFilterLayer(ma.getMapView(),null);
    }
    settings.SHOW_POI_OVER_MAP.set(isChecked);
  }
 else   if (itemId == R.string.layer_amenity_label) {
    settings.SHOW_POI_LABEL.set(isChecked);
  }
 else   if (itemId == R.string.layer_favorites) {
    settings.SHOW_FAVORITES.set(isChecked);
  }
 else   if (itemId == R.string.layer_gpx_layer) {
    if (ma.getMyApplication().getSelectedGpxHelper().isShowingAnyGpxFiles()) {
      ma.getMyApplication().getSelectedGpxHelper().clearAllGpxFileToShow();
    }
 else {
      ma.getMapLayers().showGPXFileLayer(getAlreadySelectedGpx(),ma.getMapView());
    }
    adapter.item(R.string.layer_gpx_layer).selected(app.getSelectedGpxHelper().isShowingAnyGpxFiles() ? 1 : 0).icons(R.drawable.ic_action_polygom_dark,R.drawable.ic_action_polygom_light).listen(l).reg();
  }
 else   if (itemId == R.string.layer_transport_route) {
    ma.getMapLayers().getTransportInfoLayer().setVisible(isChecked);
  }
  ma.getMapLayers().updateLayers(ma.getMapView());
  ma.getMapView().refreshMap();
  return false;
}
