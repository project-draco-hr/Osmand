{
  ContextMenuAdapter adapter=new ContextMenuAdapter(ma,allModes);
  adapter.setDefaultLayoutId(R.layout.drawer_list_item);
  adapter.item(R.string.app_modes_choose).layout(R.layout.mode_toggles).reg();
  adapter.setChangeAppModeListener(new OnClickListener(){
    @Override public void onClick(    boolean result){
      allModes=true;
      ma.getDashboard().updateListAdapter(createListAdapter(ma));
    }
  }
);
  createLayersItems(adapter,ma);
  createRenderingAttributeItems(adapter,ma);
  adapter.item(R.string.layer_map_appearance).iconColor(R.drawable.ic_configure_screen_dark).listen(new OnContextMenuClick(){
    @Override public boolean onContextMenuClick(    ArrayAdapter<?> adapter,    int itemId,    int pos,    boolean isChecked){
      ma.getDashboard().setDashboardVisibility(true,DashboardType.CONFIGURE_SCREEN);
      return false;
    }
  }
).reg();
  return adapter;
}
