{
  final List<RenderingRuleProperty> ps=new ArrayList<>();
  final List<OsmandSettings.CommonPreference<Boolean>> prefs=new ArrayList<>();
  Iterator<RenderingRuleProperty> it=customRules.iterator();
  while (it.hasNext()) {
    RenderingRuleProperty p=it.next();
    if (category.equals(p.getCategory()) && p.isBoolean()) {
      ps.add(p);
      final OsmandSettings.CommonPreference<Boolean> pref=activity.getMyApplication().getSettings().getCustomRenderBooleanProperty(p.getAttrName());
      prefs.add(pref);
      it.remove();
    }
  }
  if (prefs.size() > 0) {
    final String descr=getDescription(prefs);
    adapter.addItem(new ContextMenuItem.ItemBuilder().setTitleId(strId,activity).setDescription(descr).setLayout(R.layout.list_item_single_line_descrition_narrow).setIcon(icon).setListener(new ContextMenuAdapter.ItemClickListener(){
      @Override public boolean onContextMenuClick(      ArrayAdapter<ContextMenuItem> a,      int itemId,      int pos,      boolean isChecked){
        showPreferencesDialog(adapter,a,pos,activity,activity.getString(strId),ps,prefs);
        return false;
      }
    }
).createItem());
  }
}
