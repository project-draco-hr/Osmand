{
  for (  File f : getSortedFiles(osmDirFiles)) {
    if (alreadyGeneratedFiles.contains(f.getName())) {
      continue;
    }
    if (f.getName().endsWith(".osm.bz2") || f.getName().endsWith(".osm") || f.getName().endsWith(".osm.pbf")) {
      if (skipExistingIndexes != null) {
        int i=f.getName().indexOf(".osm");
        String name=Algoritms.capitalizeFirstLetterAndLowercase(f.getName().substring(0,i));
        File bmif=new File(skipExistingIndexes,name + "_" + IndexConstants.BINARY_MAP_VERSION+ IndexConstants.BINARY_MAP_INDEX_EXT_ZIP);
        log.info("Check if " + bmif.getAbsolutePath() + " exists");
        if (bmif.exists()) {
          continue;
        }
      }
      generateIndex(f,null,null,alreadyGeneratedFiles);
    }
  }
  log.info("GENERATING INDEXES FINISHED ");
}
