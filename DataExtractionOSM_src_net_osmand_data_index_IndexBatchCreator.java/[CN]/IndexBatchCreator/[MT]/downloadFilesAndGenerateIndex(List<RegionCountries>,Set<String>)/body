{
  for (  RegionCountries regionCountries : countriesToDownload) {
    String prefix=regionCountries.namePrefix;
    String site=regionCountries.siteToDownload;
    String suffix=regionCountries.nameSuffix;
    for (    String name : regionCountries.regionNames.keySet()) {
      name=name.toLowerCase();
      RegionSpecificData regionSpecificData=regionCountries.regionNames.get(name);
      String url=MessageFormat.format(site,name);
      String regionName=prefix + name;
      String fileName=Algoritms.capitalizeFirstLetterAndLowercase(prefix + name + suffix);
      if (skipExistingIndexes != null) {
        File bmif=new File(skipExistingIndexes,fileName + "_" + IndexConstants.BINARY_MAP_VERSION+ IndexConstants.BINARY_MAP_INDEX_EXT);
        File bmifz=new File(skipExistingIndexes,bmif.getName() + ".zip");
        if (bmif.exists() || bmifz.exists()) {
          continue;
        }
      }
      File toSave=downloadFile(url,fileName,alreadyGeneratedFiles);
      if (toSave != null) {
        generateIndex(toSave,regionName,regionSpecificData,alreadyGeneratedFiles);
      }
    }
  }
}
