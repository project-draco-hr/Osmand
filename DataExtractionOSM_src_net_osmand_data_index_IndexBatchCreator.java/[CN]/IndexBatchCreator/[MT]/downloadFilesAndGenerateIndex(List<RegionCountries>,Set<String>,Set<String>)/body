{
  for (  RegionCountries regionCountries : countriesToDownload) {
    String prefix=regionCountries.namePrefix;
    String site=regionCountries.siteToDownload;
    String suffix=regionCountries.nameSuffix;
    for (    String name : regionCountries.regionNames.keySet()) {
      name=name.toLowerCase();
      RegionSpecificData regionSpecificData=regionCountries.regionNames.get(name);
      String url=MessageFormat.format(site,name);
      String regionName=prefix + name;
      String fileName=prefix + name + suffix;
      File bmif=new File(indexDirFiles,fileName + "_" + IndexConstants.BINARY_MAP_VERSION+ IndexConstants.BINARY_MAP_INDEX_EXT);
      if (skipGeneratedIndexes && bmif.exists()) {
        continue;
      }
      File toSave=downloadFile(url,fileName,alreadyGeneratedFiles,alreadyUploadedFiles);
      if (toSave != null && generateIndexes) {
        generateIndex(toSave,regionName,regionSpecificData,alreadyGeneratedFiles,alreadyUploadedFiles);
      }
    }
  }
  System.out.println("DOWNLOADING FILES FINISHED");
}
