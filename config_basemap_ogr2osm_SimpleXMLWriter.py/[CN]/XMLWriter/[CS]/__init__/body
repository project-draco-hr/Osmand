def __init__(self, file, encoding='us-ascii'):
    if (not hasattr(file, 'write')):
        file = open(file, 'w')
    self.__write = file.write
    if hasattr(file, 'flush'):
        self.flush = file.flush
    self.__open = 0
    self.__tags = []
    self.__data = []
    self.__encoding = encoding
