def __flush(self):
    if self.__open:
        self.__write('>')
        self.__open = 0
    if self.__data:
        data = string.join(self.__data, '')
        self.__write(escape_cdata(data, self.__encoding))
        self.__data = []
