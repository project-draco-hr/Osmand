{
  routes.clear();
  List<TransportIndexRepository> reps=getMapActivity().getMyApplication().getResourceManager().searchTransportRepositories(transportStop.getLocation().getLatitude(),transportStop.getLocation().getLongitude());
  boolean useEnglishNames=getMapActivity().getMyApplication().getSettings().usingEnglishNames();
  for (  TransportIndexRepository t : reps) {
    if (t.acceptTransportStop(transportStop)) {
      addRoutes(useEnglishNames,t,transportStop,0);
      ArrayList<TransportStop> ls=new ArrayList<>();
      QuadRect ll=MapUtils.calculateLatLonBbox(transportStop.getLocation().getLatitude(),transportStop.getLocation().getLongitude(),150);
      t.searchTransportStops(ll.top,ll.left,ll.bottom,ll.right,-1,ls,null);
      for (      TransportStop tstop : ls) {
        if (tstop.getId() != transportStop.getId() || !Arrays.equals(tstop.getReferencesToRoutes(),transportStop.getReferencesToRoutes())) {
          addRoutes(useEnglishNames,t,tstop,(int)MapUtils.getDistance(tstop.getLocation(),transportStop.getLocation()));
        }
      }
    }
  }
}
