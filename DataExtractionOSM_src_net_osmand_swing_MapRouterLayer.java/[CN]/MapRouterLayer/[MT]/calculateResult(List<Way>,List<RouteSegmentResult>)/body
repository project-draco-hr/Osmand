{
  net.osmand.osm.Node prevWayNode=null;
  for (  RouteSegmentResult s : searchRoute) {
    Way way=new Way(-1);
    String name=s.getDescription();
    if (s.getTurnType() != null) {
      name+=" (TA " + s.getTurnType().getTurnAngle() + ") ";
    }
    way.putTag(OSMTagKey.NAME.getValue(),name);
    boolean plus=s.getStartPointIndex() < s.getEndPointIndex();
    int i=s.getStartPointIndex();
    while (true) {
      LatLon l=s.getPoint(i);
      net.osmand.osm.Node n=new net.osmand.osm.Node(l.getLatitude(),l.getLongitude(),-1);
      if (prevWayNode != null) {
        if (MapUtils.getDistance(prevWayNode,n) > 0) {
          System.out.println("Warning not connected road " + " " + s.getObject().id + " dist "+ MapUtils.getDistance(prevWayNode,n));
        }
        prevWayNode=null;
      }
      way.addNode(n);
      if (i == s.getEndPointIndex()) {
        break;
      }
      if (plus) {
        i++;
      }
 else {
        i--;
      }
    }
    if (way.getNodes().size() > 0) {
      prevWayNode=way.getNodes().get(way.getNodes().size() - 1);
    }
    res.add(way);
  }
}
