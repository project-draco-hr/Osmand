{
  requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);
  super.onCreate(savedInstanceState);
  setContentView(R.layout.local_index);
  getSupportActionBar().setTitle(R.string.local_index_descr_title);
  setSupportProgressBarIndeterminateVisibility(false);
  descriptionLoader=new LoadLocalIndexDescriptionTask();
  listAdapter=new LocalIndexesAdapter(this);
  getExpandableListView().setOnCreateContextMenuListener(new View.OnCreateContextMenuListener(){
    @Override public void onCreateContextMenu(    ContextMenu menu,    View v,    ContextMenuInfo menuInfo){
      long packedPos=((ExpandableListContextMenuInfo)menuInfo).packedPosition;
      int group=ExpandableListView.getPackedPositionGroup(packedPos);
      int child=ExpandableListView.getPackedPositionChild(packedPos);
      if (child >= 0 && group >= 0) {
        final LocalIndexInfo point=(LocalIndexInfo)listAdapter.getChild(group,child);
        showContextMenu(point);
      }
    }
  }
);
  setListAdapter(listAdapter);
  updateDescriptionTextWithSize();
  if (asyncLoader == null || asyncLoader.getResult() == null) {
    Object indexes=getLastNonConfigurationInstance();
    asyncLoader=new LoadLocalIndexTask();
    if (indexes instanceof List<?>) {
      asyncLoader.setResult((List<LocalIndexInfo>)indexes);
    }
  }
}
