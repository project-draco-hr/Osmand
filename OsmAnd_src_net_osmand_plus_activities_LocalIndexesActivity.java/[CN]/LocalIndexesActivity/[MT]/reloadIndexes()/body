{
  listAdapter.clear();
  asyncLoader=new LoadLocalIndexTask();
  AsyncTask<Void,String,List<String>> task=new AsyncTask<Void,String,List<String>>(){
    @Override protected void onPostExecute(    List<String> warnings){
      findViewById(R.id.ProgressBar).setVisibility(View.GONE);
      if (!warnings.isEmpty()) {
        final StringBuilder b=new StringBuilder();
        boolean f=true;
        for (        String w : warnings) {
          if (f) {
            f=false;
          }
 else {
            b.append('\n');
          }
          b.append(w);
        }
        Toast.makeText(LocalIndexesActivity.this,b.toString(),Toast.LENGTH_LONG).show();
      }
      asyncLoader.execute(LocalIndexesActivity.this);
    }
    @Override protected void onPreExecute(){
      super.onPreExecute();
      findViewById(R.id.ProgressBar).setVisibility(View.VISIBLE);
    }
    @Override protected List<String> doInBackground(    Void... params){
      return ((OsmandApplication)getApplication()).getResourceManager().reloadIndexes(IProgress.EMPTY_PROGRESS);
    }
  }
;
  task.execute();
}
