{
  List<IndexItem> stillUpdate=new ArrayList<IndexItem>();
  for (  IndexItem item : itemsToUpdate) {
    String sfName=item.getTargetFileName();
    java.text.DateFormat format=uiActivity.getMyApplication().getResourceManager().getDateFormat();
    String date=item.getDate(format);
    String indexactivateddate=indexActivatedFileNames.get(sfName);
    String indexfilesdate=indexFileNames.get(sfName);
    if (date != null && !date.equals(indexactivateddate) && !date.equals(indexfilesdate) && indexActivatedFileNames.containsKey(sfName)) {
      stillUpdate.add(item);
    }
  }
  itemsToUpdate=stillUpdate;
  if (uiActivity != null) {
    uiActivity.updateDownloadList(itemsToUpdate);
  }
}
