{
  boolean outdated=false;
  String sfName=item.getTargetFileName();
  java.text.DateFormat format=app.getResourceManager().getDateFormat();
  String date=item.getDate(format);
  String indexactivateddate=indexActivatedFileNames.get(sfName);
  String indexfilesdate=indexFileNames.get(sfName);
  if (date != null && !date.equals(indexactivateddate) && !date.equals(indexfilesdate)) {
    if ((item.getType() == DownloadActivityType.NORMAL_FILE && !item.extra) || item.getType() == DownloadActivityType.ROADS_FILE || item.getType() == DownloadActivityType.WIKIPEDIA_FILE || item.getType() == DownloadActivityType.SRTM_COUNTRY_FILE) {
      outdated=true;
    }
 else {
      long itemSize=item.getContentSize();
      long oldItemSize=0;
      if (item.getType() == DownloadActivityType.VOICE_FILE) {
        if (item instanceof AssetIndexItem) {
          File file=new File(((AssetIndexItem)item).getDestFile());
          oldItemSize=file.length();
        }
 else {
          oldItemSize=new File(item.getType().getDownloadFolder(app,item),sfName + "/_config.p").length();
          try {
            InputStream is=ctx.getAssets().open("voice/" + sfName + "/config.p");
            if (is != null) {
              oldItemSize=is.available();
              is.close();
            }
          }
 catch (          IOException e) {
          }
        }
      }
      if (itemSize != oldItemSize) {
        outdated=true;
      }
    }
  }
  return outdated;
}
