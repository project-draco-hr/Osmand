{
  for (  Object o : values) {
    if (o instanceof DownloadEntry) {
      if (uiActivity != null) {
        uiActivity.downloadListUpdated();
        uiActivity.updateDownloadButton(false);
        DownloadEntry item=(DownloadEntry)o;
        String name=item.item.getBasename();
        long count=dbHelper.getCount(name,DatabaseHelper.DOWNLOAD_ENTRY) + 1;
        DatabaseHelper.HistoryEntry entry=new DatabaseHelper.HistoryEntry(name,count);
        if (count == 1) {
          dbHelper.add(entry,DatabaseHelper.DOWNLOAD_ENTRY);
        }
 else {
          dbHelper.update(entry,DatabaseHelper.DOWNLOAD_ENTRY);
        }
      }
    }
 else     if (o instanceof IndexItem) {
      entriesToDownload.remove(o);
      if (uiActivity != null) {
        uiActivity.downloadListUpdated();
        uiActivity.updateDownloadButton(false);
        IndexItem item=(IndexItem)o;
        long count=dbHelper.getCount(item.getBasename(),DatabaseHelper.DOWNLOAD_ENTRY) + 1;
        dbHelper.add(new DatabaseHelper.HistoryEntry(item.getBasename(),count),DatabaseHelper.DOWNLOAD_ENTRY);
      }
    }
 else     if (o instanceof String) {
      String message=(String)o;
      if (!message.equals("I/O error occurred : Interrupted")) {
        AccessibleToast.makeText(ctx,message,Toast.LENGTH_LONG).show();
      }
    }
  }
  super.onProgressUpdate(values);
}
