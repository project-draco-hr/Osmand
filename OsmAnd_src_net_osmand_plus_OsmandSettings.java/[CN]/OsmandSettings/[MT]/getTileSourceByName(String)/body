{
  List<TileSourceTemplate> list=TileSourceManager.getKnownSourceTemplates();
  File tPath=extendOsmandPath(ResourceManager.TILES_PATH);
  File dir=new File(tPath,tileName);
  if (dir.exists()) {
    if (tileName.endsWith(SQLiteTileSource.EXT)) {
      return new SQLiteTileSource(dir,list);
    }
 else     if (dir.isDirectory() && !dir.getName().startsWith(".")) {
      TileSourceTemplate t=TileSourceManager.createTileSourceTemplate(dir);
      if (!TileSourceManager.isTileSourceMetaInfoExist(dir)) {
        List<TileSourceTemplate> templates=getInternetAvailableSourceTemplates();
        if (templates != null) {
          list.addAll(templates);
        }
        for (        TileSourceTemplate l : list) {
          if (l.getName().equals(tileName)) {
            try {
              TileSourceManager.createMetaInfoFile(dir,l,true);
            }
 catch (            IOException e) {
            }
            return l;
          }
        }
      }
      return t;
    }
  }
  return null;
}
