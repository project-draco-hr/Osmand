{
  ctx=clientContext;
  this.settingsAPI=settinsAPI;
  globalPreferences=settingsAPI.getPreferenceObject(SHARED_PREFERENCES_NAME);
  currentMode=ApplicationMode.DEFAULT;
  defaultProfilePreferences=getProfilePreferences(ApplicationMode.DEFAULT);
  profilePreferences=defaultProfilePreferences;
  currentMode=readApplicationMode();
  profilePreferences=getProfilePreferences(currentMode);
}
