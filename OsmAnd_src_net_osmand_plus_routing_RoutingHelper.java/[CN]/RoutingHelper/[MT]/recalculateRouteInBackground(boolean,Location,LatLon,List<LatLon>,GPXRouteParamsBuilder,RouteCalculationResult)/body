{
  if (start == null || end == null) {
    return;
  }
  if (currentRunningJob == null) {
    if (force || System.currentTimeMillis() - lastTimeEvaluatedRoute > evalWaitInterval) {
      RouteCalculationParams params=new RouteCalculationParams();
      params.start=start;
      params.end=end;
      params.intermediates=intermediates;
      params.gpxRoute=gpxRoute == null ? null : gpxRoute.build(start,settings);
      params.previousToRecalculate=previousRoute;
      params.leftSide=settings.DRIVING_REGION.get().leftHandDriving;
      params.fast=settings.FAST_ROUTE_MODE.getModeValue(mode);
      params.type=settings.ROUTER_SERVICE.getModeValue(mode);
      params.mode=mode;
      params.ctx=app;
      if (previousRoute == null && params.type == RouteService.OSMAND) {
        params.calculationProgress=new RouteCalculationProgress();
        updateProgress(params.calculationProgress);
      }
synchronized (this) {
        currentRunningJob=new RouteRecalculationThread("Calculating route",params);
        currentRunningJob.start();
      }
    }
  }
}
