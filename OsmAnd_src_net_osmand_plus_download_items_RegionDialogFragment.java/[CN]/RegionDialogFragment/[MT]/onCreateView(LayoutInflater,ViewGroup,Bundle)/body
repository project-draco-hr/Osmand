{
  final View view=inflater.inflate(R.layout.maps_in_category_fragment,container,false);
  if (savedInstanceState != null) {
    regionId=savedInstanceState.getString(REGION_ID_DLG_KEY);
  }
  if (regionId == null) {
    regionId=getArguments().getString(REGION_ID_DLG_KEY);
  }
  Toolbar toolbar=(Toolbar)view.findViewById(R.id.toolbar);
  toolbar.setNavigationIcon(getMyApplication().getIconsCache().getIcon(R.drawable.abc_ic_ab_back_mtrl_am_alpha));
  toolbar.setNavigationOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      dismiss();
    }
  }
);
  if (regionId != null) {
    Fragment fragment=getChildFragmentManager().findFragmentById(R.id.fragmentContainer);
    if (fragment == null) {
      getChildFragmentManager().beginTransaction().add(R.id.fragmentContainer,RegionItemsFragment.createInstance(regionId)).commit();
    }
    WorldRegion region=getMyApplication().getWorldRegion().getRegionById(regionId);
    if (region != null) {
      toolbar.setTitle(region.getName());
    }
  }
  DownloadsUiHelper.initFreeVersionBanner(view,getMyApplication(),getResources());
  mProgressListener=new DownloadsUiHelper.MapDownloadListener(view,getResources()){
    @Override public void onProgressUpdate(    int progressPercentage,    int activeTasks){
      super.onProgressUpdate(progressPercentage,activeTasks);
    }
    @Override public void onFinished(){
      super.onFinished();
      DownloadsUiHelper.initFreeVersionBanner(view,getMyApplication(),getResources());
    }
  }
;
  return view;
}
