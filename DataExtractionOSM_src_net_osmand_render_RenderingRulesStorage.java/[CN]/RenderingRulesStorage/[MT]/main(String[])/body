{
  RenderingRulesStorage storage=new RenderingRulesStorage();
  storage.parseRulesFromXmlInputStream(RenderingRulesStorage.class.getResourceAsStream("new_default.render.xml"));
  long tm=System.nanoTime();
  int count=100000;
  for (int i=0; i < count; i++) {
    RenderingRuleSearchRequest searchRequest=new RenderingRuleSearchRequest(storage);
    searchRequest.setStringFilter(storage.PROPS.R_TAG,"highway");
    searchRequest.setStringFilter(storage.PROPS.R_VALUE,"motorway");
    searchRequest.setIntFilter(storage.PROPS.R_MINZOOM,14);
    searchRequest.setIntFilter(storage.PROPS.R_MAXZOOM,14);
    searchRequest.search(ORDER_RULES);
    printResult(searchRequest,new PrintStream(new OutputStream(){
      @Override public void write(      int b) throws IOException {
      }
    }
));
  }
  System.out.println((System.nanoTime() - tm) / (1e6f * count));
}
