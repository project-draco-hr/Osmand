{
  SearchListItem listItem=getItem(position);
  LinearLayout view;
  if (convertView == null) {
    LayoutInflater inflater=(LayoutInflater)ctx.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    view=(LinearLayout)inflater.inflate(R.layout.search_list_item,null);
  }
 else {
    view=(LinearLayout)convertView;
  }
  ImageView imageView=(ImageView)view.findViewById(R.id.imageView);
  TextView title=(TextView)view.findViewById(R.id.title);
  TextView subtitle=(TextView)view.findViewById(R.id.subtitle);
  TextView distance=(TextView)view.findViewById(R.id.distance);
  imageView.setImageDrawable(listItem.getIcon());
  title.setText(listItem.getName());
  subtitle.setText(listItem.getTypeName());
  if (listItem instanceof SearchListPositionItem) {
    SearchListPositionItem positionItem=(SearchListPositionItem)listItem;
    if (positionItem.getDistance() == 0) {
      distance.setText("");
    }
 else {
      distance.setText(Utils.getFormattedDistance(positionItem.getDistance()));
    }
    distance.setVisibility(View.VISIBLE);
  }
 else {
    distance.setVisibility(View.INVISIBLE);
  }
  return view;
}
