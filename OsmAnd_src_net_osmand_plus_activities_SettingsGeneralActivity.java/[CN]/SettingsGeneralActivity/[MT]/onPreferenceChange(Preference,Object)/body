{
  String id=preference.getKey();
  if (id.equals(settings.VOICE_PROVIDER.getId())) {
    if (MORE_VALUE.equals(newValue)) {
      final Intent intent=new Intent(this,DownloadIndexActivity.class);
      intent.putExtra(DownloadIndexActivity.FILTER_CAT,DownloadActivityType.VOICE_FILE.getTag());
      startActivity(intent);
    }
 else {
      super.onPreferenceChange(preference,newValue);
      getMyApplication().showDialogInitializingCommandPlayer(this,false);
    }
    return true;
  }
  super.onPreferenceChange(preference,newValue);
  if (id.equals(settings.SAFE_MODE.getId())) {
    if ((Boolean)newValue) {
      loadNativeLibrary();
    }
  }
 else   if (preference == applicationDir) {
    warnAboutChangingStorage((String)newValue);
    return false;
  }
 else   if (id.equals(settings.APPLICATION_MODE.getId())) {
    settings.DEFAULT_APPLICATION_MODE.set(settings.APPLICATION_MODE.get());
    updateAllSettings();
  }
 else   if (id.equals(settings.PREFERRED_LOCALE.getId())) {
    getMyApplication().checkPreferredLocale();
    Intent intent=getIntent();
    finish();
    startActivity(intent);
  }
 else   if (id.equals(settings.OSMAND_THEME.getId())) {
    Intent intent=getIntent();
    finish();
    startActivity(intent);
  }
 else {
    updateAllSettings();
  }
  return true;
}
