{
  if (routeHelper.routeIsCalculated() && visible) {
    List<RouteInfoLocation> list=routeHelper.getRoute();
    for (    RouteInfoLocation l : list) {
      if (l == null) {
        continue;
      }
      TransportRoute route=l.getRoute();
      boolean start=false;
      boolean end=false;
      List<TransportStop> stops=l.getDirection() ? route.getForwardStops() : route.getBackwardStops();
      for (int i=0; i < stops.size() && !end; i++) {
        Paint toShow=paintInt;
        TransportStop st=stops.get(i);
        if (!start) {
          if (st == l.getStart()) {
            start=true;
            toShow=paintEnd;
          }
        }
 else {
          if (st == l.getStop()) {
            end=true;
            toShow=paintEnd;
          }
        }
        if (start) {
          LatLon location=st.getLocation();
          if (tileBox.containsLatLon(location.getLatitude(),location.getLongitude())) {
            int x=(int)tileBox.getPixXFromLatLon(location.getLatitude(),location.getLongitude());
            int y=(int)tileBox.getPixYFromLatLon(location.getLatitude(),location.getLongitude());
            canvas.drawRect(x - getRadius(tileBox),y - getRadius(tileBox),x + getRadius(tileBox),y + getRadius(tileBox),toShow);
          }
        }
      }
    }
  }
}
