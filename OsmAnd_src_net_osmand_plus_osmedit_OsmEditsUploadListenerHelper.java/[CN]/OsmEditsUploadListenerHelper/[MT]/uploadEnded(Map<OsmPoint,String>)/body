{
  int uploaded=0;
  int pointsNum=loadErrorsMap.keySet().size();
  for (  OsmPoint point : loadErrorsMap.keySet()) {
    if (loadErrorsMap.get(point) == null) {
      uploaded++;
    }
  }
  if (uploaded == pointsNum) {
    AccessibleToast.makeText(activity,MessageFormat.format(numberFormat,uploaded),Toast.LENGTH_LONG).show();
  }
 else   if (pointsNum == 1) {
    Log.v(TAG,"in if1");
    OsmPoint point=loadErrorsMap.keySet().iterator().next();
    String message=loadErrorsMap.get(point);
    DialogFragment dialogFragment=UploadingErrorDialogFragment.getInstance(message,point);
    dialogFragment.show(activity.getSupportFragmentManager(),"error_loading");
  }
 else {
    Log.v(TAG,"in if2");
    String[] pointNames=new String[loadErrorsMap.keySet().size()];
    boolean[] hasErrors=new boolean[loadErrorsMap.keySet().size()];
    ArrayList<OsmPoint> pointsWithErrors=new ArrayList<>();
    int i=0;
    for (    OsmPoint point : loadErrorsMap.keySet()) {
      pointNames[i]=point.getGroup() == OsmPoint.Group.BUG ? ((OsmNotesPoint)point).getText() : ((OpenstreetmapPoint)point).getName();
      pointNames[i]=TextUtils.isEmpty(pointNames[i]) ? "id:" + point.getId() : pointNames[i];
      hasErrors[i]=loadErrorsMap.get(point) != null;
      if (hasErrors[i]) {
        pointsWithErrors.add(point);
      }
      i++;
    }
    UploadingMultipleErrorDialogFragment dialogFragment=UploadingMultipleErrorDialogFragment.getInstance(pointNames,hasErrors);
    dialogFragment.setPointsToUpload(pointsWithErrors.toArray(new OsmPoint[pointsWithErrors.size()]));
    dialogFragment.show(activity.getSupportFragmentManager(),"multiple_error_loading");
  }
}
