{
  super(context,attrs,defStyleAttr);
  if (TintManager.SHOULD_BE_USED) {
    TintTypedArray a=TintTypedArray.obtainStyledAttributes(getContext(),attrs,TINT_ATTRS,defStyleAttr,0);
    if (a.hasValue(0)) {
      setSupportBackgroundTintList(a.getTintManager().getColorStateList(a.getResourceId(0,-1)));
    }
    a.recycle();
  }
  final ColorStateList textColors=getTextColors();
  if (textColors != null && !textColors.isStateful()) {
    final int disabledTextColor;
    if (Build.VERSION.SDK_INT < Build.VERSION_CODES.LOLLIPOP) {
      disabledTextColor=ThemeUtils.getDisabledThemeAttrColor(context,android.R.attr.textColorSecondary);
    }
 else {
      disabledTextColor=ThemeUtils.getThemeAttrColor(context,android.R.attr.textColorSecondary);
    }
    setTextColor(ThemeUtils.createDisabledStateList(textColors.getDefaultColor(),disabledTextColor));
  }
}
