{
  final String fnExt=Algorithms.getFileNameWithoutExtension(new File(info.getFileName()));
  new AsyncTask<Object,Object,IncrementalUpdateList>(){
    protected void onPreExecute(){
      getDownloadActivity().setSupportProgressBarIndeterminateVisibility(true);
    }
    @Override protected IncrementalUpdateList doInBackground(    Object... params){
      IncrementalChangesManager cm=getMyApplication().getResourceManager().getChangesManager();
      return cm.getUpdatesByMonth(fnExt);
    }
    protected void onPostExecute(    IncrementalUpdateList result){
      getDownloadActivity().setSupportProgressBarIndeterminateVisibility(false);
      if (result.errorMessage != null) {
        Toast.makeText(getDownloadActivity(),result.errorMessage,Toast.LENGTH_SHORT).show();
      }
 else {
        List<IncrementalUpdate> ll=result.getItemsForUpdate();
        if (ll.isEmpty()) {
          Toast.makeText(getDownloadActivity(),R.string.no_updates_available,Toast.LENGTH_SHORT).show();
        }
 else {
          int i=0;
          IndexItem[] is=new IndexItem[ll.size()];
          for (          IncrementalUpdate iu : ll) {
            IndexItem ii=new IndexItem(iu.fileName,"Incremental update",iu.timestamp,iu.sizeText,iu.contentSize,iu.containerSize,DownloadActivityType.LIVE_UPDATES_FILE);
            is[i++]=ii;
          }
          getDownloadActivity().startDownload(is);
        }
      }
    }
  }
.execute(fnExt);
}
