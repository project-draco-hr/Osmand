{
  View view=getActivity().getLayoutInflater().inflate(R.layout.dash_favorites_fragment,container,false);
  Typeface typeface=FontCache.getRobotoMedium(getActivity());
  ((TextView)view.findViewById(R.id.fav_text)).setTypeface(typeface);
  ((Button)view.findViewById(R.id.show_all)).setTypeface(typeface);
  (view.findViewById(R.id.show_all)).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View view){
      Activity activity=getActivity();
      OsmAndAppCustomization appCustomization=getMyApplication().getAppCustomization();
      final Intent favorites=new Intent(activity,appCustomization.getFavoritesActivity());
      favorites.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);
      activity.startActivity(favorites);
    }
  }
);
  if (getMyApplication().getFavorites().getFavouritePoints().size() > 0) {
    if (!getMyApplication().getSettings().isLastKnownMapLocation()) {
      location=getMyApplication().getLocationProvider().getFirstTimeRunDefaultLocation();
    }
 else {
      location=getLocationProvider().getLastKnownLocation();
    }
    updateLocation(location);
  }
  setupFavorites();
  return view;
}
