{
  super.onResume();
  if (getMyApplication().getFavorites().getFavouritePoints().size() > 0) {
    if (!getMyApplication().getSettings().isLastKnownMapLocation()) {
      location=new LatLon(getMyApplication().getLocationProvider().getFirstTimeRunDefaultLocation().getLatitide(),getMyApplication().getLocationProvider().getFirstTimeRunDefaultLocation().getLongitude());
    }
 else {
      location=new LatLon(getLocationProvider().getLastKnownLocation().getLatitude(),getLocationProvider().getLastKnownLocation().getLongitude());
    }
    if (location == null) {
      location=getMyApplication().getSettings().getLastKnownMapLocation();
    }
    updateLocation(location);
  }
  setupFavorites();
}
