{
  File file=OsmandApplication.getSettings().extendOsmandPath(APP_DIR + IndexConstants.RENDERERS_DIR);
  file.mkdirs();
  Map<String,File> externalRenderers=new LinkedHashMap<String,File>();
  if (file.exists() && file.canRead()) {
    for (    File f : file.listFiles()) {
      if (f.getName().endsWith(IndexConstants.RENDERER_INDEX_EXT)) {
        String name=f.getName().substring(0,f.getName().length() - IndexConstants.RENDERER_INDEX_EXT.length());
        externalRenderers.put(name,f);
      }
    }
  }
  context.getRendererRegistry().setExternalRenderers(externalRenderers);
  String r=OsmandApplication.getSettings().RENDERER.get();
  if (r != null) {
    RenderingRulesStorage obj=context.getRendererRegistry().getRenderer(r);
    if (obj != null) {
      context.getRendererRegistry().setCurrentSelectedRender(obj);
    }
  }
}
