{
  if (!Version.getFullVersion(context).equalsIgnoreCase(OsmandApplication.getSettings().PREVIOUS_INSTALLED_VERSION.get())) {
    File file=OsmandApplication.getSettings().extendOsmandPath(APP_DIR);
    file.mkdirs();
    if (file.canWrite()) {
      try {
        progress.startTask(context.getString(R.string.installing_new_resources),-1);
        AssetManager assetManager=context.getAssets();
        updateAssets(assetManager,file,progress);
        OsmandApplication.getSettings().PREVIOUS_INSTALLED_VERSION.set(Version.getFullVersion(context));
      }
 catch (      IOException e) {
        log.error(e.getMessage(),e);
      }
catch (      XmlPullParserException e) {
        log.error(e.getMessage(),e);
      }
    }
  }
  return Collections.emptyList();
}
