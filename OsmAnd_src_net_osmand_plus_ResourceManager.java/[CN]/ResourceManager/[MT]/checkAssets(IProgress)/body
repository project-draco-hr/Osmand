{
  if (!Version.getFullVersion(context).equalsIgnoreCase(context.getSettings().previousInstalledVesrion().get())) {
    File applicationDataDir=context.getSettings().extendOsmandPath(APP_DIR);
    applicationDataDir.mkdirs();
    if (applicationDataDir.canWrite()) {
      try {
        progress.startTask(context.getString(R.string.installing_new_resources),-1);
        AssetManager assetManager=context.getAssets();
        boolean isFirstInstall=!context.getSettings().previousInstalledVesrion().getPreferences().contains(context.getSettings().previousInstalledVesrion().getId());
        unpackBundledAssets(assetManager,applicationDataDir,progress,isFirstInstall);
        context.getSettings().previousInstalledVesrion().set(Version.getFullVersion(context));
      }
 catch (      IOException e) {
        log.error(e.getMessage(),e);
      }
catch (      XmlPullParserException e) {
        log.error(e.getMessage(),e);
      }
    }
  }
  return Collections.emptyList();
}
