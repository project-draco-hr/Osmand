{
  tilesLocation=fileWithTiles;
  LatLon defaultLocation=DataExtractionSettings.getSettings().getDefaultLocation();
  latitude=defaultLocation.getLatitude();
  longitude=defaultLocation.getLongitude();
  zoom=DataExtractionSettings.getSettings().getDefaultZoom();
  addControls();
  downloader.addDownloaderCallback(this);
  setFocusable(true);
  addComponentListener(new ComponentAdapter(){
    public void componentResized(    ComponentEvent e){
      prepareImage();
    }
  }
);
  setOpaque(false);
  MapMouseAdapter mouse=new MapMouseAdapter();
  addMouseListener(mouse);
  addMouseMotionListener(mouse);
  addMouseWheelListener(mouse);
}
