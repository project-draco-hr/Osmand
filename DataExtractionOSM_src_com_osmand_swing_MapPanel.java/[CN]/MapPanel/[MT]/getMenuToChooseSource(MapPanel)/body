{
  final JMenu tiles=new JMenu("Source of tiles");
  final List<TileSourceTemplate> list=TileSourceManager.getKnownSourceTemplates();
  for (  final TileSourceTemplate l : list) {
    JCheckBoxMenuItem menuItem=new JCheckBoxMenuItem(l.getName());
    menuItem.addActionListener(new ActionListener(){
      @Override public void actionPerformed(      ActionEvent e){
        for (int i=0; i < list.size(); i++) {
          if (list.get(i).equals(l)) {
            ((JCheckBoxMenuItem)tiles.getItem(i)).setSelected(true);
          }
 else {
            ((JCheckBoxMenuItem)tiles.getItem(i)).setSelected(false);
          }
        }
        panel.setMapName(l);
      }
    }
);
    if (l.equals(TileSourceManager.getMapnikSource())) {
      menuItem.setSelected(true);
      panel.setMapName(l);
    }
    tiles.add(menuItem);
  }
  return tiles;
}
