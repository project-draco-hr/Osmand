{
  BoxLayout layout=new BoxLayout(this,BoxLayout.LINE_AXIS);
  setLayout(layout);
  setBorder(BorderFactory.createEmptyBorder(2,10,10,10));
  gpsLocation=new JLabel();
  gpsLocation.setOpaque(false);
  updateLocationLabel();
  JButton zoomIn=new JButton("+");
  JButton zoomOut=new JButton("-");
  areaButton=new JButton();
  areaButton.setAction(new AbstractAction("Preload area"){
    private static final long serialVersionUID=-5512220294374994021L;
    @Override public void actionPerformed(    ActionEvent e){
      new TileBundleDownloadDialog(MapPanel.this,MapPanel.this).showDialog();
    }
  }
);
  zoomIn.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      setZoom(getZoom() + 1);
    }
  }
);
  zoomOut.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      setZoom(getZoom() - 1);
    }
  }
);
  add(gpsLocation);
  add(Box.createHorizontalGlue());
  add(areaButton);
  add(zoomIn);
  add(zoomOut);
  gpsLocation.setAlignmentY(Component.TOP_ALIGNMENT);
  areaButton.setVisible(false);
  areaButton.setAlignmentY(Component.TOP_ALIGNMENT);
  zoomOut.setAlignmentY(Component.TOP_ALIGNMENT);
  zoomIn.setAlignmentY(Component.TOP_ALIGNMENT);
  popupMenu=new JPopupMenu();
  fillPopupMenuWithActions(popupMenu);
}
