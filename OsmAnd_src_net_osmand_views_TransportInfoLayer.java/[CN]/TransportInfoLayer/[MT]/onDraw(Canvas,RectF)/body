{
  if (routeHelper.routeIsCalculated() && visible) {
    List<RouteInfoLocation> list=routeHelper.getRoute();
    for (    RouteInfoLocation l : list) {
      if (l == null) {
        continue;
      }
      TransportRoute route=l.getRoute();
      boolean start=false;
      boolean end=false;
      List<TransportStop> stops=l.getDirection() ? route.getForwardStops() : route.getBackwardStops();
      for (int i=0; i < stops.size() && !end; i++) {
        Paint toShow=paintInt;
        TransportStop st=stops.get(i);
        if (!start) {
          if (st == l.getStart()) {
            start=true;
            toShow=paintEnd;
          }
        }
 else {
          if (st == l.getStop()) {
            end=true;
            toShow=paintEnd;
          }
        }
        if (start) {
          LatLon location=st.getLocation();
          if (location.getLatitude() >= latLonBounds.bottom && location.getLatitude() <= latLonBounds.top && location.getLongitude() >= latLonBounds.left && location.getLongitude() <= latLonBounds.right) {
            int x=view.getRotatedMapXForPoint(location.getLatitude(),location.getLongitude());
            int y=view.getRotatedMapYForPoint(location.getLatitude(),location.getLongitude());
            canvas.drawRect(x - getRadius(),y - getRadius(),x + getRadius(),y + getRadius(),toShow);
          }
        }
      }
    }
  }
}
