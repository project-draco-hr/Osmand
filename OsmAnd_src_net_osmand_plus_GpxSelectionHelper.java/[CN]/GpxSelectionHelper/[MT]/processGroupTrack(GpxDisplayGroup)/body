{
  List<GpxDisplayItem> list=group.getModifiableList();
  String timeSpanClr=Algorithms.colorToString(app.getResources().getColor(R.color.gpx_time_span_color));
  String distanceClr=Algorithms.colorToString(app.getResources().getColor(R.color.gpx_distance_color));
  for (  TrkSegment r : group.track.segments) {
    if (r.points.size() > 0) {
      GpxDisplayItem item=new GpxDisplayItem();
      item.group=group;
      GPXTrackAnalysis analysis=GPXTrackAnalysis.segment(0,r);
      item.description=GpxUiHelper.getDescription(app,analysis);
      String dist="  <font color=\"" + distanceClr + "\">"+ OsmAndFormatter.getFormattedDistance(analysis.totalDistance,app)+ "</font>";
      item.name=app.getString(R.string.gpx_selection_segment_title) + dist;
      if (analysis.timeSpan > 0 || analysis.timeMoving > 0) {
        long tm=analysis.timeMoving;
        if (tm == 0) {
          tm=analysis.timeSpan;
        }
        item.name+="  <font color=\"" + timeSpanClr + "\">"+ Algorithms.formatDuration((int)(tm / 1000))+ "</font>";
      }
      item.locationStart=r.points.get(0);
      item.locationEnd=r.points.get(r.points.size() - 1);
      list.add(item);
    }
  }
}
