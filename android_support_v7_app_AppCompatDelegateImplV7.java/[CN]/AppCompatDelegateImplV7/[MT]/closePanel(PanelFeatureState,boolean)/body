{
  if (doCallback && st.featureId == FEATURE_OPTIONS_PANEL && mDecorContentParent != null && mDecorContentParent.isOverflowMenuShowing()) {
    checkCloseActionMenu(st.menu);
    return;
  }
  final boolean wasOpen=st.isOpen;
  final WindowManager wm=(WindowManager)mContext.getSystemService(Context.WINDOW_SERVICE);
  if (wm != null && wasOpen && st.decorView != null) {
    wm.removeView(st.decorView);
  }
  st.isPrepared=false;
  st.isHandled=false;
  st.isOpen=false;
  if (wasOpen && doCallback) {
    callOnPanelClosed(st.featureId,st,null);
  }
  st.shownPanelView=null;
  st.refreshDecorView=true;
  if (mPreparedPanel == st) {
    mPreparedPanel=null;
  }
}
