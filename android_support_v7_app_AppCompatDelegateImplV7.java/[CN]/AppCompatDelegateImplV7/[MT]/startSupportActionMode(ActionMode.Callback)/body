{
  if (callback == null) {
    throw new IllegalArgumentException("ActionMode callback can not be null.");
  }
  if (mActionMode != null) {
    mActionMode.finish();
  }
  final ActionMode.Callback wrappedCallback=new ActionModeCallbackWrapper(callback);
  ActionBar ab=getSupportActionBar();
  if (ab != null) {
    mActionMode=ab.startActionMode(wrappedCallback);
    if (mActionMode != null && mAppCompatCallback != null) {
      mAppCompatCallback.onSupportActionModeStarted(mActionMode);
    }
  }
  if (mActionMode == null) {
    mActionMode=startSupportActionModeFromWindow(wrappedCallback);
  }
  return mActionMode;
}
