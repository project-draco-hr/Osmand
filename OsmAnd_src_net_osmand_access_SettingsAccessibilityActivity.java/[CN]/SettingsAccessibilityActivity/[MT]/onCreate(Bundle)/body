{
  ((OsmandApplication)getApplication()).applyTheme(this);
  super.onCreate(savedInstanceState);
  getToolbar().setTitle(R.string.shared_string_accessibility);
  PreferenceScreen grp=getPreferenceScreen();
  String[] entries=new String[AccessibilityMode.values().length];
  for (int i=0; i < entries.length; i++) {
    entries[i]=AccessibilityMode.values()[i].toHumanString(getMyApplication());
  }
  accessibilityModePreference=createListPreference(settings.ACCESSIBILITY_MODE,entries,AccessibilityMode.values(),R.string.accessibility_mode,R.string.accessibility_mode_descr);
  accessibilityModePreference.setOnPreferenceChangeListener(new OnPreferenceChangeListener(){
    private final OnPreferenceChangeListener committer=accessibilityModePreference.getOnPreferenceChangeListener();
    @Override public boolean onPreferenceChange(    Preference preference,    Object newValue){
      if (committer != null)       committer.onPreferenceChange(preference,newValue);
      updateAllSettings();
      return true;
    }
  }
);
  addSpeechRateSetting(grp);
  grp.addPreference(accessibilityModePreference);
  PreferenceCategory cat=new PreferenceCategory(this);
  cat.setKey("accessibility_options");
  cat.setTitle(R.string.accessibility_options);
  cat.setEnabled(getMyApplication().accessibilityEnabled());
  grp.addPreference(cat);
  entries=new String[RelativeDirectionStyle.values().length];
  for (int i=0; i < entries.length; i++) {
    entries[i]=RelativeDirectionStyle.values()[i].toHumanString(getMyApplication());
  }
  directionStylePreference=createListPreference(settings.DIRECTION_STYLE,entries,RelativeDirectionStyle.values(),R.string.settings_direction_style,R.string.settings_direction_style_descr);
  directionStylePreference.setOnPreferenceChangeListener(new OnPreferenceChangeListener(){
    private final OnPreferenceChangeListener committer=directionStylePreference.getOnPreferenceChangeListener();
    @Override public boolean onPreferenceChange(    Preference preference,    Object newValue){
      if (committer != null)       committer.onPreferenceChange(preference,newValue);
      updateAllSettings();
      return true;
    }
  }
);
  cat.addPreference(directionStylePreference);
  cat.addPreference(createCheckBoxPreference(settings.ZOOM_BY_TRACKBALL,R.string.zoom_by_trackball,R.string.zoom_by_trackball_descr));
}
