{
  View row=convertView;
  if (row == null) {
    LayoutInflater inflater=getLayoutInflater();
    row=inflater.inflate(R.layout.favourites_list_category,parent,false);
  }
  ImageView indicator=(ImageView)row.findViewById(R.id.explist_indicator);
  if (!isExpanded) {
    if (getChildrenCount(groupPosition) == 0) {
      indicator.setImageResource(R.drawable.list_activities_dot_marker1_empty);
    }
 else {
      indicator.setImageResource(R.drawable.list_activities_dot_marker1_content);
    }
  }
 else {
    indicator.setImageResource(R.drawable.list_activities_dot_marker1_pressed);
  }
  TextView label=(TextView)row.findViewById(R.id.category_name);
  final String model=getGroup(groupPosition);
  label.setText(model);
  final CheckBox ch=(CheckBox)row.findViewById(R.id.check_item);
  if (selectionMode) {
    ch.setVisibility(View.VISIBLE);
    ch.setChecked(groupsToDelete.contains(model));
    ch.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        if (ch.isChecked()) {
          groupsToDelete.add(model);
          favoritesToDelete.addAll(helper.getFavoriteGroups().get(model));
          favouritesAdapter.notifyDataSetInvalidated();
        }
 else {
          groupsToDelete.remove(model);
        }
      }
    }
);
  }
 else {
    ch.setVisibility(View.GONE);
  }
  return row;
}
