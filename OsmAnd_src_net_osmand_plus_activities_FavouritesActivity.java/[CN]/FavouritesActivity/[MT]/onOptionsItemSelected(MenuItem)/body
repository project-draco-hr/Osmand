{
  if (item.getItemId() == EXPORT_ID) {
    File appDir=new File(Environment.getExternalStorageDirectory(),ResourceManager.APP_DIR);
    if (favouritesAdapter.isEmpty()) {
      Toast.makeText(this,R.string.no_fav_to_save,Toast.LENGTH_LONG).show();
    }
 else     if (!appDir.exists()) {
      Toast.makeText(this,R.string.sd_dir_not_accessible,Toast.LENGTH_LONG).show();
    }
 else {
      File f=new File(appDir,FILE_TO_SAVE);
      List<WptPt> wpt=new ArrayList<WptPt>();
      for (int i=0; i < favouritesAdapter.getCount(); i++) {
        FavouritePoint p=favouritesAdapter.getItem(i);
        WptPt pt=new WptPt();
        pt.lat=p.getLatitude();
        pt.lon=p.getLongitude();
        pt.name=p.getName();
        wpt.add(pt);
      }
      if (GPXUtilities.saveToXMLFiles(f,wpt,this)) {
        Toast.makeText(this,MessageFormat.format(getString(R.string.fav_saved_sucessfully),f.getAbsolutePath()),Toast.LENGTH_LONG).show();
      }
    }
  }
 else   if (item.getItemId() == IMPORT_ID) {
    File appDir=new File(Environment.getExternalStorageDirectory(),ResourceManager.APP_DIR);
    File f=new File(appDir,FILE_TO_SAVE);
    if (!f.exists()) {
      Toast.makeText(this,MessageFormat.format(getString(R.string.fav_file_to_load_not_found),f.getAbsolutePath()),Toast.LENGTH_LONG).show();
    }
 else {
      Set<String> existedPoints=new LinkedHashSet<String>();
      if (!favouritesAdapter.isEmpty()) {
        for (int i=0; i < favouritesAdapter.getCount(); i++) {
          FavouritePoint fp=favouritesAdapter.getItem(i);
          existedPoints.add(fp.getName());
        }
      }
      GPXFileResult res=GPXUtilities.loadGPXFile(this,f);
      if (res.error == null) {
        for (        WptPt p : res.wayPoints) {
          if (!existedPoints.contains(p.name)) {
            FavouritePoint fp=new FavouritePoint(p.lat,p.lon,p.name);
            if (helper.addFavourite(fp)) {
              favouritesAdapter.add(fp);
            }
          }
        }
        Toast.makeText(this,R.string.fav_imported_sucessfully,Toast.LENGTH_SHORT).show();
      }
 else {
        Toast.makeText(this,res.error,Toast.LENGTH_LONG).show();
      }
    }
  }
 else {
    return false;
  }
  return true;
}
