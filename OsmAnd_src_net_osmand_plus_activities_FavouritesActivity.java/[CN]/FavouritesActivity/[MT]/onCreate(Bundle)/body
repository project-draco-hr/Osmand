{
  requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);
  getSherlock().setUiOptions(ActivityInfo.UIOPTION_SPLIT_ACTION_BAR_WHEN_NARROW);
  super.onCreate(icicle);
  setContentView(R.layout.tab_content);
  setSupportProgressBarIndeterminateVisibility(false);
  TabHost tabHost=(TabHost)findViewById(android.R.id.tabhost);
  tabHost.setup();
  OsmandSettings settings=((OsmandApplication)getApplication()).getSettings();
  Integer tab=settings.FAVORITES_TAB.get();
  ViewPager mViewPager=(ViewPager)findViewById(R.id.pager);
  mTabsAdapter=new TabsAdapter(this,tabHost,mViewPager,settings);
  mTabsAdapter.addTab(tabHost.newTabSpec(FAVOURITES_INFO).setIndicator(getString(R.string.my_favorites)),FavouritesTreeFragment.class,null);
  mTabsAdapter.addTab(tabHost.newTabSpec(TRACKS).setIndicator(getString(R.string.my_tracks)),AvailableGPXFragment.class,null);
  mTabsAdapter.addTab(tabHost.newTabSpec(SELECTED_TRACK).setIndicator(getString(R.string.selected_track)),SelectedGPXFragment.class,null);
  tabHost.setCurrentTab(tab);
  getSupportActionBar().setDisplayHomeAsUpEnabled(true);
  getSupportActionBar().setTitle("");
}
