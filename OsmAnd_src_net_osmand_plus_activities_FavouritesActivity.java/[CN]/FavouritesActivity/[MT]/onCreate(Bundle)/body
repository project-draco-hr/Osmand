{
  requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);
  getSherlock().setUiOptions(ActivityInfo.UIOPTION_SPLIT_ACTION_BAR_WHEN_NARROW);
  super.onCreate(icicle);
  final Collator collator=Collator.getInstance();
  collator.setStrength(Collator.SECONDARY);
  favoritesComparator=new Comparator<FavouritePoint>(){
    @Override public int compare(    FavouritePoint object1,    FavouritePoint object2){
      return collator.compare(object1.getName(),object2.getName());
    }
  }
;
  setContentView(R.layout.favourites_list);
  getSupportActionBar().setTitle(R.string.favourites_activity);
  setSupportProgressBarIndeterminateVisibility(false);
  TabHost tabHost=(TabHost)findViewById(android.R.id.tabhost);
  tabHost.setup();
  ViewPager mViewPager=(ViewPager)findViewById(R.id.pager);
  mTabsAdapter=new TabsAdapter(this,tabHost,mViewPager);
  mTabsAdapter.addTab(tabHost.newTabSpec(TOUR_INFO).setIndicator(getString(R.string.tab_current_tour)),TourInformationFragment.class,null);
  mTabsAdapter.addTab(tabHost.newTabSpec(TOUR_STAGE).setIndicator(getString(R.string.tab_stages)),TourStageFragment.class,null);
  mTabsAdapter.addTab(tabHost.newTabSpec(TOUR_SELECTION).setIndicator(getString(R.string.tab_tours)),TourSelectionFragment.class,null);
  if (savedInstanceState != null) {
    tabHost.setCurrentTabByTag(savedInstanceState.getString("tab"));
  }
  helper=getMyApplication().getFavorites();
  favouritesAdapter=new FavouritesAdapter();
  favouritesAdapter.setFavoriteGroups(helper.getFavoriteGroups());
  getExpandableListView().setAdapter(favouritesAdapter);
}
