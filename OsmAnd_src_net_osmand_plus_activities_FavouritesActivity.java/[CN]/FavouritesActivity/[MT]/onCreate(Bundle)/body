{
  super.onCreate(icicle);
  final Collator collator=Collator.getInstance();
  collator.setStrength(Collator.SECONDARY);
  favoritesComparator=new Comparator<FavouritePoint>(){
    @Override public int compare(    FavouritePoint object1,    FavouritePoint object2){
      return collator.compare(object1.getName(),object2.getName());
    }
  }
;
  CustomTitleBar titleBar=new CustomTitleBar(this,R.string.favourites_activity,R.drawable.tab_favorites_screen_icon);
  setContentView(R.layout.favourites_list);
  titleBar.afterSetContentView();
  helper=getMyApplication().getFavorites();
  favouritesAdapter=new FavouritesAdapter();
  favouritesAdapter.setFavoriteGroups(helper.getFavoriteGroups());
  getExpandableListView().setAdapter(favouritesAdapter);
  findViewById(R.id.CancelButton).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      cancelSelectingMode();
    }
  }
);
  findViewById(R.id.ActionButton).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      if (groupsToDelete.size() + favoritesToDelete.size() > 0) {
        Builder b=new AlertDialog.Builder(FavouritesActivity.this);
        b.setMessage(getString(R.string.favorite_delete_multiple,favoritesToDelete.size(),groupsToDelete.size()));
        b.setPositiveButton(R.string.default_buttons_delete,new DialogInterface.OnClickListener(){
          @Override public void onClick(          DialogInterface dialog,          int which){
            cancelSelectingMode();
            deleteFavorites();
          }
        }
);
        b.setNegativeButton(R.string.default_buttons_cancel,null);
        b.show();
      }
    }
  }
);
}
