{
  this.activity=uiContext;
  this.plugin=plugin;
  poiTypes=uiContext.getMyApplication().getPoiTypes();
  allTranslatedSubTypes=poiTypes.getAllTranslatedNames(false);
  settings=((OsmandApplication)uiContext.getApplication()).getSettings();
  if (settings.OFFLINE_EDITION.get() || !settings.isInternetConnectionAvailable(true)) {
    this.openstreetmapUtil=new OpenstreetmapLocalUtil(activity);
    if (settings.isInternetConnectionAvailable(true)) {
      this.openstreetmapUtilToLoad=new OpenstreetmapRemoteUtil(activity);
    }
 else {
      this.openstreetmapUtilToLoad=openstreetmapUtil;
    }
  }
 else {
    this.openstreetmapUtil=new OpenstreetmapRemoteUtil(activity);
    this.openstreetmapUtilToLoad=openstreetmapUtil;
  }
}
