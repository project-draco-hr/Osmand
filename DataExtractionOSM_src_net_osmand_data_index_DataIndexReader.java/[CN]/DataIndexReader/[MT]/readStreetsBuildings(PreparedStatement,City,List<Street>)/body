{
  Map<Long,Street> visitedStreets=new LinkedHashMap<Long,Street>();
  streetBuildingsStat.setLong(1,city.getId());
  ResultSet set=streetBuildingsStat.executeQuery();
  while (set.next()) {
    long streetId=set.getLong(1);
    if (!visitedStreets.containsKey(streetId)) {
      Street street=new Street(null);
      street.setName(set.getString(2));
      street.setEnName(set.getString(3));
      street.setLocation(set.getDouble(4),set.getDouble(5));
      street.setId(streetId);
      streets.add(street);
      visitedStreets.put(streetId,street);
    }
    Street s=visitedStreets.get(streetId);
    Building b=new Building();
    b.setId(set.getLong(6));
    b.setName(set.getString(7));
    b.setEnName(set.getString(8));
    b.setLocation(set.getDouble(9),set.getDouble(10));
    b.setPostcode(set.getString(11));
    s.registerBuilding(b);
  }
  set.close();
  return streets;
}
