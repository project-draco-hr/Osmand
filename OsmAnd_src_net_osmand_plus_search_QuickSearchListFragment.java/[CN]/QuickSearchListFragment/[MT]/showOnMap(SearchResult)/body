{
  if (searchResult.location != null) {
    OsmandApplication app=getMyApplication();
    String lang=searchResult.requiredSearchPhrase.getSettings().getLang();
    PointDescription pointDescription=null;
    Object object=searchResult.object;
switch (searchResult.objectType) {
case POI:
      String poiSimpleFormat=OsmAndFormatter.getPoiStringWithoutType((Amenity)object,lang);
    pointDescription=new PointDescription(PointDescription.POINT_TYPE_POI,poiSimpleFormat);
  break;
case RECENT_OBJ:
HistoryEntry entry=(HistoryEntry)object;
pointDescription=entry.getName();
if (pointDescription.isPoi()) {
Amenity amenity=findAmenity(entry.getName().getName(),entry.getLat(),entry.getLon(),lang);
if (amenity != null) {
object=amenity;
pointDescription=new PointDescription(PointDescription.POINT_TYPE_POI,OsmAndFormatter.getPoiStringWithoutType(amenity,lang));
}
}
 else if (pointDescription.isFavorite()) {
LatLon entryLatLon=new LatLon(entry.getLat(),entry.getLon());
List<FavouritePoint> favs=app.getFavorites().getFavouritePoints();
for (FavouritePoint f : favs) {
if (entryLatLon.equals(new LatLon(f.getLatitude(),f.getLongitude())) && pointDescription.getName().equals(f.getName())) {
  object=f;
  pointDescription=f.getPointDescription();
  break;
}
}
}
break;
case FAVORITE:
FavouritePoint fav=(FavouritePoint)object;
pointDescription=fav.getPointDescription();
break;
case HOUSE:
String nm=searchResult.localeName;
if (searchResult.relatedObject instanceof City) {
nm=((City)searchResult.relatedObject).getName(searchResult.requiredSearchPhrase.getSettings().getLang(),true) + " " + nm;
}
 else if (searchResult.relatedObject instanceof Street) {
String s=((Street)searchResult.relatedObject).getName(searchResult.requiredSearchPhrase.getSettings().getLang(),true);
String c=((Street)searchResult.relatedObject).getCity().getName(searchResult.requiredSearchPhrase.getSettings().getLang(),true);
nm=s + " " + nm+ ", "+ c;
}
 else if (searchResult.localeRelatedObjectName != null) {
nm=searchResult.localeRelatedObjectName + " " + nm;
}
pointDescription=new PointDescription(PointDescription.POINT_TYPE_ADDRESS,nm);
break;
case LOCATION:
LatLon latLon=(LatLon)object;
pointDescription=new PointDescription(latLon.getLatitude(),latLon.getLongitude());
break;
case STREET_INTERSECTION:
String typeName=QuickSearchListItem.getTypeName(app,searchResult);
if (Algorithms.isEmpty(typeName)) {
typeName=null;
}
pointDescription=new PointDescription(PointDescription.POINT_TYPE_ADDRESS,typeName,QuickSearchListItem.getName(app,searchResult));
break;
case WPT:
GPXUtilities.WptPt wpt=(GPXUtilities.WptPt)object;
pointDescription=wpt.getPointDescription(getMyApplication());
break;
}
dialogFragment.hideToolbar();
dialogFragment.hide();
getMyApplication().getSettings().setMapLocationToShow(searchResult.location.getLatitude(),searchResult.location.getLongitude(),searchResult.preferredZoom,pointDescription,true,object);
MapActivity.launchMapActivityMoveToTop(getActivity());
dialogFragment.reloadHistory();
}
}
