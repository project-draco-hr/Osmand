{
  View row=convertView;
  if (row == null) {
    LayoutInflater inflater=getLayoutInflater();
    row=inflater.inflate(R.layout.search_transport_list_item,parent,false);
  }
  LatLon locationToGo=getLocationToGo();
  LatLon locationToStart=getLocationToStart();
  TextView label=(TextView)row.findViewById(R.id.label);
  TextView distanceLabel=(TextView)row.findViewById(R.id.distance);
  ImageView icon=(ImageView)row.findViewById(R.id.search_icon);
  RouteInfoLocation stop=getItem(position);
  TransportRoute route=stop.getRoute();
  StringBuilder labelW=new StringBuilder(150);
  labelW.append(route.getType()).append(" ").append(route.getRef());
  labelW.append(" - [");
  if (locationToGo != null) {
    labelW.append(MapUtils.getFormattedDistance(stop.getDistToLocation()));
  }
 else {
    labelW.append(getString(R.string.transport_search_none));
  }
  labelW.append("]\n").append(route.getName(OsmandSettings.usingEnglishNames(SearchTransportActivity.this)));
  label.setText(labelW.toString());
  if (locationToGo != null && stop.getDistToLocation() < 400) {
    icon.setImageResource(R.drawable.opened_poi);
  }
 else {
    icon.setImageResource(R.drawable.poi);
  }
  int dist=locationToStart == null ? 0 : (int)(MapUtils.getDistance(stop.getStart().getLocation(),locationToStart));
  distanceLabel.setText(" " + MapUtils.getFormattedDistance(dist));
  return (row);
}
