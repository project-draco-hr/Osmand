{
  super(context,attrs,defStyle);
  final Resources res=context.getResources();
  mAllowTextWithIcon=res.getBoolean(R.bool.abc_config_allowActionMenuItemTextWithIcon);
  TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.ActionMenuItemView,defStyle,0);
  mMinWidth=a.getDimensionPixelSize(R.styleable.ActionMenuItemView_android_minWidth,0);
  a.recycle();
  final float density=res.getDisplayMetrics().density;
  mMaxIconSize=(int)(MAX_ICON_SIZE * density + 0.5f);
  setOnClickListener(this);
  setOnLongClickListener(this);
  mSavedPaddingLeft=-1;
}
