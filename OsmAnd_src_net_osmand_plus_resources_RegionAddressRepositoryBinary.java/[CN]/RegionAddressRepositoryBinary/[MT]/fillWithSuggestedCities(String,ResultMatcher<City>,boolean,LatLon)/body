{
  List<City> citiesToFill=new ArrayList<>(cities.values());
  List<Integer> cityTypes=(searchVillages ? Arrays.asList(BinaryMapAddressReaderAdapter.CITY_TOWN_TYPE,BinaryMapAddressReaderAdapter.VILLAGES_TYPE) : Collections.singletonList(BinaryMapAddressReaderAdapter.VILLAGES_TYPE));
  try {
    citiesToFill.addAll(fillWithCities(name,resultMatcher,cityTypes));
    if (searchVillages && name.length() >= POSTCODE_MIN_QUERY_LENGTH) {
      String postcode=Postcode.normalize(name,file.getCountryName());
      citiesToFill.addAll(fillWithCities(postcode,resultMatcher,Collections.singletonList(BinaryMapAddressReaderAdapter.POSTCODES_TYPE)));
    }
  }
 catch (  IOException e) {
    log.error("Disk operation failed",e);
  }
  return citiesToFill;
}
