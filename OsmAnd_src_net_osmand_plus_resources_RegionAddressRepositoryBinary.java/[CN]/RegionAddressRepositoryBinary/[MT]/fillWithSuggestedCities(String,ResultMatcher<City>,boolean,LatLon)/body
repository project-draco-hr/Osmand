{
  List<City> citiesToFill=new ArrayList<>(cities.values());
  List<Integer> cityTypes=new ArrayList<>();
  cityTypes.add(BinaryMapAddressReaderAdapter.CITY_TOWN_TYPE);
  if (searchVillages) {
    cityTypes.add(BinaryMapAddressReaderAdapter.VILLAGES_TYPE);
    if (searchVillages && name.length() >= POSTCODE_MIN_QUERY_LENGTH) {
      cityTypes.add(BinaryMapAddressReaderAdapter.POSTCODES_TYPE);
    }
  }
  try {
    citiesToFill.addAll(fillWithCities(name,resultMatcher,cityTypes));
  }
 catch (  IOException e) {
    log.error("Disk operation failed",e);
  }
  return citiesToFill;
}
