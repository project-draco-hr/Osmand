{
  LatLon loc=null;
  boolean searchAround=false;
  SherlockFragmentActivity parent=getSherlockActivity();
  if (loc == null && parent instanceof SearchActivity) {
    loc=((SearchActivity)parent).getSearchPoint();
    searchAround=((SearchActivity)parent).isSearchAroundCurrentLocation();
  }
  if (loc == null && !searchAround) {
    loc=getApp().getSettings().getLastKnownMapLocation();
  }
  if (loc != null && !searchAround) {
    intentToLaunch.putExtra(SearchActivity.SEARCH_LAT,loc.getLatitude());
    intentToLaunch.putExtra(SearchActivity.SEARCH_LON,loc.getLongitude());
  }
}
