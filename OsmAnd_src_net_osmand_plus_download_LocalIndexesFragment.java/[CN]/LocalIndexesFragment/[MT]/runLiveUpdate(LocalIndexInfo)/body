{
  final String fnExt=Algorithms.getFileNameWithoutExtension(new File(info.getFileName()));
  new AsyncTask<Object,Object,IncrementalUpdateList>(){
    protected void onPreExecute(){
      getDownloadActivity().setSupportProgressBarIndeterminateVisibility(true);
    }
    @Override protected IncrementalUpdateList doInBackground(    Object... params){
      IncrementalChangesManager cm=getMyApplication().getResourceManager().getChangesManager();
      return cm.getUpdatesByMonth(fnExt);
    }
    protected void onPostExecute(    IncrementalUpdateList result){
      getDownloadActivity().setSupportProgressBarIndeterminateVisibility(false);
      if (result.errorMessage != null) {
        Toast.makeText(getDownloadActivity(),result.errorMessage,Toast.LENGTH_SHORT).show();
      }
 else {
        List<IncrementalUpdate> ll=result.getItemsForUpdate();
        for (        IncrementalUpdate iu : ll) {
          IndexItem ii=new IndexItem(iu.fileName,"Incremental update",iu.timestamp,iu.sizeText,iu.contentSize,iu.containerSize,DownloadActivityType.LIVE_UPDATES_FILE);
          getDownloadActivity().addToDownload(ii);
          getDownloadActivity().updateDownloadButton();
        }
      }
    }
  }
.execute(new Object[]{fnExt});
}
