{
  PorterDuff.Mode tintMode=null;
  boolean colorAttrSet=false;
  int colorAttr=0;
  int alpha=-1;
  if (arrayContains(TINT_COLOR_CONTROL_NORMAL,resId)) {
    colorAttr=R.attr.colorControlNormal;
    colorAttrSet=true;
  }
 else   if (arrayContains(TINT_COLOR_CONTROL_ACTIVATED,resId)) {
    colorAttr=R.attr.colorControlActivated;
    colorAttrSet=true;
  }
 else   if (arrayContains(TINT_COLOR_BACKGROUND_MULTIPLY,resId)) {
    colorAttr=android.R.attr.colorBackground;
    colorAttrSet=true;
    tintMode=PorterDuff.Mode.MULTIPLY;
  }
 else   if (resId == R.drawable.abc_list_divider_mtrl_alpha) {
    colorAttr=android.R.attr.colorForeground;
    colorAttrSet=true;
    alpha=Math.round(0.16f * 255);
  }
  if (colorAttrSet) {
    if (tintMode == null) {
      tintMode=DEFAULT_MODE;
    }
    final int color=getThemeAttrColor(mContext,colorAttr);
    tintDrawableUsingColorFilter(drawable,color,tintMode);
    if (alpha != -1) {
      drawable.setAlpha(alpha);
    }
    if (DEBUG) {
      Log.d(TAG,"Tinted Drawable ID: " + mResources.getResourceName(resId) + " with color: #"+ Integer.toHexString(color));
    }
  }
}
