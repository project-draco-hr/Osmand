{
  super(new AudioVideoNoteMenuBuilder(app,recording),mapActivity);
  this.recording=recording;
  plugin=OsmandPlugin.getPlugin(AudioVideoNotesPlugin.class);
  dateFormat=android.text.format.DateFormat.getMediumDateFormat(mapActivity);
  if (!recording.isPhoto()) {
    titleButtonController=new TitleButtonController(){
      @Override public void buttonPressed(){
        if (plugin != null) {
          plugin.playRecording(getMapActivity(),recording);
        }
      }
    }
;
    titleButtonController.caption=getMapActivity().getString(R.string.recording_context_menu_play);
    titleButtonController.leftIconId=R.drawable.ic_play_dark;
    String durationStr=recording.getPlainDuration();
    titleButtonController.needRightText=true;
    titleButtonController.rightTextCaption="??? " + durationStr;
  }
}
