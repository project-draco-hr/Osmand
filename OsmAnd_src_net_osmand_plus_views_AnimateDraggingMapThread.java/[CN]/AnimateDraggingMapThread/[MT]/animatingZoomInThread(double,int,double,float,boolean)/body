{
  try {
    isAnimatingZoom=true;
    double curZoom=zoomStart;
    double zoomEnd=(zoom + zoomScale);
    animationTime*=Math.abs(zoomEnd - zoomStart);
    LinearInterpolator interpolator=new LinearInterpolator();
    long timeMillis=SystemClock.uptimeMillis();
    float normalizedTime=0f;
    while (!stopped) {
      normalizedTime=(SystemClock.uptimeMillis() - timeMillis) / animationTime;
      if (normalizedTime > 1f) {
        break;
      }
      float interpolation=interpolator.getInterpolation(normalizedTime);
      curZoom=interpolation * (zoomEnd - zoomStart) + zoomStart;
      tileView.zoomToAnimate(curZoom,notifyListener);
      try {
        Thread.sleep(DEFAULT_SLEEP_TO_REDRAW);
      }
 catch (      InterruptedException e) {
        stopped=true;
      }
    }
    tileView.setZoomAnimate(zoom,zoomScale,notifyListener);
  }
  finally {
    isAnimatingZoom=false;
  }
}
