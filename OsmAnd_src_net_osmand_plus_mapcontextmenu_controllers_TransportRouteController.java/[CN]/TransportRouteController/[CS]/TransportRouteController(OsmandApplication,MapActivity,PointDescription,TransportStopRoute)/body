{
  super(new MenuBuilder(app),pointDescription,mapActivity);
  this.transportRoute=transportRoute;
  toolbarController=new TopToolbarController(TopToolbarViewControllerType.CONTEXT_MENU){
    @Override public void onBackPressed(    TopToolbarView view){
      MapContextMenu menu=getMapActivity().getContextMenu();
      getMapActivity().hideTopToolbar(toolbarController);
      resetRoute();
      if (!menu.showPreviousMenu() && menu.getMenuController() == TransportRouteController.this) {
        menu.close();
      }
    }
    @Override public void onTitlePressed(    TopToolbarView view){
      showMenuAndRoute(getLatLon(),true);
    }
    @Override public void onClosePressed(    TopToolbarView view){
      MapContextMenu menu=getMapActivity().getContextMenu();
      if (menu.getMenuController() == TransportRouteController.this) {
        menu.close();
      }
 else {
        getMapActivity().hideTopToolbar(toolbarController);
        menu.clearHistoryStack();
        resetRoute();
        getMapActivity().refreshMap();
      }
    }
  }
;
  toolbarController.setTitle(getNameStr());
}
