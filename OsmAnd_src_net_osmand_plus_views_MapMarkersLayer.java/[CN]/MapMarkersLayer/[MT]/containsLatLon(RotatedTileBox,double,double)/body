{
  double widgetHeight=0;
  if (widget.isTopBarVisible()) {
    widgetHeight=widget.getTopBarHeight();
  }
  double tx=tb.getPixXFromLatLon(lat,lon);
  double ty=tb.getPixYFromLatLon(lat,lon);
  return tx >= 0 && tx <= tb.getPixWidth() && ty >= widgetHeight && ty <= tb.getPixHeight();
}
