{
  int r=encodeRule(pointRule,polylineRule,polygonRule,type,subtype);
  if (val != null) {
    rules.put(val,r);
  }
 else {
    nullRule=r;
  }
}
