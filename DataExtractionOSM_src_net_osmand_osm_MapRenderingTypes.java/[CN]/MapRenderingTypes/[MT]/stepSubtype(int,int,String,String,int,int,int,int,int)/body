{
  if (st == INIT_RULE_TYPES) {
    MapRulType rtype=types.get(tag);
    if (rtype == null) {
      rtype=new MapRulType(tag);
      types.put(tag,rtype);
    }
    rtype.registerType(minZoom,val,pointRule,polylineRule,polygonRule,type,subtype);
  }
 else   if (st == INIT_AMENITY_MAP) {
    if (pointRule == POINT_TYPE || polygonRule == POLYGON_WITH_CENTER_TYPE || polygonRule == POLYGON_TYPE) {
      registerAmenity(tag,val,type,subtype);
    }
  }
 else   if (st == INIT_TYPE_ZOOM) {
    if (minZoom < 15) {
      int value=(((subtype) << 5) | type) << 2;
      if (!objectsToMinZoom.containsKey(value)) {
        objectsToMinZoom.put(value,(byte)minZoom);
      }
    }
  }
}
