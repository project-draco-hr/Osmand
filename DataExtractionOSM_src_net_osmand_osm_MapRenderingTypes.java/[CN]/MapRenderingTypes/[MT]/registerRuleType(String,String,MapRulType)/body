{
  rt.id=types.size();
  String keyVal=constructRuleKey(tag,val);
  if (types.containsKey(keyVal)) {
    throw new RuntimeException("Duplicate " + keyVal);
  }
  types.put(keyVal,rt);
  typeList.add(rt);
}
