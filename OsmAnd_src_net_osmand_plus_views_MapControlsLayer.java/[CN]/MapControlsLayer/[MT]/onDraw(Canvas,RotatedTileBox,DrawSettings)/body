{
  int sh=Color.WHITE;
  if (nightMode != null && nightMode.isNightMode()) {
    sh=Color.TRANSPARENT;
  }
  if (shadowColor != sh) {
    shadowColor=sh;
    int textColor=sh == Color.WHITE ? Color.BLACK : HOVER_COLOR;
    rulerTextPaint.setColor(textColor);
    zoomControls.setShadowColor(textColor,sh);
    mapMenuControls.setShadowColor(textColor,sh);
  }
  boolean showZooms=!mapActivity.getRoutingHelper().isRouteCalculated();
  if (showZooms != zoomControls.isVisible()) {
    if (showZooms) {
      zoomControls.show((FrameLayout)mapActivity.getMapView().getParent());
    }
 else {
      zoomControls.hide((FrameLayout)mapActivity.getMapView().getParent());
    }
  }
  if (showZooms) {
    zoomControls.onDraw(canvas,tileBox,nightMode);
  }
  mapMenuControls.onDraw(canvas,tileBox,nightMode);
  drawRuler(canvas,tileBox,nightMode);
}
