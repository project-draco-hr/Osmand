{
  routePreparationLayout=mapActivity.findViewById(R.id.map_route_preparation_layout);
  View dashRouteButton=mapActivity.findViewById(R.id.map_dashboard_route_button);
  final boolean dash=settings.SHOW_DASHBOARD_ON_MAP_SCREEN.get();
  mapDashControl=createHudButton((ImageView)dashRouteButton,dash ? R.drawable.map_dashboard : R.drawable.map_drawer).setBg(R.drawable.btn_flat,R.drawable.btn_flat_night);
  controls.add(mapDashControl);
  dashRouteButton.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      if (dash) {
        mapActivity.getDashboard().setDashboardVisibility(true,DashboardType.DASHBOARD);
      }
 else {
        mapActivity.openDrawer();
      }
    }
  }
);
  View cancelRouteButton=mapActivity.findViewById(R.id.map_cancel_route_button);
  controls.add(createHudButton((ImageView)cancelRouteButton,R.drawable.map_action_cancel).setBg(R.drawable.btn_flat,R.drawable.btn_flat_night));
  cancelRouteButton.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      clickRouteCancel();
    }
  }
);
  mapRouteInfoControlDialog=new MapRouteInfoControl(mapActivity,this);
  View waypointsButton=mapActivity.findViewById(R.id.map_waypoints_route_button);
  controls.add(createHudButton((ImageView)waypointsButton,R.drawable.map_action_waypoints).setBg(R.drawable.btn_flat,R.drawable.btn_flat_night));
  waypointsButton.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      clickRouteWaypoints();
    }
  }
);
  View optionsRouteButton=mapActivity.findViewById(R.id.map_options_route_button);
  optionsRouteControl=createHudButton((ImageView)optionsRouteButton,R.drawable.map_action_settings).setBg(R.drawable.btn_flat,R.drawable.btn_flat_night);
  optionsRouteControlDialog=new MapRoutePreferencesControl(mapActivity,this);
  controls.add(optionsRouteControl);
  optionsRouteButton.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      clickRouteParams();
    }
  }
);
  TextView routeGoButton=(TextView)mapActivity.findViewById(R.id.map_go_route_button);
  routeGoControl=createHudButton(routeGoButton,R.drawable.map_start_navigation).setIconColorId(R.color.color_myloc_distance).setBg(R.drawable.btn_flat,R.drawable.btn_flat_night);
  controls.add(routeGoControl);
  routeGoButton.setText(mapActivity.getString(R.string.shared_string_go));
  routeGoButton.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      clickRouteGo();
    }
  }
);
}
