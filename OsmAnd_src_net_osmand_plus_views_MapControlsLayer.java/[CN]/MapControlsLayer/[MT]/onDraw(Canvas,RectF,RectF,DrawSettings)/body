{
  BaseMapLayer mainLayer=view.getMainLayer();
  boolean zoomInEnabled=mainLayer != null && view.getZoom() < mainLayer.getMaximumShownMapZoom();
  boolean zoomOutEnabled=mainLayer != null && view.getZoom() > mainLayer.getMinimumShownMapZoom();
  if (zoomInButton.isEnabled() != zoomInEnabled) {
    zoomInButton.setEnabled(zoomInEnabled);
  }
  if (zoomOutButton.isEnabled() != zoomOutEnabled) {
    zoomOutButton.setEnabled(zoomOutEnabled);
  }
  drawApplicationMode(canvas);
  if (view.isZooming()) {
    showZoomLevel=true;
    showUIHandler.removeMessages(SHOW_ZOOM_LEVEL_MSG_ID);
  }
 else {
    if (showZoomLevel) {
      hideZoomLevelInTime();
    }
  }
  if (showZoomLevel || !view.getSettings().SHOW_RULER.get()) {
    drawZoomLevel(canvas);
  }
 else {
    drawRuler(canvas);
  }
}
