{
  this.view=view;
  dm=new DisplayMetrics();
  WindowManager wmgr=(WindowManager)view.getContext().getSystemService(Context.WINDOW_SERVICE);
  wmgr.getDefaultDisplay().getMetrics(dm);
  scaleCoefficient=dm.density;
  if (Math.min(dm.widthPixels / (dm.density * 160),dm.heightPixels / (dm.density * 160)) > 2.5f) {
    scaleCoefficient*=1.5f;
  }
  FrameLayout parent=(FrameLayout)view.getParent();
  showUIHandler=new Handler();
  initZoomButtons(view,parent);
  initBackToMenuButton(view,parent);
  initRuler(view,parent);
  initTransparencyBar(view,parent);
}
