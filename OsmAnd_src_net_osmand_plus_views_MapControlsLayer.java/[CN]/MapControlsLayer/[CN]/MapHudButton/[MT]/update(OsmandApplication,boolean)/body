{
  if (nightMode == night && !f) {
    return;
  }
  f=false;
  nightMode=night;
  if (bgDark != 0 && bgLight != 0) {
    iv.setBackgroundDrawable(ctx.getResources().getDrawable(night ? bgDark : bgLight));
  }
  if (iv instanceof ImageView) {
    if (compass) {
      ((ImageView)iv).setImageDrawable(new CompassDrawable(ctx.getIconsCache().getIcon(resId,nightMode ? resDark : resLight)));
    }
 else {
      ((ImageView)iv).setImageDrawable(ctx.getIconsCache().getIcon(resId,nightMode ? resDark : resLight));
    }
  }
 else   if (iv instanceof TextView) {
    ((TextView)iv).setCompoundDrawables(ctx.getIconsCache().getIcon(resId,nightMode ? resDark : resLight),null,null,null);
  }
}
