{
  searchTransportLevel.setEnabled(false);
  if (lastKnownMapLocation != null) {
    List<TransportIndexRepository> rs=ResourceManager.getResourceManager().searchTransportRepositories(lastKnownMapLocation.getLatitude(),lastKnownMapLocation.getLongitude());
    if (!rs.isEmpty()) {
      repo=rs.get(0);
      progress.setVisibility(View.VISIBLE);
      new Thread(new Runnable(){
        @Override public void run(){
          List<RouteInfoLocation> res=repo.searchTransportRouteStops(lastKnownMapLocation.getLatitude(),lastKnownMapLocation.getLongitude(),locationToGo,zoom);
          updateUIList(res);
        }
      }
,"SearchingTransport").start();
    }
 else {
      repo=null;
      stopsAdapter.clear();
    }
  }
 else {
    stopsAdapter.clear();
  }
}
