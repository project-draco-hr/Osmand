{
  MapPoiTypes poiTypes=((OsmandApplication)getActivity().getApplication()).getPoiTypes();
  AlertDialog.Builder builder=new AlertDialog.Builder(getActivity());
  final Amenity a=(Amenity)getArguments().getSerializable(KEY_AMENITY);
  final Map<String,PoiType> allTranslatedNames=poiTypes.getAllTranslatedNames(a.getType(),true);
  final String[] subCats=allTranslatedNames.keySet().toArray(new String[0]);
  builder.setItems(subCats,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
      ((EditPoiFragment)getParentFragment()).setSubCategory(subCats[which]);
      dismiss();
    }
  }
);
  return builder.create();
}
