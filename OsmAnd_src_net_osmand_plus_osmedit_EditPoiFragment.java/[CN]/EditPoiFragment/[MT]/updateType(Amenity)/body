{
  Log.v(TAG,"updateType(" + "amenity=" + amenity + ")");
  mIsUserInput=false;
  poiTypeEditText.setText(amenity.getSubType());
  mIsUserInput=true;
  poiTypeTextInputLayout.setHint(amenity.getType().getTranslation());
  final Map<String,PoiType> subCategories=new LinkedHashMap<>();
  for (  Map.Entry<String,PoiType> s : allTranslatedSubTypes.entrySet()) {
    if (!subCategories.containsKey(s.getKey())) {
      subCategories.put(Algorithms.capitalizeFirstLetterAndLowercase(s.getKey()),s.getValue());
    }
  }
  final ArrayAdapter<Object> adapter=new ArrayAdapter<>(getActivity(),R.layout.list_textview,subCategories.keySet().toArray());
  poiTypeEditText.setAdapter(adapter);
  poiTypeEditText.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener(){
    @Override public void onItemSelected(    AdapterView<?> parent,    View view,    int position,    long id){
      Object item=parent.getAdapter().getItem(position);
      if (subCategories.containsKey(item)) {
        String keyName=subCategories.get(item).getKeyName();
        poiTypeEditText.setText(keyName);
      }
    }
    @Override public void onNothingSelected(    AdapterView<?> parent){
    }
  }
);
}
