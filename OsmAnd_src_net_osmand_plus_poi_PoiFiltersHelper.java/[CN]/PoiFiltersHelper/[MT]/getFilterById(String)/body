{
  if (filterId == null) {
    return null;
  }
  for (  PoiLegacyFilter f : getTopDefinedPoiFilters()) {
    if (f.getFilterId().equals(filterId)) {
      return f;
    }
  }
  PoiLegacyFilter ff=getFilterById(filterId,getCustomPOIFilter(),getSearchByNamePOIFilter(),getShowAllPOIFilter(),getNominatimPOIFilter(),getNominatimAddressFilter());
  if (ff != null) {
    return ff;
  }
  if (filterId.startsWith(PoiLegacyFilter.STD_PREFIX)) {
    String typeId=filterId.substring(PoiLegacyFilter.STD_PREFIX.length());
    AbstractPoiType tp=application.getPoiTypes().getAnyPoiTypeByKey(typeId);
    if (tp != null) {
      PoiLegacyFilter lf=new PoiLegacyFilter(tp,application);
      ArrayList<PoiLegacyFilter> copy=new ArrayList<PoiLegacyFilter>(cacheTopStandardFilters);
      copy.add(lf);
      sortListOfFilters(copy);
      cacheTopStandardFilters=copy;
      return lf;
    }
  }
  return null;
}
