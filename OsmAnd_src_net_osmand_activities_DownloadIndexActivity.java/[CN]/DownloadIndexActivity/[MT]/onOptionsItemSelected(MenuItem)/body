{
  if (item.getItemId() == RELOAD_ID) {
    downloadListIndexThread=new DownloadIndexListThread();
    downloadIndexList();
  }
 else   if (item.getItemId() == SELECT_ALL_ID) {
    List<Entry<String,String>> origReference=((DownloadIndexAdapter)getListAdapter()).getOrigReference();
    int selected=0;
    for (    Entry<String,String> es : origReference) {
      if (!entriesToDownload.containsKey(es.getKey())) {
        selected++;
        entriesToDownload.put(es.getKey(),createDownloadEntry(es));
      }
    }
    Toast.makeText(this,MessageFormat.format(getString(R.string.items_were_selected),selected),Toast.LENGTH_SHORT).show();
    ((DownloadIndexAdapter)getListAdapter()).notifyDataSetInvalidated();
    if (selected > 0) {
      findViewById(R.id.DownloadButton).setVisibility(View.VISIBLE);
    }
  }
 else   if (item.getItemId() == FILTER_EXISTING_REGIONS) {
    List<Entry<String,String>> origArray=((DownloadIndexAdapter)getListAdapter()).getOrigArray();
    List<Entry<String,String>> ref=((DownloadIndexAdapter)getListAdapter()).getOrigReference();
    ref.clear();
    for (    Entry<String,String> es : origArray) {
      DownloadEntry em=createDownloadEntry(es);
      if (em != null && em.fileToUnzip.exists()) {
        ref.add(es);
      }
    }
    ((DownloadIndexAdapter)getListAdapter()).notifyDataSetChanged();
  }
 else   if (item.getItemId() == DESELECT_ALL_ID) {
    entriesToDownload.clear();
    ((DownloadIndexAdapter)getListAdapter()).notifyDataSetInvalidated();
    findViewById(R.id.DownloadButton).setVisibility(View.GONE);
  }
 else {
    return false;
  }
  return true;
}
