{
  if (!visible) {
    return;
  }
  if (!isVectorDataVisible() && tileLayer != null) {
    tileLayer.drawTileMap(canvas,tilesRect);
    resourceManager.getRenderer().interruptLoadingMap();
  }
 else {
    if (!view.isZooming()) {
      pixRect.set(0,0,view.getWidth(),view.getHeight());
      updateRotatedTileBox();
      if (resourceManager.updateRenderedMapNeeded(rotatedTileBox)) {
        pixRect.set(-view.getWidth() / 3,-view.getHeight() / 4,4 * view.getWidth() / 3,5 * view.getHeight() / 4);
        updateRotatedTileBox();
        resourceManager.updateRendererMap(rotatedTileBox);
        if (warningToSwitchMapShown < 3) {
          if (!resourceManager.getRenderer().containsLatLonMapData(view.getLatitude(),view.getLongitude(),view.getZoom())) {
            Toast.makeText(view.getContext(),R.string.switch_to_raster_map_to_see,Toast.LENGTH_LONG).show();
            warningToSwitchMapShown++;
          }
        }
      }
    }
    MapRenderRepositories renderer=resourceManager.getRenderer();
    drawRenderedMap(canvas,renderer.getBitmap(),renderer.getBitmapLocation());
    drawRenderedMap(canvas,renderer.getPrevBitmap(),renderer.getPrevBmpLocation());
  }
}
