{
  if (textWidth > 0) {
    float availableWidth=textWidth - this.getPaddingLeft() - this.getPaddingRight();
    TextPaint tp=getPaint();
    Rect rect=new Rect();
    tp.getTextBounds(text,0,text.length(),rect);
    float size=rect.width();
    if (size > availableWidth)     setTextScaleX(availableWidth / size);
  }
}
