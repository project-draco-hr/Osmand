{
  FileBlock out=FileBlock.newInstance(type,null,indexdata);
  Fileformat.Blob blob=Fileformat.Blob.parseFrom(buf);
  if (blob.hasRaw()) {
    out.data=blob.getRaw();
  }
 else   if (blob.hasZlibData()) {
    byte buf2[]=new byte[blob.getRawSize()];
    Inflater decompresser=new Inflater();
    decompresser.setInput(blob.getZlibData().toByteArray());
    try {
      decompresser.inflate(buf2);
    }
 catch (    DataFormatException e) {
      e.printStackTrace();
      throw new Error(e);
    }
    assert(decompresser.finished());
    decompresser.end();
    out.data=ByteString.copyFrom(buf2);
  }
  return out;
}
