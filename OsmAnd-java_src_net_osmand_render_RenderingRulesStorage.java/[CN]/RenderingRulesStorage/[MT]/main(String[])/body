{
  InputStream is=RenderingRulesStorage.class.getResourceAsStream("default.render.xml");
  if (args != null && args.length > 0) {
    is=new FileInputStream(args[0]);
  }
  RenderingRulesStorage storage=new RenderingRulesStorage("test",null);
  final RenderingRulesStorageResolver resolver=new RenderingRulesStorageResolver(){
    @Override public RenderingRulesStorage resolve(    String name,    RenderingRulesStorageResolver ref) throws XmlPullParserException, IOException {
      RenderingRulesStorage depends=new RenderingRulesStorage("test",null);
      depends.parseRulesFromXmlInputStream(RenderingRulesStorage.class.getResourceAsStream(name + ".render.xml"),ref);
      return depends;
    }
  }
;
  storage.parseRulesFromXmlInputStream(is,resolver);
  printAllRules(storage);
}
