{
  ArrayList<PointItem> pointItemsList=new ArrayList<PointItem>();
  for (int i=0; i < sortedPointsList.size(); i++) {
    String pointName=sortedPointsList.get(i).name;
    if (pointsStatus.get(i) != 0) {
      String dateString;
      Date date=new Date(pointsStatus.get(i));
      if (DateFormat.is24HourFormat(app)) {
        dateString=DateFormat.format("MM/dd k:mm",date).toString();
      }
 else {
        dateString=DateFormat.format("MM/dd h:mm",date).toString() + DateFormat.format("aa",date).toString();
      }
      pointItemsList.add(new PointItem(true,pointName,dateString));
    }
 else {
      if (i == 0) {
        pointItemsList.add(new PointItem(false,pointName,""));
        continue;
      }
      GPXUtilities.WptPt first=sortedPointsList.get(i - 1);
      GPXUtilities.WptPt second=sortedPointsList.get(i);
      double d=MapUtils.getDistance(first.lat,first.lon,second.lat,second.lon);
      String distance=OsmAndFormatter.getFormattedDistance((float)d,app);
      pointItemsList.add(new PointItem(false,pointName,distance));
    }
  }
  PointItemAdapter adapter=new PointItemAdapter(this,R.layout.route_point_info,pointItemsList);
  ListView listView=getListView();
  listView.setAdapter(adapter);
  listView.setOnItemClickListener(new AdapterView.OnItemClickListener(){
    @TargetApi(Build.VERSION_CODES.HONEYCOMB) @Override public void onItemClick(    AdapterView<?> adapterView,    View view,    int i,    long l){
      selectedItemIndex=i;
      view.setSelected(true);
      actionMode=getActivity().startActionMode(mActionModeCallback);
    }
  }
);
}
