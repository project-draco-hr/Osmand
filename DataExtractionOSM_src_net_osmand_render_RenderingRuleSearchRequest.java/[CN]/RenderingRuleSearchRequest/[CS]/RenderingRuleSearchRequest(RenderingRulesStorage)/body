{
  this.storage=storage;
  this.ALL=storage.PROPS;
  if (storage.getDependsStorage() != null) {
    dependsRequest=new RenderingRuleSearchRequest(storage.getDependsStorage());
  }
 else {
    dependsRequest=null;
  }
  props=storage.PROPS.getPoperties();
  values=new int[props.length];
  for (int i=0; i < props.length; i++) {
    if (!props[i].isColor()) {
      values[i]=-1;
    }
  }
  fvalues=new float[props.length];
  saveState();
}
