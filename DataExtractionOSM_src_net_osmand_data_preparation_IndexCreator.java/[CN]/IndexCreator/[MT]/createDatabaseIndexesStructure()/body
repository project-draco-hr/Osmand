{
  if (indexMap || indexAddress || indexTransport) {
    mapFile=new File(workingDir,getMapFileName());
    mapFile.getParentFile().mkdirs();
    File tempDBMapFile=new File(workingDir,getTempMapDBFileName());
    dialect.removeDatabase(tempDBMapFile);
    mapConnection=getDatabaseConnection(tempDBMapFile.getAbsolutePath());
    mapConnection.setAutoCommit(false);
  }
  if (indexMap) {
    indexMapCreator.createDatabaseStructure(mapConnection,dialect,getRTreeMapIndexNonPackFileName());
  }
  if (indexAddress) {
    indexAddressCreator.createDatabaseStructure(mapConnection,dialect);
  }
  if (indexPOI) {
    indexPoiCreator.createDatabaseStructure(new File(workingDir,getPoiFileName()));
  }
  if (indexTransport) {
    indexTransportCreator.createTransportIndexStructure(mapConnection,dialect,getRTreeTransportStopsFileName());
  }
}
