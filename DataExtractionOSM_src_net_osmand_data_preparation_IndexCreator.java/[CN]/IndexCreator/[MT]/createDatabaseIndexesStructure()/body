{
  if (indexMap || indexAddress || indexTransport|| indexPOI) {
    mapFile=new File(workingDir,getMapFileName());
    mapFile.getParentFile().mkdirs();
    File tempDBMapFile=new File(workingDir,getTempMapDBFileName());
    mapDBDialect.removeDatabase(tempDBMapFile);
    mapConnection=(Connection)getDatabaseConnection(tempDBMapFile.getAbsolutePath(),mapDBDialect);
    mapConnection.setAutoCommit(false);
  }
  if (indexMap) {
    indexMapCreator.createDatabaseStructure(mapConnection,mapDBDialect,getRTreeMapIndexNonPackFileName());
  }
  if (indexRouting) {
    indexRouteCreator.createDatabaseStructure(mapConnection,mapDBDialect,getRTreeRouteIndexNonPackFileName());
  }
  if (indexAddress) {
    indexAddressCreator.createDatabaseStructure(mapConnection,mapDBDialect);
  }
  if (indexPOI) {
    indexPoiCreator.createDatabaseStructure(new File(workingDir,getPoiFileName()));
  }
  if (indexTransport) {
    indexTransportCreator.createDatabaseStructure(mapConnection,mapDBDialect,getRTreeTransportStopsFileName());
  }
}
