{
  mapFile=new File(workingDir,getMapFileName());
  mapFile.getParentFile().mkdirs();
  File tempDBMapFile=new File(workingDir,getTempMapDBFileName());
  mapIndexDBDialect.removeDatabase(tempDBMapFile);
  mapConnection=(Connection)getDatabaseConnection(tempDBMapFile.getAbsolutePath(),mapIndexDBDialect);
  mapConnection.setAutoCommit(false);
  if (indexMap) {
    indexMapCreator.createDatabaseStructure(mapConnection,mapIndexDBDialect,getRTreeMapIndexNonPackFileName());
  }
  if (indexRouting) {
    indexRouteCreator.createDatabaseStructure(mapConnection,mapIndexDBDialect,getRTreeRouteIndexNonPackFileName());
  }
  if (indexAddress) {
    indexAddressCreator.createDatabaseStructure(mapConnection,mapIndexDBDialect);
  }
  if (indexPOI) {
    indexPoiCreator.createDatabaseStructure(new File(workingDir,getPoiFileName()));
  }
  if (indexTransport) {
    indexTransportCreator.createDatabaseStructure(mapConnection,mapIndexDBDialect,getRTreeTransportStopsFileName());
  }
}
