{
  if (fileName != null) {
    Integer i=fileNamesMap.get(fileName);
    if (i == null) {
      if (fileNamesMap.size() > 1023) {
        throw new ArrayIndexOutOfBoundsException();
      }
      fileNamesMap.put(fileName,fileNamesMap.size());
      i=fileNamesMap.get(fileName);
    }
    return ((idx << 10) + i);
  }
 else {
    System.out.println("CachedNodes.calKey: fileName null");
    return 0;
  }
}
