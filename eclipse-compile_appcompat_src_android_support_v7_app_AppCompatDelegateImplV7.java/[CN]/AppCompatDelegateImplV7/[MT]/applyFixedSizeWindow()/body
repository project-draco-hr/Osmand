{
  TypedArray a=mContext.obtainStyledAttributes(R.styleable.Theme);
  TypedValue mFixedWidthMajor=null;
  TypedValue mFixedWidthMinor=null;
  TypedValue mFixedHeightMajor=null;
  TypedValue mFixedHeightMinor=null;
  if (a.hasValue(R.styleable.Theme_windowFixedWidthMajor)) {
    if (mFixedWidthMajor == null)     mFixedWidthMajor=new TypedValue();
    a.getValue(R.styleable.Theme_windowFixedWidthMajor,mFixedWidthMajor);
  }
  if (a.hasValue(R.styleable.Theme_windowFixedWidthMinor)) {
    if (mFixedWidthMinor == null)     mFixedWidthMinor=new TypedValue();
    a.getValue(R.styleable.Theme_windowFixedWidthMinor,mFixedWidthMinor);
  }
  if (a.hasValue(R.styleable.Theme_windowFixedHeightMajor)) {
    if (mFixedHeightMajor == null)     mFixedHeightMajor=new TypedValue();
    a.getValue(R.styleable.Theme_windowFixedHeightMajor,mFixedHeightMajor);
  }
  if (a.hasValue(R.styleable.Theme_windowFixedHeightMinor)) {
    if (mFixedHeightMinor == null)     mFixedHeightMinor=new TypedValue();
    a.getValue(R.styleable.Theme_windowFixedHeightMinor,mFixedHeightMinor);
  }
  final DisplayMetrics metrics=mContext.getResources().getDisplayMetrics();
  final boolean isPortrait=metrics.widthPixels < metrics.heightPixels;
  int w=ViewGroup.LayoutParams.MATCH_PARENT;
  int h=ViewGroup.LayoutParams.MATCH_PARENT;
  final TypedValue tvw=isPortrait ? mFixedWidthMinor : mFixedWidthMajor;
  if (tvw != null && tvw.type != TypedValue.TYPE_NULL) {
    if (tvw.type == TypedValue.TYPE_DIMENSION) {
      w=(int)tvw.getDimension(metrics);
    }
 else     if (tvw.type == TypedValue.TYPE_FRACTION) {
      w=(int)tvw.getFraction(metrics.widthPixels,metrics.widthPixels);
    }
  }
  final TypedValue tvh=isPortrait ? mFixedHeightMajor : mFixedHeightMinor;
  if (tvh != null && tvh.type != TypedValue.TYPE_NULL) {
    if (tvh.type == TypedValue.TYPE_DIMENSION) {
      h=(int)tvh.getDimension(metrics);
    }
 else     if (tvh.type == TypedValue.TYPE_FRACTION) {
      h=(int)tvh.getFraction(metrics.heightPixels,metrics.heightPixels);
    }
  }
  if (w != ViewGroup.LayoutParams.MATCH_PARENT || h != ViewGroup.LayoutParams.MATCH_PARENT) {
    mWindow.setLayout(w,h);
  }
  a.recycle();
}
