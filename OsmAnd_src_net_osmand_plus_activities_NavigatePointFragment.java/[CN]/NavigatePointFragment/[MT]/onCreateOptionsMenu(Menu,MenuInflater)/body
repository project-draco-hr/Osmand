{
  OsmandApplication app=(OsmandApplication)getActivity().getApplication();
  boolean light=app.getSettings().isLightActionBar();
  List<BottomMenuItem> menuItems=new ArrayList<BottomMenuItem>();
  BottomMenuItem menuItem=new BottomMenuItem().setIcon(light ? R.drawable.ic_action_gdirections_light : R.drawable.ic_action_gdirections_dark).setMsg(R.string.context_menu_item_directions_to).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      select(NAVIGATE_TO);
    }
  }
);
  menuItems.add(menuItem);
  TargetPointsHelper targets=app.getTargetPointsHelper();
  menuItem=new BottomMenuItem();
  if (targets.getPointToNavigate() != null) {
    menuItem.setIcon(light ? R.drawable.ic_action_flage_light : R.drawable.ic_action_flage_dark).setMsg(R.string.context_menu_item_intermediate_point);
  }
 else {
    menuItem.setIcon(light ? R.drawable.ic_action_flag_light : R.drawable.ic_action_flag_dark).setMsg(R.string.context_menu_item_destination_point);
  }
  menuItem.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      select(ADD_WAYPOINT);
    }
  }
);
  menuItems.add(menuItem);
  menuItem=new BottomMenuItem().setIcon(light ? R.drawable.ic_action_marker_light : R.drawable.ic_action_marker_dark).setMsg(R.string.search_shown_on_map).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      select(SHOW_ON_MAP);
    }
  }
);
  menuItems.add(menuItem);
  menuItem=new BottomMenuItem().setIcon(light ? R.drawable.ic_action_fav_light : R.drawable.ic_action_fav_dark).setMsg(R.string.add_to_favourite).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      select(ADD_TO_FAVORITE);
    }
  }
);
  menuItems.add(menuItem);
  ((SearchActivity)getActivity()).setupBottomMenu(menuItems);
}
