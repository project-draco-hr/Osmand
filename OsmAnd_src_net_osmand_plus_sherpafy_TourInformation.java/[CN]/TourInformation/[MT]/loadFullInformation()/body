{
  XmlPullParser parser=PlatformUtil.newXMLPullParser();
  final Reader reader=getUTF8Reader(new FileInputStream(new File(folder,"inventory.xml")));
  parser.setInput(reader);
  int tok;
  String text="";
  StageInformation stage=null;
  stageInformation.clear();
  while ((tok=parser.next()) != XmlPullParser.END_DOCUMENT) {
    if (tok == XmlPullParser.START_TAG) {
      String tag=parser.getName();
      if (tag.equals("tour")) {
        name=getDefAttribute(parser,"name",name);
        homeUrl=getDefAttribute(parser,"url","");
      }
 else       if (tag.equals("stage")) {
        String name=getDefAttribute(parser,"name","");
        stage=new StageInformation(this,stageInformation.size());
        stage.name=name;
      }
 else       if (tag.equals("itinerary") && stage != null) {
        String img=getDefAttribute(parser,"image","");
        if (img.startsWith(FILE_PREFIX)) {
          stage.itineraryFile=getFile(img);
        }
        stage.itinerary=getInnerXml(parser);
      }
 else       if (tag.equals("fullDescription")) {
        fulldescription=getInnerXml(parser);
      }
 else       if (tag.equals("instructions")) {
        instructions=getInnerXml(parser);
      }
 else       if (stage != null && tag.equals("interval")) {
        stage.distance=Double.parseDouble(getDefAttribute(parser,"distance","0"));
      }
 else       if (stage != null && tag.equals("description")) {
        stage.fullDescription=getInnerXml(parser);
      }
    }
 else     if (tok == XmlPullParser.TEXT) {
      text=parser.getText();
    }
 else     if (tok == XmlPullParser.END_TAG) {
      String tag=parser.getName();
      if (tag.equals("stage")) {
        stageInformation.add(stage);
        stage=null;
      }
 else       if (stage != null && tag.equals("fullDescription")) {
        stage.fullDescription=text;
      }
 else       if (stage != null && tag.equals("defaultImage")) {
        if (text.startsWith(FILE_PREFIX)) {
          stage.imgFile=getFile(text);
        }
      }
 else       if (tag.equals("defaultImage")) {
        if (text.startsWith(FILE_PREFIX)) {
          imgFile=getFile(text);
        }
      }
 else       if (stage != null && tag.equals("gpx")) {
        if (text.startsWith(FILE_PREFIX)) {
          stage.gpxFile=getFile(text);
        }
      }
 else       if (tag.equals("shortDescription")) {
        if (stage != null) {
          stage.shortDescription=text;
        }
 else {
          shortDescription=text;
        }
      }
      text="";
    }
  }
  reader.close();
}
