{
  buffer.append("switch (");
  Expression expr=node.getExpression();
  ITypeBinding exprType=Types.getTypeBinding(expr);
  if (exprType.isEnum()) {
    buffer.append('[');
  }
  expr.accept(this);
  if (exprType.isEnum()) {
    buffer.append(" ordinal]");
  }
  buffer.append(") ");
  buffer.append("{\n");
  List<Statement> stmts=node.statements();
  boolean needsClosingBrace=false;
  int nStatements=stmts.size();
  for (int i=0; i < nStatements; i++) {
    Statement stmt=stmts.get(i);
    buffer.syncLineNumbers(stmt);
    if (stmt instanceof SwitchCase) {
      if (needsClosingBrace) {
        buffer.append("}\n");
        needsClosingBrace=false;
      }
      stmt.accept(this);
      if (declaresLocalVar(stmts,i + 1)) {
        buffer.append(" {\n");
        needsClosingBrace=true;
      }
 else {
        buffer.append('\n');
      }
    }
 else {
      stmt.accept(this);
    }
  }
  if (!stmts.isEmpty() && stmts.get(nStatements - 1) instanceof SwitchCase) {
    buffer.append(";\n");
  }
  if (needsClosingBrace) {
    buffer.append("}\n");
  }
  buffer.append("}\n");
  return false;
}
