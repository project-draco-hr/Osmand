{
  final ColorStateList csl=getThemeAttrColorStateList(context,attr);
  if (csl != null && csl.isStateful()) {
    return csl.getColorForState(DISABLED_STATE_SET,csl.getDefaultColor());
  }
 else {
    final TypedValue tv=getTypedValue();
    context.getTheme().resolveAttribute(android.R.attr.disabledAlpha,tv,true);
    final float disabledAlpha=tv.getFloat();
    return getThemeAttrColor(context,attr,disabledAlpha);
  }
}
