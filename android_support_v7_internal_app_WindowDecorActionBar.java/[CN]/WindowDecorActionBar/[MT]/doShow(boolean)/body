{
  if (mCurrentShowAnim != null) {
    mCurrentShowAnim.cancel();
  }
  mContainerView.setVisibility(View.VISIBLE);
  if (mCurWindowVisibility == View.VISIBLE && ALLOW_SHOW_HIDE_ANIMATIONS && (mShowHideAnimationEnabled || fromSystem)) {
    ViewCompat.setTranslationY(mContainerView,0f);
    float startingY=-mContainerView.getHeight();
    if (fromSystem) {
      int topLeft[]={0,0};
      mContainerView.getLocationInWindow(topLeft);
      startingY-=topLeft[1];
    }
    ViewCompat.setTranslationY(mContainerView,startingY);
    ViewPropertyAnimatorCompatSet anim=new ViewPropertyAnimatorCompatSet();
    ViewPropertyAnimatorCompat a=ViewCompat.animate(mContainerView).translationY(0f);
    a.setUpdateListener(mUpdateListener);
    anim.play(a);
    if (mContentAnimations && mContentView != null) {
      ViewCompat.setTranslationY(mContentView,startingY);
      anim.play(ViewCompat.animate(mContentView).translationY(0f));
    }
    if (mSplitView != null && mContextDisplayMode == CONTEXT_DISPLAY_SPLIT) {
      ViewCompat.setTranslationY(mSplitView,mSplitView.getHeight());
      mSplitView.setVisibility(View.VISIBLE);
      anim.play(ViewCompat.animate(mSplitView).translationY(0f));
    }
    anim.setInterpolator(AnimationUtils.loadInterpolator(mContext,android.R.anim.decelerate_interpolator));
    anim.setDuration(250);
    anim.setListener(mShowListener);
    mCurrentShowAnim=anim;
    anim.start();
  }
 else {
    ViewCompat.setAlpha(mContainerView,1f);
    ViewCompat.setTranslationY(mContainerView,0);
    if (mContentAnimations && mContentView != null) {
      ViewCompat.setTranslationY(mContentView,0);
    }
    if (mSplitView != null && mContextDisplayMode == CONTEXT_DISPLAY_SPLIT) {
      ViewCompat.setAlpha(mSplitView,1f);
      ViewCompat.setTranslationY(mSplitView,0);
      mSplitView.setVisibility(View.VISIBLE);
    }
    mShowListener.onAnimationEnd(null);
  }
  if (mOverlayLayout != null) {
    ViewCompat.requestApplyInsets(mOverlayLayout);
  }
}
