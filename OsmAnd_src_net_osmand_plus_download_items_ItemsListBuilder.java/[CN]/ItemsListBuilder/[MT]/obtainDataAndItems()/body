{
  if (invalidated) {
    resourcesByRegions.clear();
  }
  if (resourcesByRegions.isEmpty()) {
    if (!prepareData()) {
      return false;
    }
  }
  collectSubregionsDataAndItems();
  collectResourcesDataAndItems();
  LOG.warn("getRegionMapItems >>>");
  for (  ResourceItem resourceItem : getRegionMapItems()) {
    LOG.warn("resId=" + resourceItem.getIndexItem().getFileName() + " title="+ resourceItem.getTitle());
  }
  LOG.warn("getAllResourceItems >>>");
  for (  Object obj : getAllResourceItems()) {
    if (obj instanceof WorldRegion) {
      WorldRegion item=(WorldRegion)obj;
      LOG.warn("W resId=" + item.getRegionId() + " title="+ item.getName());
    }
 else     if (obj instanceof ResourceItem) {
      ResourceItem resourceItem=(ResourceItem)obj;
      LOG.warn("R resId=" + resourceItem.getIndexItem().getFileName() + " title="+ resourceItem.getTitle());
    }
  }
  invalidated=false;
  return true;
}
