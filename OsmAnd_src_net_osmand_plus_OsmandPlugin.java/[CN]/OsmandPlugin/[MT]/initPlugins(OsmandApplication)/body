{
  OsmandSettings settings=app.getSettings();
  OsmandRasterMapsPlugin rasterMapsPlugin=new OsmandRasterMapsPlugin(app);
  installedPlugins.add(rasterMapsPlugin);
  installedPlugins.add(new OsmandMonitoringPlugin(app));
  installedPlugins.add(new OsMoPlugin(app));
  installedPlugins.add(new AudioVideoNotesPlugin(app));
  installedPlugins.add(new DistanceCalculatorPlugin(app));
  installedPlugins.add(new AccessibilityPlugin(app));
  if (!installPlugin(SRTM_PLUGIN_COMPONENT_PAID,SRTMPlugin.ID,app,new SRTMPlugin(app,true))) {
    installPlugin(SRTM_PLUGIN_COMPONENT,SRTMPlugin.FREE_ID,app,new SRTMPlugin(app,false));
  }
  final ParkingPositionPlugin parking=new ParkingPositionPlugin(app);
  boolean f=installPlugin(PARKING_PLUGIN_COMPONENT,ParkingPositionPlugin.ID,app,parking);
  if (!f && Version.isParkingPluginInlined(app)) {
    installedPlugins.add(parking);
  }
  RoutePointsPlugin routePointsPlugin=new RoutePointsPlugin(app);
  installedPlugins.add(routePointsPlugin);
  installPlugin(OSMODROID_PLUGIN_COMPONENT,OsMoDroidPlugin.ID,app,new OsMoDroidPlugin(app));
  installedPlugins.add(new OsmEditingPlugin(app));
  installedPlugins.add(new OsmandDevelopmentPlugin(app));
  Set<String> enabledPlugins=settings.getEnabledPlugins();
  for (  OsmandPlugin plugin : installedPlugins) {
    if (enabledPlugins.contains(plugin.getId())) {
      try {
        if (plugin.init(app)) {
          activePlugins.add(plugin);
        }
      }
 catch (      Exception e) {
        LOG.error("Plugin initialization failed " + plugin.getId(),e);
      }
    }
  }
}
