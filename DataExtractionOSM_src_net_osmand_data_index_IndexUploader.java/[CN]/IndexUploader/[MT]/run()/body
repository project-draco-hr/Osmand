{
  File[] listFiles=directory.listFiles();
  for (  File f : listFiles) {
    try {
      if (!f.isFile()) {
        continue;
      }
      File unzipped=unzip(f);
      String description=getDescription(unzipped);
      zip(unzipped,getZipfileName(unzipped),description);
      unzipped.delete();
    }
 catch (    OneFileException e) {
      log.error(f.getName() + ": " + e.getMessage());
    }
  }
}
