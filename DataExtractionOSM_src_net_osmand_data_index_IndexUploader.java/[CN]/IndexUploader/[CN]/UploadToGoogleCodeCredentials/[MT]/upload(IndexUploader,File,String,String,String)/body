{
  if (uploaded.containsKey(toUpload.getName()) && date.equals(uploaded.get(toUpload.getName()))) {
    return;
  }
  String descriptionFile="{" + date + " : "+ size+ " MB}";
  summary+=" " + descriptionFile;
  List<File> splittedFiles=Collections.emptyList();
  try {
    splittedFiles=uploader.splitFiles(toUpload);
    for (    File fs : splittedFiles) {
      if (uploaded.containsKey(fs.getName()) && date.equals(uploaded.get(fs.getName()))) {
        return;
      }
      uploader.uploadToGoogleCode(fs,summary,this);
    }
  }
  finally {
    for (    File fs : splittedFiles) {
      if (!fs.equals(toUpload)) {
        fs.delete();
      }
    }
  }
}
