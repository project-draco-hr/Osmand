{
  if (values instanceof Collection<?>) {
    return ((Collection<?>)values).size();
  }
  int size=0;
  for (Iterator<?> i=values.iterator(); i.hasNext(); ) {
    i.next();
    size++;
  }
  return size;
}
