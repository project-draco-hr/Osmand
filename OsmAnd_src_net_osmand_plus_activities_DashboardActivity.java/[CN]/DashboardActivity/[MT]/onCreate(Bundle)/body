{
  getMyApplication().applyTheme(this);
  super.onCreate(savedInstanceState);
  if (getIntent() != null) {
    Intent intent=getIntent();
    if (intent.getExtras() != null && intent.getExtras().containsKey(APP_EXIT_KEY)) {
      getMyApplication().closeApplication(this);
      return;
    }
  }
  if (Version.isSherpafy(getMyApplication())) {
    final Intent mapIntent=new Intent(this,TourViewActivity.class);
    startActivity(mapIntent);
    finish();
    return;
  }
  setContentView(R.layout.dashboard);
  final String textVersion=Version.getFullVersion(getMyApplication());
  getSupportActionBar().setTitle(textVersion);
  final int abTitleId=getResources().getIdentifier("action_bar_title","id","android");
  final SharedPreferences prefs=getApplicationContext().getSharedPreferences("net.osmand.settings",MODE_WORLD_READABLE);
  findViewById(abTitleId).setOnClickListener(new View.OnClickListener(){
    int i=0;
    @Override public void onClick(    View view){
      if (i++ > 8) {
        prefs.edit().putBoolean(CONTRIBUTION_VERSION_FLAG,true).commit();
        enableLink(DashboardActivity.this,textVersion,(TextView)view);
      }
    }
  }
);
  ColorDrawable color=new ColorDrawable(getResources().getColor(R.color.actionbar_color));
  getSupportActionBar().setBackgroundDrawable(color);
  getSupportActionBar().setIcon(android.R.color.transparent);
  setupContributionVersion();
  addFragments();
  initApp(this,getMyApplication());
}
