{
  LinearLayout bottomControls=(LinearLayout)findViewById(R.id.bottomControls);
  if (bottomControls == null) {
    return;
  }
  bottomControls.removeAllViews();
  if (menuItems.size() == 0) {
    findViewById(R.id.devider).setVisibility(View.GONE);
  }
 else {
    findViewById(R.id.devider).setVisibility(View.VISIBLE);
  }
  for (  BottomMenuItem item : menuItems) {
    ImageButton imageButton=new ImageButton(this);
    imageButton.setImageResource(item.getIcon());
    TableRow.LayoutParams params=new TableRow.LayoutParams(0,ViewGroup.LayoutParams.WRAP_CONTENT,1.0f);
    params.gravity=Gravity.CENTER_VERTICAL;
    imageButton.setLayoutParams(params);
    imageButton.setOnClickListener(item.getOnClickListener());
    imageButton.setBackgroundResource(R.drawable.bottom_menu_item);
    bottomControls.addView(imageButton);
  }
}
