{
  super.onAttach(activity);
  app=(OsmandApplication)getActivity().getApplication();
  customization=(SherpafyCustomization)app.getAppCustomization();
  String id=getArguments().getString("TOUR");
  for (  TourInformation ti : customization.getTourInformations()) {
    if (ti.getId().equals(id)) {
      tour=ti;
      break;
    }
  }
  int k=getArguments().getInt(SherpafyStageInfoFragment.STAGE_PARAM);
  if (tour != null && tour.getStageInformation().size() > k) {
    stage=tour.getStageInformation().get(k);
  }
  setHasOptionsMenu(true);
}
