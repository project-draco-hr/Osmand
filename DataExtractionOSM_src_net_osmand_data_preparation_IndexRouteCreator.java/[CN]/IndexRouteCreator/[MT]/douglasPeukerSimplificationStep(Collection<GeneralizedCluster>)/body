{
  for (  GeneralizedCluster cluster : clusters) {
    ArrayList<GeneralizedWay> copy=new ArrayList<GeneralizedWay>(cluster.ways);
    for (    GeneralizedWay gw : copy) {
      Set<Integer> res=new HashSet<Integer>();
      simplifyDouglasPeucker(gw,DOUGLAS_PEUKER_DISTANCE,res,0,gw.size() - 1);
      int ind=1;
      int len=gw.size() - 1;
      for (int j=1; j < len; j++) {
        if (!res.contains(j) && countAdjacentRoads(cluster,gw,ind) == 0) {
          GeneralizedCluster gcluster=getCluster(gw,ind,cluster);
          gcluster.removeWayFromLocation(gw,ind);
          gw.px.removeAt(ind);
          gw.py.removeAt(ind);
        }
 else {
          ind++;
        }
      }
    }
  }
}
