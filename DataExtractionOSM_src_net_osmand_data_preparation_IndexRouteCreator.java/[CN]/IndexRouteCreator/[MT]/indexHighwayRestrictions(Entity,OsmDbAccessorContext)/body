{
  if (e instanceof Relation && "restriction".equals(e.getTag(OSMTagKey.TYPE))) {
    String val=e.getTag("restriction");
    if (val != null) {
      byte type=-1;
      if ("no_right_turn".equalsIgnoreCase(val)) {
        type=MapRenderingTypes.RESTRICTION_NO_RIGHT_TURN;
      }
 else       if ("no_left_turn".equalsIgnoreCase(val)) {
        type=MapRenderingTypes.RESTRICTION_NO_LEFT_TURN;
      }
 else       if ("no_u_turn".equalsIgnoreCase(val)) {
        type=MapRenderingTypes.RESTRICTION_NO_U_TURN;
      }
 else       if ("no_straight_on".equalsIgnoreCase(val)) {
        type=MapRenderingTypes.RESTRICTION_NO_STRAIGHT_ON;
      }
 else       if ("only_right_turn".equalsIgnoreCase(val)) {
        type=MapRenderingTypes.RESTRICTION_ONLY_RIGHT_TURN;
      }
 else       if ("only_left_turn".equalsIgnoreCase(val)) {
        type=MapRenderingTypes.RESTRICTION_ONLY_LEFT_TURN;
      }
 else       if ("only_straight_on".equalsIgnoreCase(val)) {
        type=MapRenderingTypes.RESTRICTION_ONLY_STRAIGHT_ON;
      }
      if (type != -1) {
        ctx.loadEntityRelation((Relation)e);
        Collection<EntityId> fromL=((Relation)e).getMemberIds("from");
        Collection<EntityId> toL=((Relation)e).getMemberIds("to");
        if (!fromL.isEmpty() && !toL.isEmpty()) {
          EntityId from=fromL.iterator().next();
          EntityId to=toL.iterator().next();
          if (from.getType() == EntityType.WAY) {
            if (!highwayRestrictions.containsKey(from.getId())) {
              highwayRestrictions.put(from.getId(),new TLongArrayList());
            }
            highwayRestrictions.get(from.getId()).add((to.getId() << 3) | (long)type);
          }
        }
      }
    }
  }
}
