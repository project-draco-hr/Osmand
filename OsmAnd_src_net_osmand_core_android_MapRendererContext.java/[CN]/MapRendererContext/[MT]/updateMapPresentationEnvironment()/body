{
  _mapPresentationEnvironment=new MapPresentationEnvironment(_mapStyle,_displayDensityFactor,_localeLanguageId,_languagePreference);
  if (_mapStyleSettings != null) {
    QStringStringHash convertedStyleSettings=new QStringStringHash();
    for (Iterator<Map.Entry<String,String>> itSetting=_mapStyleSettings.entrySet().iterator(); itSetting.hasNext(); ) {
      Map.Entry<String,String> setting=itSetting.next();
      convertedStyleSettings.set(setting.getKey(),setting.getValue());
    }
    _mapPresentationEnvironment.setSettings(convertedStyleSettings);
  }
  if (_mapPrimitiviser != null)   updateMapPrimitiviser();
}
