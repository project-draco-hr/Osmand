{
synchronized (_syncObject) {
    boolean update=false;
    if (_mapStyle != mapStyle) {
      _mapStyle=mapStyle;
      update=true;
    }
    if (_obfsCollection != obfsCollection) {
      _obfsCollection=obfsCollection;
      update=true;
    }
    if (_obfMapRasterLayer == null || _obfMapRasterLayer != layer) {
      _obfMapRasterLayer=layer;
      update=true;
    }
    if (withSymbols != (_obfMapSymbolsProvider != null)) {
      update=true;
    }
    if (!update)     return;
    updateMapPresentationEnvironment();
    updateMapPrimitiviser();
    updateMapPrimitivesProvider();
    updateObfMapObjectsProvider();
    updateObfMapRasterLayerProvider();
    updateObfMapSymbolsProvider();
  }
}
