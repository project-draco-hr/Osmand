{
  Map<String,String> map=new LinkedHashMap<String,String>();
  for (  String tag : tags.keySet()) {
    String val=tags.get(tag);
    MapRulType rType=getAmenityRuleType(tag,val);
    if (rType != null && val != null && val.length() > 0) {
      if (rType == nameEnRuleType && Algorithms.objectEquals(val,tags.get(OSMTagKey.NAME))) {
        continue;
      }
      if (rType.isAdditionalOrText()) {
        if (!rType.isText() && !Algorithms.isEmpty(rType.tagValuePattern.value)) {
          val=rType.tagValuePattern.value;
        }
        map.put(rType.tagValuePattern.tag,val);
      }
    }
  }
  return map;
}
