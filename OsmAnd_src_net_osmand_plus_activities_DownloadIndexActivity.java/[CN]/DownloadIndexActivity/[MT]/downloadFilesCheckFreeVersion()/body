{
  if (Version.isFreeVersion(this)) {
    int total=settings.NUMBER_OF_FREE_DOWNLOADS.get() + entriesToDownload.size();
    boolean wiki=false;
    for (    DownloadEntry es : entriesToDownload.values()) {
      if (es.baseName != null && es.baseName.contains("_wiki")) {
        wiki=true;
        break;
      }
    }
    if (total > MAXIMUM_AVAILABLE_FREE_DOWNLOADS || wiki) {
      Builder msg=new AlertDialog.Builder(this);
      msg.setTitle(R.string.free_version_title);
      msg.setMessage(getString(R.string.free_version_message,MAXIMUM_AVAILABLE_FREE_DOWNLOADS + "","( =" + total + ") "));
      msg.setPositiveButton(R.string.default_buttons_ok,null);
      msg.show();
    }
 else {
      downloadFilesPreCheckSpace();
    }
  }
 else {
    downloadFilesPreCheckSpace();
  }
}
