{
  super.onResume();
  getMyApplication().setDownloadActivity(this);
  BasicProgressAsyncTask<?,?,?> t=downloadListIndexThread.getCurrentRunningTask();
  updateProgress(false);
  if (t instanceof DownloadIndexesThread.DownloadIndexesAsyncTask) {
    View mainView=findViewById(R.id.MainLayout);
    if (mainView != null) {
      mainView.setKeepScreenOn(true);
    }
  }
}
