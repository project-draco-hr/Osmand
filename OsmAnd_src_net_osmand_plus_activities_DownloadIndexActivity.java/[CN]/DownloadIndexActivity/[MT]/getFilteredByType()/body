{
  final List<IndexItem> filtered=new ArrayList<IndexItem>();
  if (type == DownloadActivityType.SRTM_FILE) {
    List<RegionCountry> countries=RegionRegistry.getRegionRegistry().getCountries();
    for (    RegionCountry rc : countries) {
      if (rc.tiles.size() > 50) {
        for (        RegionCountry ch : rc.getSubRegions()) {
          filtered.add(new SrtmIndexItem(ch));
        }
      }
 else {
        filtered.add(new SrtmIndexItem(rc));
      }
    }
  }
  for (  IndexItem file : downloadListIndexThread.getCachedIndexFiles()) {
    if (file.getType() == type) {
      filtered.add(file);
    }
  }
  return filtered;
}
