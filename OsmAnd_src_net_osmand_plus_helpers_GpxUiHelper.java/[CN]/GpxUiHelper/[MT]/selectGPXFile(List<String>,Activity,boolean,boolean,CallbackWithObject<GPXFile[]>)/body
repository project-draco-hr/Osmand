{
  OsmandApplication app=(OsmandApplication)activity.getApplication();
  final File dir=app.getAppPath(IndexConstants.GPX_INDEX_DIR);
  final List<String> allGpxList=getSortedGPXFilenames(dir,false);
  if (allGpxList.isEmpty()) {
    AccessibleToast.makeText(activity,R.string.gpx_files_not_found,Toast.LENGTH_LONG).show();
  }
  if (!allGpxList.isEmpty() || showCurrentGpx) {
    if (showCurrentGpx) {
      allGpxList.add(0,activity.getString(R.string.show_current_gpx_title));
    }
    final ContextMenuAdapter adapter=createGpxContextMenuAdapter(activity,allGpxList,selectedGpxList,multipleChoice,showCurrentGpx);
    return createDialog(activity,showCurrentGpx,multipleChoice,callbackWithObject,allGpxList,adapter);
  }
  return null;
}
