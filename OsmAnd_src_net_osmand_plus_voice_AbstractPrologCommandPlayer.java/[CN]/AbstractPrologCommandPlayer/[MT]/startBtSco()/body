{
  btScoAvailable=false;
  btScoInitializes=false;
  try {
    AudioManager mAudioManager=(AudioManager)ctx.getSystemService(Context.AUDIO_SERVICE);
    if (mAudioManager == null || !mAudioManager.isBluetoothScoAvailableOffCall()) {
      return false;
    }
    btScoAvailable=true;
    mAudioManager.setMode(0);
    mAudioManager.startBluetoothSco();
    mAudioManager.setBluetoothScoOn(true);
    mAudioManager.setMode(AudioManager.MODE_IN_COMMUNICATION);
    btScoStatus=true;
    btScoInitializes=true;
  }
 catch (  Exception e) {
    System.out.println("Exception starting BT SCO " + e.getMessage());
    btScoStatus=false;
    return false;
  }
  return btScoStatus;
}
