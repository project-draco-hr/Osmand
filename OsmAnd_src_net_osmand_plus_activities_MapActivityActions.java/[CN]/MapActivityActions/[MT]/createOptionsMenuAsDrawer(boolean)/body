{
  final ContextMenuAdapter cm=createOptionsMenu();
  mDrawerLayout=(DrawerLayout)mapActivity.findViewById(R.id.drawer_layout);
  mDrawerList=(ListView)mapActivity.findViewById(R.id.left_drawer);
  mDrawerLayout.setDrawerShadow(R.drawable.drawer_shadow,GravityCompat.START);
  ListAdapter listAdapter;
  if (Build.VERSION.SDK_INT < Build.VERSION_CODES.HONEYCOMB) {
    listAdapter=cm.createListAdapter(mapActivity,R.layout.list_menu_item,getMyApplication().getSettings().isLightContentMenu());
  }
 else {
    listAdapter=cm.createListAdapter(mapActivity,R.layout.list_menu_item_native,getMyApplication().getSettings().isLightContentMenu());
  }
  mDrawerList.setAdapter(listAdapter);
  if (getMyApplication().getSettings().isLightContentMenu()) {
    mDrawerList.setBackgroundColor(mapActivity.getResources().getColor(R.color.color_white));
  }
 else {
    mDrawerList.setBackgroundColor(mapActivity.getResources().getColor(R.color.dark_drawer_bg_color));
  }
  mDrawerList.setOnItemClickListener(new AdapterView.OnItemClickListener(){
    @Override public void onItemClick(    AdapterView<?> parent,    View view,    int which,    long id){
      OnContextMenuClick click=cm.getClickAdapter(which);
      if (click != null) {
        if (click.onContextMenuClick(cm.getItemId(which),which,false,null)) {
          mDrawerLayout.closeDrawer(mDrawerList);
        }
      }
 else {
        mDrawerLayout.closeDrawer(mDrawerList);
      }
    }
  }
);
  if (show) {
    if (!mDrawerLayout.isDrawerOpen(mDrawerList)) {
      mDrawerLayout.openDrawer(mDrawerList);
    }
 else {
      mDrawerLayout.closeDrawer(mDrawerList);
    }
  }
}
