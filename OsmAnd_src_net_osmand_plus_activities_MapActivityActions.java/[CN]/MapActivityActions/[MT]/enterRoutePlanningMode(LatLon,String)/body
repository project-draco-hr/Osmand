{
  final GPXFile gpxFile=mapActivity.getMyApplication().getGpxFileToDisplay();
  if (gpxFile != null) {
    Builder bld=new AlertDialog.Builder(mapActivity);
    bld.setMessage(R.string.use_displayed_track_for_navigation);
    bld.setPositiveButton(R.string.default_buttons_yes,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
        setGPXRouteParams(gpxFile);
        enterRoutePlanningModeImpl(from,fromName);
      }
    }
);
    bld.setPositiveButton(R.string.default_buttons_no,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
        enterRoutePlanningModeImpl(from,fromName);
      }
    }
);
    bld.show();
  }
 else {
    enterRoutePlanningModeImpl(from,fromName);
  }
}
