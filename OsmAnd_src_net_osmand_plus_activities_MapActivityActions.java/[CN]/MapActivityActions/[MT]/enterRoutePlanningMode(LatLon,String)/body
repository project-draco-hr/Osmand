{
  List<SelectedGpxFile> selectedGPXFiles=mapActivity.getMyApplication().getSelectedGpxHelper().getSelectedGPXFiles();
  GPXFile gpxFile=null;
  boolean notShowDialog=false;
  for (  SelectedGpxFile gs : selectedGPXFiles) {
    if (!gs.isShowCurrentTrack()) {
      notShowDialog=gs.notShowNavigationDialog;
      gpxFile=gs.getGpxFile();
      break;
    }
  }
  if (gpxFile != null && !notShowDialog) {
    final GPXFile f=gpxFile;
    Builder bld=new AlertDialog.Builder(mapActivity);
    bld.setMessage(R.string.use_displayed_track_for_navigation);
    bld.setPositiveButton(R.string.default_buttons_yes,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
        enterRoutePlanningModeImpl(f,from,fromName);
      }
    }
);
    bld.setNegativeButton(R.string.default_buttons_no,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
        enterRoutePlanningModeImpl(null,from,fromName);
      }
    }
);
    bld.show();
  }
 else {
    enterRoutePlanningModeImpl(null,from,fromName);
  }
}
