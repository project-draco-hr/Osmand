{
  final ListView menuItemsListView=(ListView)mapActivity.findViewById(R.id.menuItems);
  menuItemsListView.setDivider(null);
  final ContextMenuAdapter contextMenuAdapter=createMainOptionsMenu();
  contextMenuAdapter.setDefaultLayoutId(R.layout.simple_list_menu_item);
  final ArrayAdapter<?> simpleListAdapter=contextMenuAdapter.createListAdapter(mapActivity,settings.OSMAND_THEME.get() == OsmandSettings.OSMAND_LIGHT_THEME);
  menuItemsListView.setAdapter(simpleListAdapter);
  menuItemsListView.setOnItemClickListener(new AdapterView.OnItemClickListener(){
    @Override public void onItemClick(    AdapterView<?> parent,    View view,    int position,    long id){
      ContextMenuAdapter.OnContextMenuClick click=contextMenuAdapter.getClickAdapter(position);
      if (click.onContextMenuClick(simpleListAdapter,contextMenuAdapter.getElementId(position),position,false)) {
        mapActivity.closeDrawer();
      }
    }
  }
);
}
