{
  OsmandApplication app=(OsmandApplication)activity.getApplication();
  if (app.accessibilityEnabled()) {
    AlertDialog.Builder builder=new AlertDialog.Builder(activity);
    String[] values=qa.getItemNames();
    builder.setItems(values,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
        OnContextMenuClick clk=qa.getClickAdapter(which);
        if (clk != null) {
          clk.onContextMenuClick(null,qa.getElementId(which),which,false);
        }
      }
    }
);
    builder.show();
  }
 else {
    final QuickAction view=new QuickAction(qa.getAnchor());
    for (int i=0; i < qa.length(); i++) {
      ActionItem ai=new ActionItem();
      Drawable id=qa.getImage(app,i,true);
      if (id != null) {
        ai.setIcon(id);
      }
      final int ki=i;
      ai.setTitle(qa.getItemName(i));
      ai.setOnClickListener(new OnClickListener(){
        @Override public void onClick(        View v){
          if (onShow != null) {
            onShow.onClick(v);
          }
          view.dismiss();
          qa.getClickAdapter(ki).onContextMenuClick(null,qa.getElementId(ki),ki,false);
        }
      }
);
      view.addActionItem(ai);
    }
    view.show();
  }
}
