{
  final ContextMenuAdapter cm=createOptionsMenu();
  final Builder bld=new AlertDialog.Builder(mapActivity);
  ListAdapter listAdapter;
  if (Build.VERSION.SDK_INT < Build.VERSION_CODES.HONEYCOMB) {
    listAdapter=cm.createListAdapter(mapActivity,R.layout.list_menu_item);
  }
 else {
    listAdapter=cm.createListAdapter(mapActivity,R.layout.list_menu_item_native);
  }
  bld.setAdapter(listAdapter,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
      OnContextMenuClick click=cm.getClickAdapter(which);
      if (click != null) {
        click.onContextMenuClick(cm.getItemId(which),which,false,dialog);
      }
    }
  }
);
  return bld.show();
}
