{
  ActionItem setAsDestination=new ActionItem();
  setAsDestination.setIcon(activity.getResources().getDrawable(R.drawable.ic_action_gdirections_light));
  setAsDestination.setTitle(activity.getString(R.string.get_directions));
  setAsDestination.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      if (onShow != null) {
        onShow.onClick(v);
      }
      targetPointsHelper.setDestination(location.getLatitude(),location.getLongitude(),name);
      MapActivity.launchMapActivityMoveToTop(activity);
      qa.dismiss();
    }
  }
);
  qa.addActionItem(setAsDestination);
  ActionItem intermediate=new ActionItem();
  if (targetPointsHelper.getPointToNavigate() != null) {
    intermediate.setIcon(activity.getResources().getDrawable(R.drawable.ic_action_flage_light));
    intermediate.setTitle(activity.getString(R.string.context_menu_item_intermediate_point));
  }
 else {
    intermediate.setIcon(activity.getResources().getDrawable(R.drawable.ic_action_flag_light));
    intermediate.setTitle(activity.getString(R.string.context_menu_item_destination_point));
  }
  intermediate.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      if (onShow != null) {
        onShow.onClick(v);
      }
      navigatePointDialogAndLaunchMap(activity,location.getLatitude(),location.getLongitude(),name);
      qa.dismiss();
    }
  }
);
  qa.addActionItem(intermediate);
  ActionItem showOnMap=new ActionItem();
  final OsmandApplication app=((OsmandApplication)activity.getApplication());
  final TargetPointsHelper targetPointsHelper=app.getTargetPointsHelper();
  showOnMap.setIcon(activity.getResources().getDrawable(R.drawable.ic_action_marker_light));
  showOnMap.setTitle(activity.getString(R.string.show_poi_on_map));
  showOnMap.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      if (onShow != null) {
        onShow.onClick(v);
      }
      app.getSettings().setMapLocationToShow(location.getLatitude(),location.getLongitude(),z,saveHistory ? name : null,name,obj);
      MapActivity.launchMapActivityMoveToTop(activity);
      qa.dismiss();
    }
  }
);
  qa.addActionItem(showOnMap);
  if (favorite) {
    ActionItem addToFavorite=new ActionItem();
    addToFavorite.setIcon(activity.getResources().getDrawable(R.drawable.ic_action_fav_light));
    addToFavorite.setTitle(activity.getString(R.string.add_to_favourite));
    addToFavorite.setOnClickListener(new OnClickListener(){
      @Override public void onClick(      View v){
        if (onShow != null) {
          onShow.onClick(v);
        }
        qa.dismiss();
        Bundle args=new Bundle();
        Dialog dlg=createAddFavouriteDialog(activity,args);
        dlg.show();
        prepareAddFavouriteDialog(activity,dlg,args,location.getLatitude(),location.getLongitude(),name);
      }
    }
);
    qa.addActionItem(addToFavorite);
  }
}
