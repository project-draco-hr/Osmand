{
  Builder builder=new AlertDialog.Builder(mapActivity);
  if (routingHelper.isRouteCalculated() || routingHelper.isFollowingMode() || routingHelper.isRouteBeingCalculated()) {
    builder.setTitle(getString(R.string.cancel_route));
    builder.setMessage(getString(R.string.stop_routing_confirm));
    builder.setPositiveButton(R.string.default_buttons_yes,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
        if (getMyApplication().getLocationProvider().getLocationSimulation().isRouteAnimating()) {
          getMyApplication().getLocationProvider().getLocationSimulation().startStopRouteAnimation(mapActivity);
        }
        routingHelper.setFinalAndCurrentLocation(null,new ArrayList<LatLon>(),getLastKnownLocation(),routingHelper.getCurrentGPXRoute());
        settings.APPLICATION_MODE.set(settings.DEFAULT_APPLICATION_MODE.get());
      }
    }
);
  }
 else {
    builder.setTitle(getString(R.string.cancel_navigation));
    builder.setMessage(getString(R.string.clear_dest_confirm));
    builder.setPositiveButton(R.string.default_buttons_yes,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
        getTargets().clearPointToNavigate(true);
        mapView.refreshMap();
      }
    }
);
  }
  builder.setNegativeButton(R.string.default_buttons_no,null);
  builder.show();
}
