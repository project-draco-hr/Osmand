{
  super.onResume();
  region=null;
  String lastSearchedRegion=OsmandSettings.getLastSearchedRegion(SearchAddressActivity.this);
  region=ResourceManager.getResourceManager().getRegionRepository(lastSearchedRegion);
  String progressMsg=null;
  if (region.areCitiesPreloaded()) {
    progressMsg="Loading cities...";
  }
 else   if (city == null || city.getId() != OsmandSettings.getLastSearchedCity(this)) {
    progressMsg="Loading streets/buildings...";
  }
  city=null;
  street=null;
  building=null;
  if (progressMsg != null) {
    dlg=ProgressDialog.show(this,"Loading",progressMsg,true);
    new Thread("Loader search data"){
      @Override public void run(){
        try {
          loadData();
        }
  finally {
          dlg.dismiss();
          runOnUiThread(new Runnable(){
            @Override public void run(){
              updateUI();
            }
          }
);
        }
      }
    }
.start();
  }
 else {
    loadData();
    updateUI();
  }
}
