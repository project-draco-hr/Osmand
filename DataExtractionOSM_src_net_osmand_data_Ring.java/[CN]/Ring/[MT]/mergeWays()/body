{
  if (border != null)   return;
  List<Way> ways=new ArrayList<Way>(getWays());
  boolean unInitializedNodes=true;
  for (  Way w : ways) {
    if (w.getNodes() != null && w.getNodes().size() != 0) {
      unInitializedNodes=false;
      break;
    }
  }
  List<Way> borderWays=new ArrayList<Way>();
  for (  Way w : ways) {
    if ((w.getNodes() == null || w.getNodes().size() == 0) && !unInitializedNodes)     continue;
    Way newWay=null;
    Way addedTo=null;
    for (    Way borderWay : borderWays) {
      newWay=combineTwoWaysIfHasPoints(w,borderWay);
      if (newWay != null) {
        addedTo=borderWay;
      }
    }
    if (newWay == null) {
      borderWays.add(w);
    }
 else {
      borderWays.remove(addedTo);
      addedTo=null;
      for (      Way borderWay : borderWays) {
        newWay=combineTwoWaysIfHasPoints(newWay,borderWay);
        if (newWay != null) {
          addedTo=borderWay;
        }
      }
      if (addedTo != null) {
        borderWays.remove(addedTo);
      }
      borderWays.add(newWay);
    }
  }
  if (borderWays.size() != 1) {
    border=new Way(nextRandId());
    return;
  }
  border=borderWays.get(0);
  return;
}
