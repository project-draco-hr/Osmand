{
  Set<T> duplicates=new LinkedHashSet<T>();
  Set<T> uniques=new HashSet<T>();
  for (  T t : list) {
    if (!uniques.add(t)) {
      duplicates.add(t);
    }
  }
  return duplicates;
}
