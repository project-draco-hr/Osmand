{
  View v=convertView;
  if (v == null) {
    LayoutInflater inflater=(LayoutInflater)getDownloadActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    v=inflater.inflate(R.layout.update_index_list_item,null);
  }
  TextView name=(TextView)v.findViewById(R.id.download_item);
  TextView description=(TextView)v.findViewById(R.id.download_descr);
  final CheckBox ch=(CheckBox)v.findViewById(R.id.check_download_item);
  IndexItem e=items.get(position);
  if (e.getFileName().equals(getString(R.string.everything_up_to_date))) {
    name.setText(e.getFileName());
    description.setText("");
    ch.setVisibility(View.INVISIBLE);
    setSelectAllVisibility(false);
    return v;
  }
 else {
    ch.setVisibility(View.VISIBLE);
  }
  String eName=e.getVisibleName(getMyApplication(),osmandRegions);
  name.setText(eName.trim().replace('\n',' '));
  String d=e.getDate(format) + "  " + e.getSizeDescription(getMyApplication());
  description.setText(d);
  ch.setChecked(getDownloadActivity().getEntriesToDownload().containsKey(e));
  ch.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      ch.setChecked(!ch.isChecked());
      onItemSelected(ch,position);
    }
  }
);
  return v;
}
