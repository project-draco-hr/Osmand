{
  updateHeader();
  if (indexItems.size() == 0) {
    if (DownloadActivity.downloadListIndexThread.isDownloadedFromInternet()) {
      indexItems.add(new IndexItem(getString(R.string.everything_up_to_date),"",0,"",0,0,null));
    }
 else {
      indexItems.add(new IndexItem(getString(R.string.no_index_file_to_download),"",0,"",0,0,null));
    }
  }
  final OsmandRegions osmandRegions=getMyApplication().getResourceManager().getOsmandRegions();
  listAdapter=new UpdateIndexAdapter(getMyActivity(),R.layout.download_index_list_item,indexItems);
  listAdapter.sort(new Comparator<IndexItem>(){
    @Override public int compare(    IndexItem indexItem,    IndexItem indexItem2){
      return indexItem.getVisibleName(getMyApplication(),osmandRegions).compareTo(indexItem2.getVisibleName(getMyApplication(),osmandRegions));
    }
  }
);
  setListAdapter(listAdapter);
}
