{
  super.onMeasure(widthMeasureSpec,heightMeasureSpec);
  if (!isVisible()) {
    setMeasuredDimension(0,0);
  }
 else   if (showMiniMap) {
    setMeasuredDimension((int)width,(int)height);
  }
 else {
    int h=(int)(5 * scaleCoefficient + Math.max(textPaint.getTextSize(),subtextPaint.getTextSize()));
    setMeasuredDimension((int)width,(int)height + h);
  }
}
