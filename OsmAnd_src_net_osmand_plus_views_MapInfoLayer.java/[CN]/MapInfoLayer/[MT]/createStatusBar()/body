{
  final Drawable compass=view.getResources().getDrawable(R.drawable.compass);
  final int mw=(int)compass.getMinimumWidth();
  final int mh=(int)compass.getMinimumHeight();
  LinearLayout statusBar=new LinearLayout(view.getContext());
  statusBar.setOrientation(LinearLayout.HORIZONTAL);
  LinearLayout.LayoutParams params=new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
  params.leftMargin=(int)(5 * scaleCoefficient);
  ImageView compassView=new ImageView(view.getContext()){
    @Override protected void onDraw(    Canvas canvas){
      canvas.save();
      canvas.translate(getLeft(),getTop());
      canvas.rotate(view.getRotate(),mw / 2,mh / 2);
      compass.draw(canvas);
      canvas.restore();
    }
  }
;
  compassView.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      map.switchRotateMapMode();
    }
  }
);
  compassView.setImageDrawable(compass);
  statusBar.addView(compassView,params);
  params=new LinearLayout.LayoutParams(0,0,1);
  TextView space=new TextView(view.getContext());
  statusBar.addView(space,params);
  statusBar.setWeightSum(1);
  params=new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
  ImageView globus=new ImageView(view.getContext());
  globus.setImageDrawable(view.getResources().getDrawable(R.drawable.globus));
  globus.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
    }
  }
);
  statusBar.addView(globus,params);
  params=new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
  ImageView backToLocation=new ImageView(view.getContext());
  backToLocation.setImageDrawable(view.getResources().getDrawable(R.drawable.back_to_loc));
  backToLocation.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      map.backToLocationImpl();
    }
  }
);
  statusBar.addView(backToLocation,params);
  statusBar.measure(MeasureSpec.UNSPECIFIED,MeasureSpec.UNSPECIFIED);
  return statusBar;
}
