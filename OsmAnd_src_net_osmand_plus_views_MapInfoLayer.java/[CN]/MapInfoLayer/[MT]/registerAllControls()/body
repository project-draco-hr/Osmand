{
  RouteInfoWidgetsFactory ric=new RouteInfoWidgetsFactory(scaleCoefficient);
  MapInfoWidgetsFactory mic=new MapInfoWidgetsFactory(scaleCoefficient);
  OsmandApplication app=view.getApplication();
  lanesControl=ric.createLanesControl(map,view);
  lanesControl.setBackgroundDrawable(view.getResources().getDrawable(R.drawable.box_free));
  alarmControl=ric.createAlarmInfoControl(app,map);
  RoutingHelper routingHelper=app.getRoutingHelper();
  NextTurnInfoWidget bigInfoControl=ric.createNextInfoControl(routingHelper,app,view.getSettings(),paintText,paintSubText,false);
  mapInfoControls.registerSideWidget(bigInfoControl,R.drawable.widget_next_turn,R.drawable.widget_next_turn,R.string.map_widget_next_turn,"next_turn",true,5);
  NextTurnInfoWidget smallInfoControl=ric.createNextInfoControl(routingHelper,app,view.getSettings(),paintSmallText,paintSmallSubText,true);
  mapInfoControls.registerSideWidget(smallInfoControl,R.drawable.widget_next_turn,R.drawable.widget_next_turn,R.string.map_widget_next_turn_small,"next_turn_small",true,10);
  NextTurnInfoWidget nextNextInfoControl=ric.createNextNextInfoControl(routingHelper,app,view.getSettings(),paintSmallText,paintSmallSubText,true);
  mapInfoControls.registerSideWidget(nextNextInfoControl,R.drawable.widget_next_turn,R.drawable.widget_next_turn,R.string.map_widget_next_next_turn,"next_next_turn",true,15);
  TextInfoWidget intermediateDist=ric.createIntermediateDistanceControl(map,paintText,paintSubText);
  mapInfoControls.registerSideWidget(intermediateDist,R.drawable.widget_intermediate,R.drawable.widget_intermediate,R.string.map_widget_intermediate_distance,"intermediate_distance",false,3);
  TextInfoWidget dist=ric.createDistanceControl(map,paintText,paintSubText);
  mapInfoControls.registerSideWidget(dist,R.drawable.widget_target,R.drawable.widget_target,R.string.map_widget_distance,"distance",false,5);
  TextInfoWidget time=ric.createTimeControl(map,paintText,paintSubText);
  mapInfoControls.registerSideWidget(time,R.drawable.widget_time,R.drawable.widget_time,R.string.map_widget_time,"time",false,10);
  TextInfoWidget speed=ric.createSpeedControl(map,paintText,paintSubText);
  mapInfoControls.registerSideWidget(speed,R.drawable.widget_speed,R.drawable.widget_speed,R.string.map_widget_speed,"speed",false,15);
  TextInfoWidget gpsInfo=mic.createGPSInfoControl(map,paintText,paintSubText);
  mapInfoControls.registerSideWidget(gpsInfo,R.drawable.widget_gps_info,R.drawable.widget_gps_info,R.string.map_widget_gps_info,"gps_info",false,17);
  TextInfoWidget maxspeed=ric.createMaxSpeedControl(map,paintText,paintSubText);
  mapInfoControls.registerSideWidget(maxspeed,R.drawable.widget_max_speed,R.drawable.widget_max_speed,R.string.map_widget_max_speed,"max_speed",false,18);
  TextInfoWidget alt=mic.createAltitudeControl(map,paintText,paintSubText);
  mapInfoControls.registerSideWidget(alt,R.drawable.widget_altitude,R.drawable.widget_altitude,R.string.map_widget_altitude,"altitude",false,20);
  TextInfoWidget plainTime=ric.createPlainTimeControl(map,paintText,paintSubText);
  mapInfoControls.registerSideWidget(plainTime,R.drawable.widget_time_to_distance,R.drawable.widget_time_to_distance,R.string.map_widget_plain_time,"plain_time",false,25);
  AppearanceWidgetsFactory.INSTANCE.registerAppearanceWidgets(map,this,mapInfoControls);
}
