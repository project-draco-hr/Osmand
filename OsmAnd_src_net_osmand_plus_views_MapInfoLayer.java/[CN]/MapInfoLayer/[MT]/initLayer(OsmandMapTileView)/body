{
  this.view=view;
  scaleCoefficient=view.getScaleCoefficient();
  Paint paintText=new Paint();
  paintText.setStyle(Style.FILL_AND_STROKE);
  paintText.setColor(Color.BLACK);
  paintText.setTextSize(23 * scaleCoefficient);
  paintText.setAntiAlias(true);
  paintText.setStrokeWidth(4);
  Paint paintSubText=new Paint();
  paintSubText.setStyle(Style.FILL_AND_STROKE);
  paintSubText.setColor(Color.BLACK);
  paintSubText.setTextSize(15 * scaleCoefficient);
  paintSubText.setAntiAlias(true);
  Paint paintSmallText=new Paint();
  paintSmallText.setStyle(Style.FILL_AND_STROKE);
  paintSmallText.setColor(Color.BLACK);
  paintSmallText.setTextSize(19 * scaleCoefficient);
  paintSmallText.setAntiAlias(true);
  paintSmallText.setStrokeWidth(4);
  Paint paintSmallSubText=new Paint();
  paintSmallSubText.setStyle(Style.FILL_AND_STROKE);
  paintSmallSubText.setColor(Color.BLACK);
  paintSmallSubText.setTextSize(13 * scaleCoefficient);
  paintSmallSubText.setAntiAlias(true);
  Paint paintImg=new Paint();
  paintImg.setDither(true);
  paintImg.setFilterBitmap(true);
  paintImg.setAntiAlias(true);
  mapInfoControls=new MapWidgetRegistry(map.getMyApplication().getSettings());
  topBar=map.findViewById(R.id.map_top_bar);
  leftStack=(LinearLayout)map.findViewById(R.id.map_left_widgets_panel);
  rightStack=(LinearLayout)map.findViewById(R.id.map_right_widgets_panel);
  expand=(ImageButton)map.findViewById(R.id.map_collapse_button);
  registerAllControls();
  alarmControl.setVisibility(View.GONE);
  lanesControl.setVisibility(View.GONE);
  recreateControls();
}
