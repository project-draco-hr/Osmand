{
  this.view=view;
  mapInfoControls=new MapWidgetRegistry(map.getMyApplication().getSettings());
  topBar=map.findViewById(R.id.map_top_bar);
  leftStack=(LinearLayout)map.findViewById(R.id.map_left_widgets_panel);
  rightStack=(LinearLayout)map.findViewById(R.id.map_right_widgets_panel);
  expand=(ImageButton)map.findViewById(R.id.map_collapse_button);
  registerAllControls();
  alarmControl.setVisibility(View.GONE);
  lanesControl.setVisibility(View.GONE);
  recreateControls();
}
