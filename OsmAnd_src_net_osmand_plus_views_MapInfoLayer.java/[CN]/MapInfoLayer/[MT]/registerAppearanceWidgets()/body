{
  final MapInfoControlRegInfo showRuler=mapInfoControls.registerAppearanceWidget(0,R.string.map_widget_show_ruler,"showRuler",EnumSet.allOf(ApplicationMode.class));
  showRuler.setStateChangeListener(new Runnable(){
    @Override public void run(){
      ApplicationMode am=view.getSettings().getApplicationMode();
      view.getSettings().SHOW_RULER.set(showRuler.visible(am));
      view.refreshMap();
    }
  }
);
  final MapInfoControlRegInfo displayViewDirections=mapInfoControls.registerAppearanceWidget(0,R.string.map_widget_view_direction,"viewDirection",EnumSet.of(ApplicationMode.BICYCLE,ApplicationMode.PEDESTRIAN));
  displayViewDirections.setStateChangeListener(new Runnable(){
    @Override public void run(){
      ApplicationMode am=view.getSettings().getApplicationMode();
      view.getSettings().SHOW_VIEW_ANGLE.set(displayViewDirections.visible(am));
      map.updateApplicationModeSettings();
    }
  }
);
}
