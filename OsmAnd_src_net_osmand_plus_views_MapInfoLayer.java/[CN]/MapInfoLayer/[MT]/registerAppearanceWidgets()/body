{
  final MapInfoControlRegInfo showRuler=mapInfoControls.registerAppearanceWidget(0,R.string.map_widget_show_ruler,"showRuler",view.getSettings().SHOW_RULER);
  showRuler.setStateChangeListener(new Runnable(){
    @Override public void run(){
      ApplicationMode am=view.getSettings().getApplicationMode();
      view.getSettings().SHOW_RULER.set(showRuler.visible(am));
      view.refreshMap();
    }
  }
);
  final MapInfoControlRegInfo displayViewDirections=mapInfoControls.registerAppearanceWidget(0,R.string.map_widget_view_direction,"viewDirection",view.getSettings().SHOW_VIEW_ANGLE);
  displayViewDirections.setStateChangeListener(new Runnable(){
    @Override public void run(){
      ApplicationMode am=view.getSettings().getApplicationMode();
      view.getSettings().SHOW_VIEW_ANGLE.set(displayViewDirections.visible(am));
      map.updateApplicationModeSettings();
    }
  }
);
}
