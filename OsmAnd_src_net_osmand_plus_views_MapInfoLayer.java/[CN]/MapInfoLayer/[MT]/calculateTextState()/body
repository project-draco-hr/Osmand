{
  boolean transparent=view.getSettings().TRANSPARENT_MAP_THEME.get();
  boolean nightMode=drawSettings == null ? false : drawSettings.isNightMode();
  boolean following=routeLayer.getHelper().isFollowingMode();
  TextState ts=new TextState();
  ts.textBold=following;
  ts.textColor=nightMode ? view.getResources().getColor(R.color.widgettext_night) : Color.BLACK;
  ts.textShadowColor=nightMode ? view.getResources().getColor(R.color.widgettext_shadow_night) : Color.WHITE;
  if (!transparent && !nightMode) {
    ts.textShadowColor=Color.TRANSPARENT;
  }
  if (transparent) {
    ts.boxTop=R.drawable.btn_flat_trans;
    ts.rightRes=R.drawable.btn_left_round_trans;
    ts.leftRes=R.drawable.btn_right_round_trans;
    ts.expand=R.drawable.btn_inset_circle_trans;
    ts.boxFree=R.drawable.btn_round_trans;
  }
 else   if (nightMode) {
    ts.boxTop=R.drawable.btn_flat_night;
    ts.rightRes=R.drawable.btn_left_round_night;
    ts.leftRes=R.drawable.btn_right_round_night;
    ts.expand=R.drawable.btn_inset_circle_night;
    ts.boxFree=R.drawable.btn_round_night;
  }
 else {
    ts.boxTop=R.drawable.btn_flat;
    ts.rightRes=R.drawable.btn_left_round;
    ts.leftRes=R.drawable.btn_right_round;
    ts.expand=R.drawable.btn_inset_circle;
    ts.boxFree=R.drawable.btn_round;
  }
  return ts;
}
