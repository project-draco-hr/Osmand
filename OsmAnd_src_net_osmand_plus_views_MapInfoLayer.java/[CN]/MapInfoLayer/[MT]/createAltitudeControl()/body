{
  final TextInfoControl altitudeControl=new TextInfoControl(map,0,paintText,paintSubText){
    private int cachedAlt=0;
    @Override public boolean updateInfo(){
      if (showAltitude && map.getLastKnownLocation() != null && map.getLastKnownLocation().hasAltitude()) {
        if (cachedAlt != (int)map.getLastKnownLocation().getAltitude()) {
          cachedAlt=(int)map.getLastKnownLocation().getAltitude();
          String ds=OsmAndFormatter.getFormattedAlt(cachedAlt,map);
          int ls=ds.lastIndexOf(' ');
          if (ls == -1) {
            setText(ds,null);
          }
 else {
            setText(ds.substring(0,ls),ds.substring(ls + 1));
          }
          return true;
        }
      }
 else       if (cachedAlt != 0) {
        cachedAlt=0;
        setText(null,null);
        return true;
      }
      return false;
    }
  }
;
  altitudeControl.setText(null,null);
  altitudeControl.setImageDrawable(view.getResources().getDrawable(R.drawable.ic_altitude));
  return altitudeControl;
}
