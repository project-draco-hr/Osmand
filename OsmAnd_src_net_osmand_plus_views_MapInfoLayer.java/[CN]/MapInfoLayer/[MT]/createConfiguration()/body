{
  final OsmandMapTileView view=map.getMapView();
  FrameLayout fl=new FrameLayout(view.getContext());
  FrameLayout.LayoutParams fparams=new FrameLayout.LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
  final Drawable config=view.getResources().getDrawable(R.drawable.list_activities_config);
  final Drawable configWhite=view.getResources().getDrawable(R.drawable.list_activities_config_white);
  ImageViewWidget configuration=new ImageViewWidget(map){
    private boolean nightMode;
    @Override public boolean updateInfo(    DrawSettings drawSettings){
      boolean nightMode=drawSettings == null ? false : drawSettings.isNightMode();
      if (nightMode != this.nightMode) {
        this.nightMode=nightMode;
        setImageDrawable(nightMode ? configWhite : config);
        return true;
      }
      return false;
    }
  }
;
  configuration.setBackgroundDrawable(config);
  fl.addView(configuration,fparams);
  fparams=new FrameLayout.LayoutParams(config.getMinimumWidth(),config.getMinimumHeight());
  progressBar=new View(view.getContext());
  fl.addView(progressBar,fparams);
  fl.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      openViewConfigureDialog();
    }
  }
);
  return fl;
}
