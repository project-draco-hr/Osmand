{
  final OsmandMapTileView view=map.getMapView();
  final Drawable config=view.getResources().getDrawable(R.drawable.map_config);
  final Drawable configWhite=view.getResources().getDrawable(R.drawable.map_config_white);
  ImageViewWidget configuration=new ImageViewWidget(map){
    private boolean nm;
    @Override public boolean updateInfo(    DrawSettings drawSettings){
      boolean nightMode=drawSettings != null && drawSettings.isNightMode();
      if (nightMode != this.nm) {
        this.nm=nightMode;
        setImageDrawable(nightMode ? configWhite : config);
        return true;
      }
      return false;
    }
  }
;
  configuration.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      map.getMapActions().openViewConfigureDrawer();
    }
  }
);
  configuration.setImageDrawable(config);
  return configuration;
}
