{
  statusBar=createStatusBar();
  statusBar.setBackgroundDrawable(view.getResources().getDrawable(R.drawable.box_top));
  rightStack=new MapStackControl(view.getContext());
  rightStack.addStackView(createAltitudeControl());
  rightStack.addStackView(createDistanceControl());
  rightStack.addCollapsedView(createSpeedControl());
  rightStack.addCollapsedView(createTimeControl());
  leftStack=new MapStackControl(view.getContext());
  leftStack.addStackView(createNextInfoControl());
  leftStack.addStackView(createMiniMapControl());
  Rect topRectPadding=new Rect();
  view.getResources().getDrawable(R.drawable.box_top).getPadding(topRectPadding);
  STATUS_BAR_MARGIN_X=(int)(STATUS_BAR_MARGIN_X * scaleCoefficient);
  statusBar.measure(MeasureSpec.UNSPECIFIED,MeasureSpec.UNSPECIFIED);
  Rect statusBarPadding=new Rect();
  statusBar.getBackground().getPadding(statusBarPadding);
  FrameLayout parent=(FrameLayout)view.getParent();
  int topMargin=statusBar.getMeasuredHeight() - statusBarPadding.top - statusBarPadding.bottom;
  topMargin-=topRectPadding.top;
  FrameLayout.LayoutParams flp=new FrameLayout.LayoutParams(android.view.ViewGroup.LayoutParams.FILL_PARENT,android.view.ViewGroup.LayoutParams.WRAP_CONTENT,Gravity.RIGHT);
  flp.rightMargin=STATUS_BAR_MARGIN_X;
  flp.topMargin=topMargin;
  rightStack.setLayoutParams(flp);
  flp=new FrameLayout.LayoutParams(android.view.ViewGroup.LayoutParams.FILL_PARENT,android.view.ViewGroup.LayoutParams.WRAP_CONTENT,Gravity.LEFT);
  flp.leftMargin=STATUS_BAR_MARGIN_X;
  flp.topMargin=topMargin;
  leftStack.setLayoutParams(flp);
  flp=new FrameLayout.LayoutParams(android.view.ViewGroup.LayoutParams.FILL_PARENT,android.view.ViewGroup.LayoutParams.WRAP_CONTENT,Gravity.TOP);
  flp.leftMargin=STATUS_BAR_MARGIN_X;
  flp.rightMargin=STATUS_BAR_MARGIN_X;
  flp.topMargin=-topRectPadding.top;
  statusBar.setLayoutParams(flp);
  parent.addView(rightStack);
  parent.addView(leftStack);
  parent.addView(statusBar);
}
