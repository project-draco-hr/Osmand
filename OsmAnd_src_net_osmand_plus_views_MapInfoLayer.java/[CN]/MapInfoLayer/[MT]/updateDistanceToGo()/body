{
  if (map.getPointToNavigate() != null) {
    int d=0;
    if (map.getRoutingHelper().isRouterEnabled()) {
      d=map.getRoutingHelper().getLeftDistance();
    }
    if (d == 0) {
      Location.distanceBetween(view.getLatitude(),view.getLongitude(),map.getPointToNavigate().getLatitude(),map.getPointToNavigate().getLongitude(),calculations);
      d=(int)calculations[0];
    }
    if (distChanged(cachedMeters,d)) {
      cachedMeters=d;
      if (cachedMeters <= 20) {
        cachedMeters=0;
        distanceControl.setText(null,null);
      }
 else {
        String ds=OsmAndFormatter.getFormattedDistance(cachedMeters,map);
        int ls=ds.lastIndexOf(' ');
        if (ls == -1) {
          distanceControl.setText(ds,null);
        }
 else {
          distanceControl.setText(ds.substring(0,ls),ds.substring(ls + 1));
        }
        relayoutLeftControls(distanceControl);
      }
    }
  }
 else {
    cachedMeters=0;
    distanceControl.setText(null,null);
  }
}
