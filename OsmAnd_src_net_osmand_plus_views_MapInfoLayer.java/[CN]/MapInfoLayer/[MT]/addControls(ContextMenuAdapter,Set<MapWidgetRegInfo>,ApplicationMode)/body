{
  for (  final MapWidgetRegInfo r : top) {
    adapter.item(r.messageId).selected(r.visibleCollapsed(mode) || r.visible(mode) ? 1 : 0).icons(r.drawableDark,r.drawableLight).listen(new OnContextMenuClick(){
      @Override public boolean onContextMenuClick(      ArrayAdapter<?> a,      int itemId,      int pos,      boolean isChecked){
        final boolean selecteable=r.selecteable();
        boolean check=r.visibleCollapsed(mode) || r.visible(mode);
        if (check || selecteable) {
          mapInfoControls.changeVisibility(r);
        }
        recreateControls();
        adapter.setItemName(pos,getText(mode,r));
        adapter.setSelection(pos,r.visibleCollapsed(mode) || r.visible(mode) ? 1 : 0);
        a.notifyDataSetInvalidated();
        return false;
      }
    }
).reg();
    adapter.setItemName(adapter.length() - 1,getText(mode,r));
  }
}
