{
  final RoutingHelper routingHelper=routeLayer.getHelper();
  final NextTurnInfoControl nextTurnInfo=new NextTurnInfoControl(map,paintText,paintSubText){
    @Override public boolean updateInfo(){
      boolean visible=false;
      if (routeLayer != null && routingHelper.isRouterEnabled() && routingHelper.isFollowingMode()) {
        int d=routeLayer.getHelper().getDistanceToNextRouteDirection();
        makeUturnWhenPossible=routingHelper.makeUturnWhenPossible();
        if (routingHelper.makeUturnWhenPossible() == true) {
          if (!showMiniMap) {
            visible=true;
            turnType=TurnType.valueOf(TurnType.TU);
            TurnPathHelper.calcTurnPath(pathForTurn,turnType,pathTransform);
            invalidate();
          }
        }
 else {
          if (d > 0 && !showMiniMap) {
            visible=true;
            RouteDirectionInfo next=routeLayer.getHelper().getNextRouteDirectionInfo();
            if (next == null) {
              if (turnType != null) {
                turnType=null;
                invalidate();
              }
            }
 else             if (!Algoritms.objectEquals(turnType,next.turnType)) {
              turnType=next.turnType;
              TurnPathHelper.calcTurnPath(pathForTurn,turnType,pathTransform);
              if (turnType.getExitOut() > 0) {
                exitOut=turnType.getExitOut() + "";
              }
 else {
                exitOut=null;
              }
              invalidate();
            }
            if (distChanged(d,nextTurnDirection)) {
              invalidate();
              nextTurnDirection=d;
            }
            if (turnImminent != routingHelper.turnImminent()) {
              turnImminent=routingHelper.turnImminent();
              invalidate();
            }
          }
        }
      }
      updateVisibility(visible);
      return true;
    }
  }
;
  nextTurnInfo.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      nextTurnInfo.invalidate();
      showMiniMap=true;
      view.refreshMap();
    }
  }
);
  nextTurnInfo.setVisibility(View.GONE);
  return nextTurnInfo;
}
