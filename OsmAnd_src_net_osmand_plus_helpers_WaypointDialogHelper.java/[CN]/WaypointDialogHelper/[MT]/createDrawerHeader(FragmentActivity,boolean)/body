{
  View v;
  v=ctx.getLayoutInflater().inflate(R.layout.drawer_list_waypoint_header,null);
  ImageView icon=(ImageView)v.findViewById(R.id.icon);
  if (mapActivity.getMyApplication().getSettings().isLightContent()) {
    icon.setImageResource(R.drawable.ic_back_drawer_white);
  }
 else {
    icon.setImageResource(R.drawable.ic_back_drawer_dark);
  }
  ImageView edit=(ImageView)v.findViewById(R.id.edit);
  ImageView sort=(ImageView)v.findViewById(R.id.sort);
  ImageView all=(ImageView)v.findViewById(R.id.all);
  edit.setImageResource(app.getSettings().isLightContent() ? R.drawable.ic_action_edit_light : R.drawable.ic_action_edit_dark);
  edit.setVisibility(editF ? View.GONE : View.VISIBLE);
  edit.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      mapActivity.getMapActions().showWaypointsInDrawer(!editF);
    }
  }
);
  if (app.getTargetPointsHelper().getIntermediatePoints().size() > 0) {
    sort.setVisibility(View.VISIBLE);
    sort.setImageResource(app.getSettings().isLightContent() ? R.drawable.ic_sort_waypoint_white : R.drawable.ic_sort_waypoint_dark);
    sort.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        IntermediatePointsDialog.openIntermediatePointsDialog(app.getMapActivity(),app,true);
      }
    }
);
  }
 else {
    sort.setVisibility(View.GONE);
  }
  if (waypointHelper.isRouteCalculated()) {
    all.setVisibility(View.GONE);
  }
 else {
    all.setVisibility(View.VISIBLE);
    all.setImageResource(app.getSettings().isLightContent() ? R.drawable.ic_action_gup_light : R.drawable.ic_action_gup_dark);
    all.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        mapActivity.getMapActions().showWaypointsInDrawer(editF);
      }
    }
);
  }
  return v;
}
