{
  if (ctx instanceof MapActivity && !app.getPoiFilters().isPoiFilterSelected(PoiUIFilter.CUSTOM_FILTER_ID)) {
    MapActivity map=(MapActivity)ctx;
    AlertDialog dlg=map.getMapLayers().selectPOIFilterLayer(map.getMapView());
    dlg.setOnDismissListener(new OnDismissListener(){
      @Override public void onDismiss(      DialogInterface dialog){
        if (app.getPoiFilters().isShowingAnyPoi()) {
          enableType(running,listAdapter,type,enable);
        }
      }
    }
);
  }
 else {
    enableType(running,listAdapter,type,enable);
  }
}
