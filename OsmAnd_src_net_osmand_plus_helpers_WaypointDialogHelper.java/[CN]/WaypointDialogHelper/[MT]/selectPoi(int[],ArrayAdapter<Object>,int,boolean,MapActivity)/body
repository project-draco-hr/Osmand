{
  if (!PoiFilter.CUSTOM_FILTER_ID.equals(app.getSettings().getPoiFilterForMap())) {
    final PoiFilter[] selected=new PoiFilter[1];
    AlertDialog dlg=map.getMapLayers().selectPOIFilterLayer(map.getMapView(),selected);
    dlg.setOnDismissListener(new OnDismissListener(){
      @Override public void onDismiss(      DialogInterface dialog){
        if (selected != null) {
          enableType(running,listAdapter,type,enable);
        }
      }
    }
);
  }
 else {
    enableType(running,listAdapter,type,enable);
  }
}
