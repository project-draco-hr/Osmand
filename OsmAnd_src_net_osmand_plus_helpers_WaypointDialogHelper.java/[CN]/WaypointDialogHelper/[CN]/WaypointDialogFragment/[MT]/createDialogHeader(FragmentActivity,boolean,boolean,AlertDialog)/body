{
  View v;
  v=ctx.getLayoutInflater().inflate(R.layout.waypoint_title,null);
  ImageButton edit=(ImageButton)v.findViewById(R.id.edit);
  ImageButton all=(ImageButton)v.findViewById(R.id.all);
  edit.setImageResource(app.getSettings().isLightContent() ? R.drawable.ic_action_edit_light : R.drawable.ic_action_edit_dark);
  edit.setVisibility(editF ? View.GONE : View.VISIBLE);
  edit.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      if (flat) {
        showWaypointsDialogFlat(ctx,true);
      }
 else {
        showWaypointsDialog(ctx,true);
      }
      if (dlg != null) {
        dlg.dismiss();
      }
    }
  }
);
  if (flat) {
    all.setImageResource(app.getSettings().isLightContent() ? R.drawable.ic_action_gdown_light : R.drawable.ic_action_gdown_dark);
  }
 else {
    all.setImageResource(app.getSettings().isLightContent() ? R.drawable.ic_action_gup_light : R.drawable.ic_action_gup_dark);
  }
  all.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      if (flat) {
        showWaypointsDialog(ctx,editF);
      }
 else {
        showWaypointsDialogFlat(ctx,editF);
      }
      if (dlg != null) {
        dlg.dismiss();
      }
    }
  }
);
  return v;
}
