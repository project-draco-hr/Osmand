{
  String f=filter;
  if (endingText.length() > 0) {
    while (!f.endsWith(endingText) && endingText.length() > 0) {
      endingText=endingText.substring(1);
    }
    f=f.substring(0,f.length() - endingText.length());
  }
  if (!currentFilter.equals(f) || !initFilter) {
    currentFilter=f;
    initFilter=true;
    progress.setVisibility(View.VISIBLE);
    namesFilter.cancelPreviousFilter(f);
    namesFilter.filter(f);
  }
}
