{
  boolean fl=true;
  boolean emoticons=false;
  String index="";
  int number=0;
  String name=checkEmoticons(p.getName());
  String category=checkEmoticons(p.getCategory());
  p.setCategory(category);
  if (name.length() != p.getName().length()) {
    emoticons=true;
  }
  while (fl) {
    fl=false;
    for (    FavouritePoint fp : cachedFavoritePoints) {
      if (fp.getName().equals(name)) {
        number++;
        index=" (" + number + ")";
        name=p.getName() + index;
        fl=true;
        break;
      }
    }
  }
  if ((index.length() > 0 || emoticons) && context.getMapActivity() != null) {
    AlertDialog.Builder builder=new AlertDialog.Builder(context.getMapActivity());
    builder.setTitle(R.string.fav_point_dublicate);
    if (emoticons) {
      builder.setMessage(context.getString(R.string.fav_point_emoticons_message,name));
    }
 else {
      builder.setMessage(context.getString(R.string.fav_point_dublicate_message,name));
    }
    builder.setPositiveButton(R.string.default_buttons_ok,null);
    p.setName(name);
    builder.show();
  }
}
