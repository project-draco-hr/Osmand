{
  ClientContext cl=((OsmandApplication)context.getApplicationContext());
  File f=new File(cl.getSettings().extendOsmandPath(ResourceManager.APP_DIR),fileName);
  GPXFile gpx=new GPXFile();
  for (  FavouritePoint p : getFavouritePoints()) {
    if (p.isStored()) {
      WptPt pt=new WptPt();
      pt.lat=p.getLatitude();
      pt.lon=p.getLongitude();
      pt.name=p.getName();
      if (p.getCategory().length() > 0)       pt.category=p.getCategory();
      gpx.points.add(pt);
    }
  }
  return GPXUtilities.writeGpxFile(f,gpx,cl);
}
