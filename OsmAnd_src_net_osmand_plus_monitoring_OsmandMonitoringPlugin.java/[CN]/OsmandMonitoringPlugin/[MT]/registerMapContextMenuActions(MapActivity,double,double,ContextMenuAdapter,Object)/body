{
  OnContextMenuClick listener=new OnContextMenuClick(){
    @Override public boolean onContextMenuClick(    ArrayAdapter<?> adapter,    int resId,    int pos,    boolean isChecked){
      if (resId == R.string.context_menu_item_add_waypoint) {
        mapActivity.getContextMenu().addWptPt();
      }
 else       if (resId == R.string.context_menu_item_edit_waypoint) {
        mapActivity.getContextMenu().editWptPt();
      }
      return true;
    }
  }
;
  adapter.item(R.string.context_menu_item_add_waypoint).colorIcon(R.drawable.ic_action_gnew_label_dark).listen(listener).reg();
  if (selectedObj instanceof WptPt) {
    WptPt pt=(WptPt)selectedObj;
    if (app.getSelectedGpxHelper().getSelectedGPXFile(pt) != null) {
      adapter.item(R.string.context_menu_item_edit_waypoint).colorIcon(R.drawable.ic_action_edit_dark).listen(listener).reg();
    }
  }
}
