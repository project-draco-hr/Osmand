{
  if (favouritesAdapter.isEmpty()) {
    AccessibleToast.makeText(getActivity(),R.string.no_fav_to_save,Toast.LENGTH_LONG).show();
  }
 else {
    final AsyncTask<Void,Void,GPXFile> exportTask=new AsyncTask<Void,Void,GPXFile>(){
      @Override protected GPXFile doInBackground(      Void... params){
        return helper.asGpxFile();
      }
      @Override protected void onPreExecute(){
        showProgressBar();
      }
      @Override protected void onPostExecute(      GPXFile gpxFile){
        hideProgressBar();
        final Intent sendIntent=new Intent();
        sendIntent.setAction(Intent.ACTION_SEND);
        sendIntent.putExtra(Intent.EXTRA_TEXT,"Favourites.gpx:\n\n\n" + GPXUtilities.asString(gpxFile,getMyApplication()));
        sendIntent.putExtra(Intent.EXTRA_SUBJECT,getString(R.string.share_fav_subject));
        sendIntent.putExtra(Intent.EXTRA_STREAM,Uri.fromFile(helper.getExternalFile()));
        sendIntent.setType("text/plain");
        startActivity(sendIntent);
      }
    }
;
    exportTask.execute();
  }
}
