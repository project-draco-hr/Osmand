{
  try {
    XmlPullParser parser=Xml.newPullParser();
    parser.setInput(new FileInputStream(fout),"UTF-8");
    int tok;
    WptPt current=null;
    while ((tok=parser.next()) != XmlPullParser.END_DOCUMENT) {
      if (tok == XmlPullParser.START_TAG) {
        if (parser.getName().equals("wpt")) {
          try {
            current=new WptPt();
            current.lat=Double.parseDouble(parser.getAttributeValue("","lat"));
            current.lon=Double.parseDouble(parser.getAttributeValue("","lon"));
          }
 catch (          NumberFormatException e) {
            current=null;
          }
        }
 else         if (current != null && parser.getName().equals("name")) {
          if (parser.next() == XmlPullParser.TEXT) {
            current.name=parser.getText();
          }
        }
      }
 else       if (tok == XmlPullParser.END_TAG) {
        if (parser.getName().equals("wpt")) {
          if (current != null && current.name != null) {
            readTo.add(current);
          }
          current=null;
        }
      }
    }
    return true;
  }
 catch (  IOException e) {
    log.error("Error loading gpx",e);
    Toast.makeText(ctx,ctx.getString(R.string.error_occurred_loading_gpx),Toast.LENGTH_LONG).show();
    return false;
  }
catch (  XmlPullParserException e) {
    log.error("Error loading gpx",e);
    Toast.makeText(ctx,ctx.getString(R.string.error_occurred_loading_gpx),Toast.LENGTH_LONG).show();
    return false;
  }
}
