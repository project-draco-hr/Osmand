{
  if (requestCode == RESULT_REQUEST_CODE && resultCode == EditPOIFilterActivity.EDIT_ACTIVITY_RESULT_OK) {
    PoiLegacyFilter custom=app.getPoiFilters().getCustomPOIFilter();
    if (this.filter.isStandardFilter()) {
      PoiLegacyFilter old=this.filter;
      this.filter=custom;
      this.filter.setFilterByName(old.getFilterByName());
    }
 else {
      this.filter.updateTypesToAccept(custom);
    }
  }
  if (filter == null || filter.isEmpty()) {
    finish();
  }
}
