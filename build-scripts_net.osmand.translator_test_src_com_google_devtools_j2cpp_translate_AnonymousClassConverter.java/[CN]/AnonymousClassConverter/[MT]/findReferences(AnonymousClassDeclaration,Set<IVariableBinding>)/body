{
  final List<ReferenceDescription> refs=Lists.newArrayList();
  MethodDeclaration decl=getEnclosingMethod(node);
  if (decl != null) {
    final IMethodBinding enclosingMethod=Types.getMethodBinding(decl);
    @SuppressWarnings("unchecked") List<BodyDeclaration> classMembers=node.bodyDeclarations();
    for (    BodyDeclaration member : classMembers) {
      member.accept(new ASTVisitor(){
        @Override public void endVisit(        SimpleName node){
          IVariableBinding varType=Types.getVariableBinding(node);
          if (varType != null) {
            if (methodVars.contains(varType.getVariableDeclaration())) {
              refs.add(new ReferenceDescription(node,varType,enclosingMethod));
            }
          }
        }
        @Override public boolean visit(        AnonymousClassDeclaration node){
          return false;
        }
      }
);
    }
  }
  return refs;
}
