{
  IBinding binding=Types.getBinding(node);
  if (binding instanceof ITypeBinding) {
    return (ITypeBinding)binding;
  }
  if (binding instanceof IVariableBinding) {
    return ((IVariableBinding)binding).getType();
  }
  if (binding instanceof IMethodBinding) {
    IMethodBinding method=(IMethodBinding)binding;
    return method.isConstructor() ? method.getDeclaringClass() : method.getReturnType();
  }
  throw new AssertionError("unknown box type");
}
