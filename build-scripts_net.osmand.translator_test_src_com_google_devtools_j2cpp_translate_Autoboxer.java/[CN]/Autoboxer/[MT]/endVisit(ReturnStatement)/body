{
  Expression expr=node.getExpression();
  if (expr != null) {
    ASTNode n=node.getParent();
    while (!(n instanceof MethodDeclaration)) {
      n=n.getParent();
    }
    ITypeBinding returnType=Types.getMethodBinding(n).getReturnType();
    ITypeBinding exprType=getBoxType(expr);
    if (returnType.isPrimitive() && !exprType.isPrimitive()) {
      node.setExpression(unbox(expr));
    }
    if (!returnType.isPrimitive() && exprType.isPrimitive()) {
      node.setExpression(box(expr));
    }
  }
}
