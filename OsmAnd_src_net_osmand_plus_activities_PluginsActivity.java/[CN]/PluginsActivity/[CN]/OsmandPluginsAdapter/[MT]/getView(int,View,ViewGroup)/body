{
  View v=convertView;
  if (v == null) {
    LayoutInflater inflater=getLayoutInflater();
    v=inflater.inflate(net.osmand.plus.R.layout.plugins_list_item,parent,false);
  }
  OsmandPlugin plugin=getItem(position);
  boolean toBeEnabled=restartPlugins.contains(plugin.getId());
  final View row=v;
  CheckBox ch=(CheckBox)row.findViewById(R.id.check_item);
  ch.setOnClickListener(null);
  ch.setChecked(toBeEnabled);
  ch.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      click(position);
    }
  }
);
  TextView nameView=(TextView)row.findViewById(R.id.plugin_name);
  nameView.setText(plugin.getName());
  nameView.setContentDescription(plugin.getName() + " " + getString(toBeEnabled ? R.string.item_checked : R.string.item_unchecked));
  View rw=row.findViewById(R.id.settings);
  final Class<? extends Activity> st=plugin.getSettingsActivity();
  rw.setVisibility(toBeEnabled && st != null ? View.VISIBLE : View.GONE);
  rw.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      if (st != null) {
        startActivity(new Intent(PluginsActivity.this,st));
      }
    }
  }
);
  TextView description=(TextView)row.findViewById(R.id.plugin_descr);
  description.setText(plugin.getDescription());
  description.setVisibility(clickedPlugins.contains(plugin.getId()) || !restartPlugins.contains(plugin.getId()) ? View.VISIBLE : View.GONE);
  return row;
}
