{
  Map<String,PoiType> translation=new TreeMap<String,PoiType>();
  for (  PoiCategory pc : categories) {
    for (    PoiType pt : pc.getPoiTypes()) {
      if (pt.isReference()) {
        continue;
      }
      translation.put(pt.getTranslation(),pt);
      if (!onlyTranslation) {
        String kn=pt.getKeyName().replace('_',' ');
        if (!pt.getTranslation().toLowerCase().contains(kn)) {
          translation.put(Algorithms.capitalizeFirstLetterAndLowercase(kn),pt);
        }
      }
    }
  }
  return translation;
}
