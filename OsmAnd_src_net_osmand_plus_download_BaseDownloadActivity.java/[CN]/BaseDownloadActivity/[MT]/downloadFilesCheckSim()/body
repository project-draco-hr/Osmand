{
  TelephonyManager telMgr=(TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);
  int phoneType=telMgr.getPhoneType();
  if (phoneType == TelephonyManager.PHONE_TYPE_NONE) {
    AccessibleToast.makeText(this,R.string.sim_card_not_supported,Toast.LENGTH_LONG).show();
    return;
  }
  int simState=telMgr.getSimState();
switch (simState) {
case TelephonyManager.SIM_STATE_NETWORK_LOCKED:
    AccessibleToast.makeText(this,R.string.network_locked,Toast.LENGTH_LONG).show();
  break;
case TelephonyManager.SIM_STATE_PIN_REQUIRED:
AccessibleToast.makeText(this,R.string.sim_pin_required,Toast.LENGTH_LONG).show();
break;
case TelephonyManager.SIM_STATE_PUK_REQUIRED:
AccessibleToast.makeText(this,R.string.sim_puk_required,Toast.LENGTH_LONG).show();
break;
case TelephonyManager.SIM_STATE_READY:
downloadFilesPreCheckSpace();
break;
case TelephonyManager.SIM_STATE_ABSENT:
case TelephonyManager.SIM_STATE_UNKNOWN:
AccessibleToast.makeText(this,R.string.no_sim_card,Toast.LENGTH_LONG).show();
break;
}
}
