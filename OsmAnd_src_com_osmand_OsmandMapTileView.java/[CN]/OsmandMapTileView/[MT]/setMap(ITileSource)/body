{
  this.map=map;
  if (map.getMaximumZoomSupported() < this.zoom) {
    zoom=map.getMaximumZoomSupported();
  }
  if (map.getMinimumZoomSupported() > this.zoom) {
    zoom=map.getMinimumZoomSupported();
  }
  prepareImage();
}
