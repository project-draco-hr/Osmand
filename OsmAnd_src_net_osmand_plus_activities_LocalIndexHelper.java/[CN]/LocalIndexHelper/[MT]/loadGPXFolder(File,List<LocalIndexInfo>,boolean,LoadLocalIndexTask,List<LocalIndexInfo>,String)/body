{
  for (  File gpxFile : listFilesSorted(mapPath)) {
    if (gpxFile.isDirectory()) {
      String sub=gpxSubfolder == null ? gpxFile.getName() : gpxSubfolder + "/" + gpxFile.getName();
      loadGPXFolder(gpxFile,result,backup,loadTask,progress,sub);
    }
 else     if (gpxFile.isFile() && gpxFile.getName().endsWith(".gpx")) {
      LocalIndexInfo info=new LocalIndexInfo(LocalIndexType.GPX_DATA,gpxFile,backup);
      info.setSubfolder(gpxSubfolder);
      result.add(info);
      progress.add(info);
      if (progress.size() > 7) {
        loadTask.loadFile(progress.toArray(new LocalIndexInfo[progress.size()]));
        progress.clear();
      }
    }
  }
}
