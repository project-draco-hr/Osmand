{
  try {
    FileOutputStream out=new FileOutputStream(de.fileToSave);
    try {
      log.info("Download " + de.urlToDownload);
      if (de.parts == 1) {
        URL url=new URL(de.urlToDownload);
        downloadFileInternal(de.baseName,out,url,null,indexOfAllFiles,progress,forceWifi);
      }
 else {
        for (int i=1; i <= de.parts; i++) {
          URL url=new URL(de.urlToDownload);
          downloadFileInternal(de.baseName,out,url," [" + i + "/"+ de.parts+ "]",indexOfAllFiles,progress,forceWifi);
        }
      }
    }
  finally {
      out.close();
    }
    unzipFile(de,progress,toReIndex);
    showWarningCallback.showWarning(ctx.getString(R.string.download_index_success));
    return true;
  }
 catch (  IOException e) {
    log.error("Exception ocurred",e);
    showWarningCallback.showWarning(ctx.getString(R.string.error_io_error) + " : " + e.getMessage());
    de.fileToSave.delete();
    return false;
  }
catch (  InterruptedException e) {
    de.fileToSave.delete();
    throw e;
  }
}
