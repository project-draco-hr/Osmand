{
  if (heading != null && lastValSin != avgValSin && System.currentTimeMillis() - lastHeadingCalcTime > 700) {
    avgValSin=lastValSin;
    avgValCos=lastValCos;
    lastHeadingCalcTime=System.currentTimeMillis();
    Arrays.fill(previousCompassValuesA,avgValSin);
    Arrays.fill(previousCompassValuesB,avgValCos);
    updateCompassVal();
  }
  return heading;
}
