{
  app.runMessageInUIThreadAndCancelPrevious(RUN_SIMULATE_LOCATION_MSG_ID,new Runnable(){
    @Override public void run(){
      if (simulatePosition != null) {
        net.osmand.Location loc=simulatePosition.getSimulatedLocation();
        if (loc != null) {
          setLocation(loc);
          simulatePosition();
        }
 else {
          simulatePosition=null;
        }
      }
    }
  }
,1000);
}
