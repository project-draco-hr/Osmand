{
  if (isClosed(newPoly)) {
    closedPolygons.add(newPoly);
  }
 else   if (polygons.isEmpty()) {
    polygons.add(newPoly);
  }
 else {
    Stack<Way> wayStack=new Stack<Way>();
    wayStack.push(newPoly);
    addAndMergePolygon(polygons,closedPolygons,wayStack);
  }
  outerInnerMapping=null;
}
