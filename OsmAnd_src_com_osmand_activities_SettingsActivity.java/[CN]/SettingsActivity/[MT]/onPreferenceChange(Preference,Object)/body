{
  SharedPreferences prefs=getSharedPreferences(OsmandSettings.SHARED_PREFERENCES_NAME,Context.MODE_WORLD_READABLE);
  Editor edit=prefs.edit();
  if (preference == showPoiOnMap) {
    edit.putBoolean(OsmandSettings.SHOW_POI_OVER_MAP,(Boolean)newValue);
    edit.commit();
  }
 else   if (preference == useInternetToDownloadTiles) {
    edit.putBoolean(OsmandSettings.USE_INTERNET_TO_DOWNLOAD_TILES,(Boolean)newValue);
    edit.commit();
  }
 else   if (preference == rotateMapToBearing) {
    edit.putBoolean(OsmandSettings.ROTATE_MAP_TO_BEARING,(Boolean)newValue);
    edit.commit();
  }
 else   if (preference == showViewAngle) {
    edit.putBoolean(OsmandSettings.SHOW_VIEW_ANGLE,(Boolean)newValue);
    edit.commit();
  }
 else   if (preference == positionOnMap) {
    edit.putInt(OsmandSettings.POSITION_ON_MAP,positionOnMap.findIndexOfValue((String)newValue));
    edit.commit();
  }
 else   if (preference == tileSourcePreference) {
    edit.putString(OsmandSettings.MAP_TILE_SOURCES,(String)newValue);
    edit.commit();
    String summary=tileSourcePreference.getSummary().toString();
    if (summary.lastIndexOf(':') != -1) {
      summary=summary.substring(0,summary.lastIndexOf(':') + 1);
    }
    summary+=" " + OsmandSettings.getMapTileSourceName(this);
    tileSourcePreference.setSummary(summary);
  }
  return true;
}
