{
  super.onCreate(savedInstanceState);
  addPreferencesFromResource(R.xml.settings_pref);
  PreferenceScreen screen=getPreferenceScreen();
  useInternetToDownloadTiles=(CheckBoxPreference)screen.findPreference(OsmandSettings.USE_INTERNET_TO_DOWNLOAD_TILES);
  useInternetToDownloadTiles.setOnPreferenceChangeListener(this);
  showPoiOnMap=(CheckBoxPreference)screen.findPreference(OsmandSettings.SHOW_POI_OVER_MAP);
  showPoiOnMap.setOnPreferenceChangeListener(this);
  rotateMapToBearing=(CheckBoxPreference)screen.findPreference(OsmandSettings.ROTATE_MAP_TO_BEARING);
  rotateMapToBearing.setOnPreferenceChangeListener(this);
  showViewAngle=(CheckBoxPreference)screen.findPreference(OsmandSettings.SHOW_VIEW_ANGLE);
  showViewAngle.setOnPreferenceChangeListener(this);
  showOsmBugs=(CheckBoxPreference)screen.findPreference(OsmandSettings.SHOW_OSM_BUGS);
  showOsmBugs.setOnPreferenceChangeListener(this);
  useEnglishNames=(CheckBoxPreference)screen.findPreference(OsmandSettings.USE_ENGLISH_NAMES);
  useEnglishNames.setOnPreferenceChangeListener(this);
  userName=(EditTextPreference)screen.findPreference(OsmandSettings.USER_NAME);
  userName.setOnPreferenceChangeListener(this);
  positionOnMap=(ListPreference)screen.findPreference(OsmandSettings.POSITION_ON_MAP);
  positionOnMap.setOnPreferenceChangeListener(this);
  tileSourcePreference=(ListPreference)screen.findPreference(OsmandSettings.MAP_TILE_SOURCES);
  tileSourcePreference.setOnPreferenceChangeListener(this);
}
