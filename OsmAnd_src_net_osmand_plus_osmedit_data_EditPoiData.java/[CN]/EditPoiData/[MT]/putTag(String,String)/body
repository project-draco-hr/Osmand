{
  if (isInEdit) {
    throw new IllegalStateException("Can't modify in edit mode");
  }
  try {
    isInEdit=true;
    tagValues.put(tag,value);
    notifyDatasetChanged();
  }
  finally {
    isInEdit=false;
  }
}
