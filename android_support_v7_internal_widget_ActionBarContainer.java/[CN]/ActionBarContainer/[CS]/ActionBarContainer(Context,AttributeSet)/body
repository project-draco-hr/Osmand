{
  super(context,attrs);
  final Drawable bg=VersionUtils.isAtLeastL() ? new ActionBarBackgroundDrawableV21(this) : new ActionBarBackgroundDrawable(this);
  setBackgroundDrawable(bg);
  TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.ActionBar);
  mBackground=a.getDrawable(R.styleable.ActionBar_background);
  mStackedBackground=a.getDrawable(R.styleable.ActionBar_backgroundStacked);
  mHeight=a.getDimensionPixelSize(R.styleable.ActionBar_height,-1);
  if (getId() == R.id.split_action_bar) {
    mIsSplit=true;
    mSplitBackground=a.getDrawable(R.styleable.ActionBar_backgroundSplit);
  }
  a.recycle();
  setWillNotDraw(mIsSplit ? mSplitBackground == null : mBackground == null && mStackedBackground == null);
}
