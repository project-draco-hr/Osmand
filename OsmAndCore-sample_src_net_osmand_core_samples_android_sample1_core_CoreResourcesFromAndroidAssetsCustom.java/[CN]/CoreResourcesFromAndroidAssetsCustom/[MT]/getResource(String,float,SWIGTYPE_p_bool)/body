{
  final BoolPtr ok=BoolPtr.frompointer(ok_);
  ResourceData resourceData=getResourceData(name,displayDensityFactor);
  if (resourceData == null) {
    Log.w(TAG,"Requested resource [ddf=" + displayDensityFactor + "]'"+ name+ "' was not found");
    if (ok != null)     ok.assign(false);
    return SwigUtilities.emptyQByteArray();
  }
  final String dataPath=resourceData.path.getAbsolutePath();
  final SWIGTYPE_p_QByteArray data;
  if (resourceData.offset == 0 && resourceData.size == resourceData.path.length()) {
    if (!name.endsWith(".png")) {
      data=SwigUtilities.qDecompress(SwigUtilities.readEntireFile(dataPath));
    }
 else {
      data=SwigUtilities.readEntireFile(dataPath);
    }
  }
 else {
    if (!name.endsWith(".png")) {
      data=SwigUtilities.qDecompress(SwigUtilities.readPartOfFile(dataPath,resourceData.offset,resourceData.size));
    }
 else {
      data=SwigUtilities.readPartOfFile(dataPath,resourceData.offset,resourceData.size);
    }
  }
  if (ok != null)   ok.assign(true);
  return data;
}
