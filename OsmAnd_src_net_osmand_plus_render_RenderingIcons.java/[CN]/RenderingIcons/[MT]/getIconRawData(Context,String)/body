{
  Integer resId=icons.get(s);
  if (resId == null)   return null;
  try {
    final InputStream inputStream=ctx.getResources().openRawResource(resId.intValue());
    final ByteArrayOutputStream proxyOutputStream=new ByteArrayOutputStream(1024);
    final byte[] ioBuffer=new byte[1024];
    int bytesRead;
    while ((bytesRead=inputStream.read(ioBuffer)) >= 0) {
      proxyOutputStream.write(ioBuffer,0,bytesRead);
    }
    inputStream.close();
    final byte[] bitmapData=proxyOutputStream.toByteArray();
    log.info("Icon data length is " + bitmapData.length);
    Bitmap dm=android.graphics.BitmapFactory.decodeByteArray(bitmapData,0,bitmapData.length);
    if (dm != null) {
      System.out.println("IC " + s + " "+ dm.getHeight()+ "x"+ dm.getWidth());
    }
    return bitmapData;
  }
 catch (  Throwable e) {
    log.error("Failed to get byte stream from icon",e);
    return null;
  }
}
