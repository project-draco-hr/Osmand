{
  if (this.region == region) {
    return;
  }
  this.region=region;
  DefaultMutableTreeNode root=new DataExtractionTreeNode(name,region);
  amenitiesTree=new DataExtractionTreeNode("Closest amenities",region);
  amenitiesTree.add(new DataExtractionTreeNode("First 15",region));
  for (  AmenityType type : AmenityType.values()) {
    amenitiesTree.add(new DataExtractionTreeNode(Algoritms.capitalizeFirstLetterAndLowercase(type.toString()),type));
  }
  root.add(amenitiesTree);
  if (region != null) {
    for (    CityType t : CityType.values()) {
      DefaultMutableTreeNode cityTree=new DataExtractionTreeNode(Algoritms.capitalizeFirstLetterAndLowercase(t.toString()),t);
      root.add(cityTree);
      for (      City ct : region.getCitiesByType(t)) {
        DefaultMutableTreeNode cityNodeTree=new DataExtractionTreeNode(ct.getName(),ct);
        cityTree.add(cityNodeTree);
        for (        Street str : ct.getStreets()) {
          DefaultMutableTreeNode strTree=new DataExtractionTreeNode(str.getName(),str);
          cityNodeTree.add(strTree);
          for (          Entity e : str.getBuildings()) {
            DefaultMutableTreeNode building=new DataExtractionTreeNode(e.getTag(OSMTagKey.ADDR_HOUSE_NUMBER),e);
            strTree.add(building);
          }
        }
      }
    }
  }
  if (searchList != null) {
    updateListCities(region,searchTextField.getText(),searchList);
  }
  mapPanel.repaint();
  treePlaces.setModel(new DefaultTreeModel(root,false));
}
