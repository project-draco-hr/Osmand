{
  if (this.region == region) {
    return;
  }
  this.region=region;
  DefaultMutableTreeNode root=new DataExtractionTreeNode(name,region);
  if (region != null) {
    amenitiesTree=new DataExtractionTreeNode("Amenities",region);
    amenitiesTree.add(new DataExtractionTreeNode("First 15",region));
    for (    AmenityType type : AmenityType.values()) {
      amenitiesTree.add(new DataExtractionTreeNode(Algoritms.capitalizeFirstLetterAndLowercase(type.toString()),type));
    }
    root.add(amenitiesTree);
    for (    CityType t : CityType.values()) {
      DefaultMutableTreeNode cityTree=new DataExtractionTreeNode(Algoritms.capitalizeFirstLetterAndLowercase(t.toString()),t);
      root.add(cityTree);
      for (      City ct : region.getCitiesByType(t)) {
        DefaultMutableTreeNode cityNodeTree=new DataExtractionTreeNode(ct.getName(),ct);
        cityTree.add(cityNodeTree);
        for (        Street str : ct.getStreets()) {
          DefaultMutableTreeNode strTree=new DataExtractionTreeNode(str.getName(),str);
          cityNodeTree.add(strTree);
          for (          Building b : str.getBuildings()) {
            DefaultMutableTreeNode building=new DataExtractionTreeNode(b.getName(),b);
            strTree.add(building);
          }
        }
      }
    }
  }
  if (searchList != null) {
    updateListCities(region,searchTextField.getText(),searchList);
  }
  mapPanel.repaint();
  DefaultTreeModel newModel=new DefaultTreeModel(root,false);
  newModel.addTreeModelListener(treeModelListener);
  treePlaces.setModel(newModel);
  updateButtonsBar();
  locationChanged(mapPanel.getLatitude(),mapPanel.getLongitude(),this);
}
