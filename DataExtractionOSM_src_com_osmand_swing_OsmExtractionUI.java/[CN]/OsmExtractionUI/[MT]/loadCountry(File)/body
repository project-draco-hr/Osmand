{
  try {
    final ProgressDialog dlg=new ProgressDialog(frame);
    dlg.setRunnable(new Runnable(){
      @Override public void run(){
        Region res;
        try {
          res=new DataExtraction().readCountry(f.getAbsolutePath(),dlg);
        }
 catch (        IOException e) {
          throw new IllegalArgumentException(e);
        }
catch (        SAXException e) {
          throw new IllegalStateException(e);
        }
        dlg.setResult(res);
      }
    }
);
    Region region=(Region)dlg.run();
    setRegion(region);
  }
 catch (  InterruptedException e1) {
    e1.printStackTrace();
  }
catch (  InvocationTargetException e1) {
    e1.printStackTrace();
  }
}
