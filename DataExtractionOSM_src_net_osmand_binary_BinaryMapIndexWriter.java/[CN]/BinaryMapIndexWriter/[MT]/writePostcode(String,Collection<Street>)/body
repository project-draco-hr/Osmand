{
  checkPeekState(POSTCODES_INDEX_INIT);
  if (streets.isEmpty()) {
    return;
  }
  postcode=postcode.toUpperCase();
  LatLon loc=streets.iterator().next().getLocation();
  PostcodeIndex.Builder post=OsmandOdb.PostcodeIndex.newBuilder();
  post.setPostcode(postcode);
  post.setX(MapUtils.get31TileNumberX(loc.getLongitude()));
  post.setY(MapUtils.get31TileNumberY(loc.getLatitude()));
  for (  Street s : streets) {
    StreetIndex streetInd=createStreetAndBuildings(s,loc,postcode);
    post.addStreets(streetInd);
  }
  codedOutStream.writeMessage(OsmandOdb.PostcodesIndex.POSTCODES_FIELD_NUMBER,post.build());
}
