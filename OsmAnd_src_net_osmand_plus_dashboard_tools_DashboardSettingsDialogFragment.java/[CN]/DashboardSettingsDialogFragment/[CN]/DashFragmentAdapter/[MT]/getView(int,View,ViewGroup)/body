{
  DashFragmentData dashFragmentData=getItem(position);
  final DashViewHolder viewHolder;
  boolean hasRows=getItemViewType(position) == 1;
  if (convertView == null) {
    viewHolder=new DashViewHolder();
    if (hasRows) {
      convertView=LayoutInflater.from(getContext()).inflate(R.layout.dashboard_settings_dialog_item_1,parent,false);
      viewHolder.numberOfRowsTextView=(TextView)convertView.findViewById(R.id.numberOfRowsTextView);
      viewHolder.decrementButton=(Button)convertView.findViewById(R.id.decrementButton);
      viewHolder.incrementButton=(Button)convertView.findViewById(R.id.incrementButton);
    }
 else {
      convertView=LayoutInflater.from(getContext()).inflate(R.layout.dashboard_settings_dialog_item,parent,false);
    }
    viewHolder.textView=(TextView)convertView.findViewById(R.id.text);
    viewHolder.compoundButton=(CompoundButton)convertView.findViewById(R.id.check_item);
    viewHolder.compoundButton.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener(){
      @Override public void onCheckedChanged(      CompoundButton compoundButton,      boolean b){
        DashViewHolder localViewHolder=(DashViewHolder)compoundButton.getTag();
        checkedItems[localViewHolder.position]=b;
        localViewHolder.textView.setTextColor(checkedItems[localViewHolder.position] ? textColorPrimary : textColorSecondary);
      }
    }
);
  }
 else {
    viewHolder=(DashViewHolder)convertView.getTag();
  }
  if (hasRows) {
    viewHolder.incrementButton.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        DashViewHolder localViewHolder=(DashViewHolder)v.getTag();
        numbersOfRows[localViewHolder.position]++;
        viewHolder.numberOfRowsTextView.setText(getString(R.string.number_of_rows_in_dash,numbersOfRows[localViewHolder.position]));
      }
    }
);
    viewHolder.incrementButton.setTag(viewHolder);
    viewHolder.decrementButton.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        DashViewHolder localViewHolder=(DashViewHolder)v.getTag();
        if (numbersOfRows[localViewHolder.position] > 1) {
          numbersOfRows[localViewHolder.position]--;
        }
        viewHolder.numberOfRowsTextView.setText(getString(R.string.number_of_rows_in_dash,numbersOfRows[localViewHolder.position]));
      }
    }
);
    viewHolder.decrementButton.setTag(viewHolder);
    viewHolder.numberOfRowsTextView.setText(getString(R.string.number_of_rows_in_dash,numbersOfRows[position]));
  }
  viewHolder.position=position;
  viewHolder.compoundButton.setTag(viewHolder);
  viewHolder.compoundButton.setChecked(checkedItems[position]);
  viewHolder.textView.setText(dashFragmentData.title);
  viewHolder.textView.setTextColor(checkedItems[position] ? textColorPrimary : textColorSecondary);
  convertView.setTag(viewHolder);
  return convertView;
}
