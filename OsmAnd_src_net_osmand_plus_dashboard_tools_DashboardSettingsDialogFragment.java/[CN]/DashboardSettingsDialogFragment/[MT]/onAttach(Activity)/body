{
  super.onAttach(activity);
  mapActivity=(MapActivity)activity;
  ArrayList<DashFragmentData> fragmentsList=new ArrayList<>();
  for (  DashFragmentData fragmentData : mapActivity.getDashboard().getFragmentsData()) {
    if (fragmentData.canHideFunction == null || fragmentData.canHideFunction.canHide())     fragmentsList.add(fragmentData);
  }
  fragmentsData=fragmentsList.toArray(new DashFragmentData[fragmentsList.size()]);
}
