{
  OsmandPlugin.onRequestPermissionsResult(requestCode,permissions,grantResults);
  MapControlsLayer mcl=mapView.getLayerByClass(MapControlsLayer.class);
  if (mcl != null) {
    mcl.onRequestPermissionsResult(requestCode,permissions,grantResults);
  }
  if (requestCode == DownloadActivity.PERMISSIONS_REQUEST_WRITE_EXTERNAL_STORAGE && grantResults.length > 0 && permissions.length > 0 && Manifest.permission.WRITE_EXTERNAL_STORAGE.equals(permissions[0])) {
    permissionAsked=true;
    permissionGranted=grantResults[0] == PackageManager.PERMISSION_GRANTED;
  }
 else   if (requestCode == FirstUsageWizardFragment.FIRST_USAGE_LOCATION_PERMISSION) {
    FirstUsageWizardFragment wizardFragment=getFirstUsageWizardFragment();
    if (wizardFragment != null) {
      wizardFragment.processLocationPermission(grantResults[0] == PackageManager.PERMISSION_GRANTED);
    }
  }
  super.onRequestPermissionsResult(requestCode,permissions,grantResults);
}
