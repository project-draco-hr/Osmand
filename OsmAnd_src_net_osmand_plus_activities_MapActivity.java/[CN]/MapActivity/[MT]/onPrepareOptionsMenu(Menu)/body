{
  boolean val=super.onPrepareOptionsMenu(menu);
  MenuItem navigateToPointMenu=menu.findItem(R.id.map_navigate_to_point);
  if (navigateToPointMenu != null) {
    if (settings.getPointToNavigate() != null) {
      navigateToPointMenu.setTitle(routingHelper.isRouteCalculated() ? R.string.stop_routing : R.string.stop_navigation);
      navigateToPointMenu.setVisible(true);
    }
 else {
      navigateToPointMenu.setVisible(false);
    }
  }
  MenuItem muteMenu=menu.findItem(R.id.map_mute);
  if (muteMenu != null) {
    if (routingHelper.getFinalLocation() != null && routingHelper.isFollowingMode()) {
      muteMenu.setTitle(routingHelper.getVoiceRouter().isMute() ? R.string.menu_mute_on : R.string.menu_mute_off);
      muteMenu.setVisible(true);
    }
 else {
      muteMenu.setVisible(false);
    }
  }
  MenuItem directions=menu.findItem(R.id.map_get_directions);
  if (routingHelper.isRouteCalculated()) {
    directions.setTitle(R.string.show_route);
  }
 else {
    directions.setTitle(R.string.get_directions);
  }
  return val;
}
