{
  if (settings.WAKE_ON_VOICE.get()) {
    lastWakeOnTime=System.currentTimeMillis();
    if (wakeLock == null) {
      PowerManager pm=(PowerManager)getSystemService(POWER_SERVICE);
      wakeLock=pm.newWakeLock(PowerManager.SCREEN_BRIGHT_WAKE_LOCK | PowerManager.ACQUIRE_CAUSES_WAKEUP,"OsmAndOnVoiceWakeupTag");
      wakeLock.acquire();
    }
    if (keyguardLock == null) {
      KeyguardManager km=(KeyguardManager)getSystemService(Context.KEYGUARD_SERVICE);
      keyguardLock=km.newKeyguardLock("OsmAndKeyguardLock");
      keyguardLock.disableKeyguard();
    }
    uiHandler.postDelayed(new Runnable(){
      @Override public void run(){
        releaseWakeLocks();
      }
    }
,WAKE_ON_VOICE_INTERVAL);
  }
}
