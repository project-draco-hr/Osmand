{
  super.onPause();
  LocationManager service=(LocationManager)getSystemService(LOCATION_SERVICE);
  service.removeUpdates(gpsListener);
  service.removeUpdates(networkListener);
  SensorManager sensorMgr=(SensorManager)getSystemService(SENSOR_SERVICE);
  sensorMgr.unregisterListener(this);
  sensorRegistered=false;
  currentLocationProvider=null;
  routingHelper.setUiActivity(null);
  routingHelper.getVoiceRouter().onActivityStop(this);
  getMyApplication().getDaynightHelper().onMapPause();
  settings.setLastKnownMapLocation((float)mapView.getLatitude(),(float)mapView.getLongitude());
  AnimateDraggingMapThread animatedThread=mapView.getAnimatedDraggingThread();
  if (animatedThread.isAnimating() && animatedThread.getTargetZoom() != 0) {
    settings.setMapLocationToShow(animatedThread.getTargetLatitude(),animatedThread.getTargetLongitude(),animatedThread.getTargetZoom());
  }
  settings.setLastKnownMapZoom(mapView.getZoom());
  if (wakeLock != null) {
    wakeLock.release();
    wakeLock=null;
  }
  settings.MAP_ACTIVITY_ENABLED.set(false);
  getMyApplication().getResourceManager().interruptRendering();
  getMyApplication().getResourceManager().setBusyIndicator(null);
}
