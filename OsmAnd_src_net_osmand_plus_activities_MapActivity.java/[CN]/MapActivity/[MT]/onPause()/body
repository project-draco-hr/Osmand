{
  super.onPause();
  app.getLocationProvider().pauseAllUpdates();
  app.getDaynightHelper().stopSensorIfNeeded();
  settings.APPLICATION_MODE.removeListener(applicationModeListener);
  settings.setLastKnownMapLocation((float)mapViewController.getLatitude(),(float)mapViewController.getLongitude());
  mapViewController.onPause();
  settings.setLastKnownMapZoom(mapViewController.getZoom());
  settings.MAP_ACTIVITY_ENABLED.set(false);
  app.setMapActivity(null);
  app.getResourceManager().interruptRendering();
  app.getResourceManager().setBusyIndicator(null);
  OsmandPlugin.onMapActivityPause(this);
}
