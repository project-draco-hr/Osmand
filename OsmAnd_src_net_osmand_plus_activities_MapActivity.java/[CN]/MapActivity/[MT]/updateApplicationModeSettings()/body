{
  currentMapRotation=settings.ROTATE_MAP.get();
  currentShowingAngle=settings.SHOW_VIEW_ANGLE.get();
  if (currentMapRotation == OsmandSettings.ROTATE_MAP_NONE) {
    mapView.setRotate(0);
  }
  if (!currentShowingAngle) {
    locationLayer.setHeading(null);
  }
  routingHelper.setAppMode(settings.getApplicationMode());
  mapView.setMapPosition(settings.POSITION_ON_MAP.get());
  registerUnregisterSensor(getLastKnownLocation());
  updateLayers();
}
