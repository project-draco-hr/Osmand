{
  LatLon cur=new LatLon(mapView.getLatitude(),mapView.getLongitude());
  LatLon latLonToShow=settings.getAndClearMapLocationToShow();
  PointDescription mapLabelToShow=settings.getAndClearMapLabelToShow();
  Object toShow=settings.getAndClearObjectToShow();
  int status=settings.isRouteToPointNavigateAndClear();
  if (status != 0) {
    Location loc=new Location("map");
    loc.setLatitude(mapView.getLatitude());
    loc.setLongitude(mapView.getLongitude());
    getMapActions().enterRoutePlanningMode(null,null,status == OsmandSettings.NAVIGATE_CURRENT_GPX);
    if (dashboardOnMap.isVisible()) {
      dashboardOnMap.setDashboardVisibility(false);
    }
  }
  if (latLonToShow != null) {
    if (dashboardOnMap.isVisible()) {
      dashboardOnMap.setDashboardVisibility(false);
    }
    if (mapLabelToShow != null) {
      mapLayers.getContextMenuLayer().setSelectedObject(toShow);
      mapLayers.getContextMenuLayer().setLocation(latLonToShow,mapLabelToShow.getFullPlainName(this,latLonToShow.getLatitude(),latLonToShow.getLongitude()));
    }
    if (!latLonToShow.equals(cur)) {
      mapView.getAnimatedDraggingThread().startMoving(latLonToShow.getLatitude(),latLonToShow.getLongitude(),settings.getMapZoomToShow(),true);
    }
    mapViewTrackingUtilities.setMapLinkedToLocation(false);
  }
}
