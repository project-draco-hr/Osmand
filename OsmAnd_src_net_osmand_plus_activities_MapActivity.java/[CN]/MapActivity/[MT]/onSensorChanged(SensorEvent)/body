{
  float val=event.values[0];
  if (currentScreenOrientation == 1) {
    val+=90;
  }
  if (currentMapRotation == OsmandSettings.ROTATE_MAP_COMPASS) {
    mapView.setRotate(-val);
  }
  if (currentShowingAngle) {
    if (locationLayer.getHeading() == null || Math.abs(locationLayer.getHeading() - val) > 10) {
      locationLayer.setHeading(val);
    }
  }
}
