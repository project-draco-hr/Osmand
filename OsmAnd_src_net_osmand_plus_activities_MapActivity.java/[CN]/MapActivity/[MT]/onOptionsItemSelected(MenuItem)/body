{
switch (item.getItemId()) {
case R.id.map_show_settings:
    final Intent intentSettings=new Intent(MapActivity.this,SettingsActivity.class);
  startActivity(intentSettings);
return true;
case R.id.map_where_am_i:
backToLocationImpl();
return true;
case R.id.map_show_gps_status:
startGpsStatusIntent();
return true;
case R.id.map_get_directions:
Location loc=getLastKnownLocation();
if (loc != null) {
mapActions.getDirections(loc.getLatitude(),loc.getLongitude(),true);
}
 else {
mapActions.getDirections(mapView.getLatitude(),mapView.getLongitude(),true);
}
return true;
case R.id.map_layers:
mapLayers.openLayerSelectionDialog(mapView);
return true;
case R.id.map_save_directions:
mapActions.saveDirections();
return true;
case R.id.map_specify_point:
Intent newIntent=new Intent(MapActivity.this,SearchActivity.class);
newIntent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);
newIntent.putExtra(SearchActivity.TAB_INDEX_EXTRA,SearchActivity.LOCATION_TAB_INDEX);
startActivity(newIntent);
return true;
case R.id.map_mute:
routingHelper.getVoiceRouter().setMute(!routingHelper.getVoiceRouter().isMute());
return true;
case R.id.map_navigate_to_point:
if (mapLayers.getNavigationLayer().getPointToNavigate() != null) {
navigateToPoint(null);
}
 else {
navigateToPoint(new LatLon(mapView.getLatitude(),mapView.getLongitude()));
}
mapView.refreshMap();
return true;
case R.id.map_gpx_routing:
mapActions.navigateUsingGPX();
return true;
case R.id.map_show_point_options:
contextMenuPoint(mapView.getLatitude(),mapView.getLongitude());
return true;
default :
return super.onOptionsItemSelected(item);
}
}
