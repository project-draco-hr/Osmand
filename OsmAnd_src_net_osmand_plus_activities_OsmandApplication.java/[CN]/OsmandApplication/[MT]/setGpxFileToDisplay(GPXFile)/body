{
  this.gpxFileToDisplay=gpxFileToDisplay;
  if (gpxFileToDisplay == null) {
    getFavorites().setFavoritePointsFromGPXFile(null);
  }
 else {
    List<FavouritePoint> pts=new ArrayList<FavouritePoint>();
    for (    WptPt p : gpxFileToDisplay.points) {
      FavouritePoint pt=new FavouritePoint();
      pt.setLatitude(p.lat);
      pt.setLongitude(p.lon);
      if (p.name == null) {
        p.name="";
      }
      pt.setName(p.name);
      pts.add(pt);
    }
    getFavorites().setFavoritePointsFromGPXFile(pts);
  }
}
