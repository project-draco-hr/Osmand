{
  button.setContentDescription(ctx.getString(stringId));
  button.setBackgroundResource(resourceId);
  Drawable d=ctx.getResources().getDrawable(resourceId);
  android.widget.FrameLayout.LayoutParams params=new FrameLayout.LayoutParams(d.getMinimumWidth(),d.getMinimumHeight(),gravity);
  if ((gravity & Gravity.LEFT) == Gravity.LEFT) {
    params.leftMargin=margin + extraMargin;
  }
 else {
    params.rightMargin=margin + extraMargin;
  }
  if ((gravity & Gravity.BOTTOM) == Gravity.BOTTOM) {
    params.bottomMargin=vmargin;
  }
 else {
    params.topMargin=vmargin;
  }
  View sherpafyDialog=parent.findViewById(R.id.package_delivered_layout);
  if (sherpafyDialog != null && ((gravity & Gravity.BOTTOM) == Gravity.BOTTOM) && WaypointDialogHelper.OVERLAP_LAYOUT) {
    params.bottomMargin=sherpafyDialog.getHeight();
  }
  button.setLayoutParams(params);
  parent.addView(button);
  button.setEnabled(true);
  mapActivity.accessibleContent.add(button);
}
