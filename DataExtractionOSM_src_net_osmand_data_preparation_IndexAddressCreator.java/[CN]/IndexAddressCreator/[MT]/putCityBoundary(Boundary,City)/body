{
  final Boundary oldBoundary=cityBoundaries.get(cityFound);
  if (oldBoundary != null) {
    if (oldBoundary.getAdminLevel() > boundary.getAdminLevel() && !oldBoundary.getName().equalsIgnoreCase(cityFound.getName())) {
      cityBoundaries.put(cityFound,boundary);
      String s="City: " + cityFound.getName() + " boundary: "+ boundary.getName();
      if (logMapDataWarn != null) {
        logMapDataWarn.info(s);
      }
 else {
        log.info(s);
      }
    }
 else     if (boundary.getName().equalsIgnoreCase(cityFound.getName()) && !oldBoundary.getName().equalsIgnoreCase(cityFound.getName())) {
      cityBoundaries.put(cityFound,boundary);
      String s="City: " + cityFound.getName() + " boundary: "+ boundary.getName();
      if (logMapDataWarn != null) {
        logMapDataWarn.info(s);
      }
 else {
        log.info(s);
      }
    }
 else     if (oldBoundary.getAdminLevel() == boundary.getAdminLevel() && oldBoundary != boundary && boundary.getName().equalsIgnoreCase(oldBoundary.getName())) {
      if (!oldBoundary.isClosedWay() && !boundary.isClosedWay()) {
        oldBoundary.getInnerWays().addAll(boundary.getInnerWays());
        oldBoundary.getOuterWays().addAll(boundary.getOuterWays());
      }
    }
  }
 else {
    cityBoundaries.put(cityFound,boundary);
    if (logMapDataWarn != null) {
      logMapDataWarn.info("City: " + cityFound.getName() + " boundary: "+ boundary.getName());
    }
 else {
      log.info("City: " + cityFound.getName() + " boundary: "+ boundary.getName());
    }
  }
  return oldBoundary;
}
