{
  final Boundary oldBoundary=cityBoundaries.get(c);
  if (oldBoundary != null) {
    if (oldBoundary.getAdminLevel() > boundary.getAdminLevel()) {
      cityBoundaries.put(c,boundary);
    }
 else     if (boundary.getName().equalsIgnoreCase(c.getName()) && !oldBoundary.getName().equalsIgnoreCase(c.getName())) {
      cityBoundaries.put(c,boundary);
    }
 else     if (oldBoundary.getAdminLevel() == boundary.getAdminLevel() && oldBoundary != boundary && boundary.getName().equalsIgnoreCase(oldBoundary.getName())) {
      if (!oldBoundary.isClosedWay() && !boundary.isClosedWay()) {
        oldBoundary.getInnerWays().addAll(boundary.getInnerWays());
        oldBoundary.getOuterWays().addAll(boundary.getOuterWays());
      }
    }
  }
 else {
    cityBoundaries.put(c,boundary);
  }
}
