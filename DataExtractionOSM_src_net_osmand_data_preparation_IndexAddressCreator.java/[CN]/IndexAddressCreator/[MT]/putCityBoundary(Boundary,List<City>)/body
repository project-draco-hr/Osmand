{
  for (  City cityFound : cities) {
    final Boundary oldBoundary=cityBoundaries.get(cityFound);
    if (oldBoundary != null) {
      if (oldBoundary.getAdminLevel() > boundary.getAdminLevel() && !oldBoundary.getName().equalsIgnoreCase(cityFound.getName())) {
        cityBoundaries.put(cityFound,boundary);
        System.out.println("City: " + cityFound.getName() + " boundary: "+ boundary.getName());
      }
 else       if (boundary.getName().equalsIgnoreCase(cityFound.getName()) && !oldBoundary.getName().equalsIgnoreCase(cityFound.getName())) {
        cityBoundaries.put(cityFound,boundary);
        System.out.println("City: " + cityFound.getName() + " boundary: "+ boundary.getName());
      }
 else       if (oldBoundary.getAdminLevel() == boundary.getAdminLevel() && oldBoundary != boundary && boundary.getName().equalsIgnoreCase(oldBoundary.getName())) {
        if (!oldBoundary.isClosedWay() && !boundary.isClosedWay()) {
          oldBoundary.getInnerWays().addAll(boundary.getInnerWays());
          oldBoundary.getOuterWays().addAll(boundary.getOuterWays());
        }
      }
    }
 else {
      cityBoundaries.put(cityFound,boundary);
      System.out.println("City: " + cityFound.getName() + " boundary: "+ boundary.getName());
    }
  }
}
