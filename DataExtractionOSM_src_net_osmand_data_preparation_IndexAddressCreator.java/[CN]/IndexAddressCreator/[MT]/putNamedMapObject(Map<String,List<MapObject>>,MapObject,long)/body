{
  String name=o.getName();
  if (name != null && name.length() > 0) {
    if (name.length() > ADDRESS_NAME_CHARACTERS_TO_INDEX) {
      name=name.substring(0,ADDRESS_NAME_CHARACTERS_TO_INDEX);
    }
    if (!namesIndex.containsKey(name)) {
      namesIndex.put(name,new ArrayList<MapObject>());
    }
    namesIndex.get(name).add(o);
    if (fileOffset > Integer.MAX_VALUE) {
      throw new IllegalArgumentException("File offset > 2 GB.");
    }
    o.setFileOffset((int)fileOffset);
  }
}
