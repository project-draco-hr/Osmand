{
  List<Amenity> list=region.getAmenityManager().getAllObjects();
  List<Long> interestedObjects=new ArrayList<Long>(list.size());
  for (  Amenity a : list) {
    interestedObjects.add(a.getEntity().getId());
  }
  OutputStream output=checkFile("POI/" + region.getName() + ".osm");
  try {
    OsmStorageWriter writer=new OsmStorageWriter();
    writer.saveStorage(output,region.getStorage(),interestedObjects,false);
  }
  finally {
    output.close();
  }
  output=checkFile("POI/" + region.getName() + ".osmand");
  try {
    OsmStorageWriter writer=new OsmStorageWriter();
    writer.savePOIIndex(output,region);
  }
  finally {
    output.close();
  }
  return this;
}
