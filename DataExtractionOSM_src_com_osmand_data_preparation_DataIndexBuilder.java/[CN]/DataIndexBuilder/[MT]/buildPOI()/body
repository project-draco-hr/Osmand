{
  List<Amenity> list=region.getAmenityManager().getAllObjects();
  List<Long> interestedObjects=new ArrayList<Long>(list.size());
  for (  Amenity a : list) {
    interestedObjects.add(a.getEntity().getId());
  }
  OutputStream output=checkFile("POI/" + region.getName() + ".osmand");
  try {
    OsmStorageWriter writer=new OsmStorageWriter();
    writer.savePOIIndex(output,region);
  }
  finally {
    output.close();
  }
  OsmStorageWriter writer=new OsmStorageWriter();
  writer.saveLuceneIndex(new File(workingDir,"lucene"),region);
  writer.saveSQLLitePOIIndex(new File(workingDir,"POI/" + region.getName() + ".db"),region);
  return this;
}
