{
synchronized (this) {
    if (handlerToLoop != null) {
      handlerToLoop.post(new Runnable(){
        @Override public void run(){
          Looper.myLooper().quit();
        }
      }
);
      handlerToLoop=null;
    }
  }
}
