{
  final View openBug=activity.getLayoutInflater().inflate(R.layout.open_bug,null);
  Builder builder=new AlertDialog.Builder(activity);
  builder.setTitle(R.string.osb_add_dialog_title);
  builder.setView(openBug);
  builder.setNegativeButton(R.string.default_buttons_cancel,null);
  builder.setPositiveButton(R.string.default_buttons_add,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
      final double latitude=args.getDouble(KEY_LATITUDE);
      final double longitude=args.getDouble(KEY_LONGITUDE);
      String text=((EditText)openBug.findViewById(R.id.BugMessage)).getText().toString();
      String author=((EditText)openBug.findViewById(R.id.AuthorName)).getText().toString();
      ((OsmandApplication)activity.getApplication()).getSettings().USER_OSM_BUG_NAME.set(author);
      boolean bug=createNewBug(latitude,longitude,text,author);
      if (bug) {
        AccessibleToast.makeText(activity,activity.getResources().getString(R.string.osb_add_dialog_success),Toast.LENGTH_LONG).show();
        clearCache();
        refreshMap();
      }
 else {
        AccessibleToast.makeText(activity,activity.getResources().getString(R.string.osb_add_dialog_error),Toast.LENGTH_LONG).show();
        openBugAlertDialog(latitude,longitude,text,author);
      }
    }
  }
);
  return builder.create();
}
