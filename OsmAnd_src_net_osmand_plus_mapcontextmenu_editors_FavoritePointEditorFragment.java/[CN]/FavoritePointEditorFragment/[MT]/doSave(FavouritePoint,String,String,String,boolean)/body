{
  if (editor.isNew()) {
    doAddFavorite(name,category,description);
  }
 else {
    helper.editFavouriteName(favorite,name,category,description);
  }
  getMapActivity().getMapView().refreshMap(true);
  if (needDismiss) {
    dismiss(false);
  }
  MapContextMenu menu=getMapActivity().getContextMenu();
  if (menu.getObject() == favorite) {
    PointDescription pointDescription=favorite.getPointDescription();
    pointDescription.setLat(favorite.getLatitude());
    pointDescription.setLon(favorite.getLongitude());
    menu.refreshMenu(pointDescription,favorite);
  }
}
