{
  if (editor.isNew()) {
    doAddFavorite(name,category,description);
  }
 else {
    helper.editFavouriteName(favorite,name,category,description);
  }
  getMapActivity().getMapView().refreshMap(true);
  if (needDismiss) {
    dismiss(false);
  }
  MapContextMenu menu=getMapActivity().getContextMenu();
  LatLon latLon=new LatLon(favorite.getLatitude(),favorite.getLongitude());
  if (menu.getLatLon().equals(latLon)) {
    PointDescription pointDescription=favorite.getPointDescription();
    pointDescription.setLat(favorite.getLatitude());
    pointDescription.setLon(favorite.getLongitude());
    menu.update(latLon,pointDescription,favorite);
  }
}
