{
  Parameters params=Parameters.init(args);
  if (params.tests.isEmpty() || params.obfDir == null) {
    println("Run router tests is console utility to test route calculation for osmand.");
    println("\nUsage for run tests : runTestsSuite [-routingXmlPath=PATH] [-verbose]  [-obfDir=PATH] [-testDir=PATH] {individualTestPath}");
    return;
  }
  List<File> files=new ArrayList<File>();
  for (  File f : params.obfDir.listFiles()) {
    if (f.getName().endsWith(".obf")) {
      files.add(f);
    }
  }
  BinaryMapIndexReader[] rs=new BinaryMapIndexReader[files.size()];
  int it=0;
  for (  File f : files) {
    RandomAccessFile raf=new RandomAccessFile(f,"r");
    rs[it++]=new BinaryMapIndexReader(raf,false);
  }
  boolean allSuccess=true;
  for (  File f : params.tests) {
    allSuccess&=test(new FileInputStream(f),rs,params.configBuilder);
  }
  if (allSuccess) {
    System.out.println("All is successfull");
  }
}
