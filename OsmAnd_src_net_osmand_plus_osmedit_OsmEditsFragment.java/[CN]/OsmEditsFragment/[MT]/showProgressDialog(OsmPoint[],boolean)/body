{
  ProgressDialog dialog=ProgressImplementation.createProgressDialog(getActivity(),getString(R.string.uploading),getString(R.string.local_openstreetmap_uploading),ProgressDialog.STYLE_HORIZONTAL).getDialog();
  OsmEditsUploadListener listener=new OsmEditsUploadListenerHelper(getActivity(),getString(R.string.local_openstreetmap_were_uploaded)){
    @Override public void uploadEnded(    Map<OsmPoint,String> loadErrorsMap){
      super.uploadEnded(loadErrorsMap);
      for (      OsmPoint osmPoint : loadErrorsMap.keySet()) {
        if (loadErrorsMap.get(osmPoint) == null) {
          listAdapter.remove(osmPoint);
        }
      }
      listAdapter.notifyDataSetChanged();
    }
  }
;
  UploadOpenstreetmapPointAsyncTask uploadTask=new UploadOpenstreetmapPointAsyncTask(dialog,listener,plugin,points.length,closeChangeSet);
  uploadTask.execute(points);
  dialog.show();
}
