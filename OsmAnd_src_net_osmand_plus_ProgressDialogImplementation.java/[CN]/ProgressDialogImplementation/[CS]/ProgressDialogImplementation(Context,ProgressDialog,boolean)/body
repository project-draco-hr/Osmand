{
  this.cancelable=cancelable;
  context=ctx;
  setDialog(dlg);
  mViewUpdateHandler=new Handler(){
    @Override public void handleMessage(    Message msg){
      super.handleMessage(msg);
      if (dialog != null) {
        dialog.setMessage(message);
        if (isIndeterminate()) {
          dialog.setMax(0);
          dialog.setIndeterminate(true);
        }
 else {
          dialog.setIndeterminate(false);
          dialog.setMax(work);
        }
        dialog.show();
      }
    }
  }
;
}
