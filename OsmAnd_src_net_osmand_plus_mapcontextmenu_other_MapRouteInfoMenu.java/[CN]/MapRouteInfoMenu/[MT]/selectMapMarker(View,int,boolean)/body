{
  if (index != -1) {
    MapMarker m=mapActivity.getMyApplication().getMapMarkersHelper().getActiveMapMarkers().get(index);
    LatLon point=new LatLon(m.getLatitude(),m.getLongitude());
    if (target) {
      getTargets().navigateToPoint(point,true,-1,m.getPointDescription(mapActivity));
    }
 else {
      getTargets().setStartPoint(point,true,m.getPointDescription(mapActivity));
    }
    updateFromIcon();
  }
 else {
    OnItemClickListener click=new OnItemClickListener(){
      @Override public void onItemClick(      AdapterView<?> parent,      View view,      int position,      long id){
        selectMapMarker(parentView,position,target);
      }
    }
;
    OnDismissListener dismissListener=new DialogInterface.OnDismissListener(){
      @Override public void onDismiss(      DialogInterface dialog){
        if (target) {
          setupToSpinner(parentView);
        }
 else {
          setupFromSpinner(parentView);
        }
      }
    }
;
    MapMarkerSelectionFragment selectionFragment=MapMarkerSelectionFragment.newInstance();
    selectionFragment.setClickListener(click);
    selectionFragment.setDismissListener(dismissListener);
    selectionFragment.show(mapActivity.getSupportFragmentManager(),MapMarkerSelectionFragment.TAG);
  }
}
