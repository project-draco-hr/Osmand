{
  super.onResume();
  if (searchNearBy) {
    location=null;
    amenityAdapter.notifyDataSetChanged();
    searchPOILevel.setEnabled(false);
  }
 else {
    setLocation(location);
  }
  if (searchNearBy && location == null) {
    searchPOILevel.setText(R.string.search_poi_location);
  }
 else   if (isNameFinderFilter()) {
    searchPOILevel.setText(R.string.search_button);
  }
 else {
    searchPOILevel.setText(R.string.search_POI_level_btn);
  }
  if (searchNearBy) {
    LocationManager service=(LocationManager)getSystemService(LOCATION_SERVICE);
    service.requestLocationUpdates(LocationManager.GPS_PROVIDER,GPS_TIMEOUT_REQUEST,GPS_DIST_REQUEST,gpsListener);
    currentLocationProvider=LocationManager.GPS_PROVIDER;
    if (!isRunningOnEmulator()) {
      service.requestLocationUpdates(LocationManager.NETWORK_PROVIDER,GPS_TIMEOUT_REQUEST,GPS_DIST_REQUEST,networkListener);
      currentLocationProvider=LocationManager.NETWORK_PROVIDER;
    }
  }
}
