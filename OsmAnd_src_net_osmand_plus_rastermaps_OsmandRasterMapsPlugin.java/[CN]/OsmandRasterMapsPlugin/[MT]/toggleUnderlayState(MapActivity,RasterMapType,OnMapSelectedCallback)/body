{
  OsmandMapTileView mapView=mapActivity.getMapView();
  CommonPreference<String> mapTypePreference;
  CommonPreference<String> exMapTypePreference;
  ITileSource map;
  if (type == RasterMapType.OVERLAY) {
    mapTypePreference=settings.MAP_OVERLAY;
    exMapTypePreference=settings.MAP_OVERLAY_PREVIOUS;
    map=overlayLayer.getMap();
  }
 else {
    mapTypePreference=settings.MAP_UNDERLAY;
    exMapTypePreference=settings.MAP_UNDERLAY_PREVIOUS;
    map=underlayLayer.getMap();
  }
  if (map != null) {
    mapTypePreference.set(null);
    if (callback != null) {
      callback.onMapSelected();
    }
    MapActivityLayers mapLayers=mapActivity.getMapLayers();
    updateMapLayers(mapView,null,mapLayers);
  }
 else {
    selectMapOverlayLayer(mapView,mapTypePreference,exMapTypePreference,false,mapActivity,callback);
  }
}
