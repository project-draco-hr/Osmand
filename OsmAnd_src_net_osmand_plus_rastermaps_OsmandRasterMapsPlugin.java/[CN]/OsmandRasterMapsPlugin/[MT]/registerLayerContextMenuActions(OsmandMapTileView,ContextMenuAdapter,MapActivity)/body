{
  final MapActivityLayers layers=mapActivity.getMapLayers();
  ContextMenuAdapter.ItemClickListener listener=new ItemClickListener(){
    @Override public boolean onContextMenuClick(    ArrayAdapter<ContextMenuItem> adapter,    int itemId,    int pos,    boolean isChecked){
      OsmandSettings settings=mapActivity.getMyApplication().getSettings();
      if (itemId == R.string.layer_map) {
        layers.selectMapLayer(mapView);
      }
 else       if (itemId == R.string.layer_overlay) {
        mapActivity.getDashboard().setDashboardVisibility(true,DashboardType.OVERLAY_MAP);
        return false;
      }
 else       if (itemId == R.string.layer_underlay) {
        mapActivity.getDashboard().setDashboardVisibility(true,DashboardType.UNDERLAY_MAP);
        return false;
      }
      return true;
    }
  }
;
  String overlayMapDescr=settings.MAP_OVERLAY.get();
  overlayMapDescr=overlayMapDescr != null ? overlayMapDescr : mapActivity.getString(R.string.shared_string_none);
  adapter.addItem(new ContextMenuItem.ItemBuilder().setTitleId(R.string.layer_overlay,mapActivity).setLayout(R.layout.drawer_list_doubleitem).setDescription(overlayMapDescr).setIcon(R.drawable.ic_layer_top_dark).setListener(listener).setPosition(14).createItem());
  String underlayMapDescr=settings.MAP_UNDERLAY.get();
  underlayMapDescr=underlayMapDescr != null ? underlayMapDescr : mapActivity.getString(R.string.shared_string_none);
  adapter.addItem(new ContextMenuItem.ItemBuilder().setTitleId(R.string.layer_underlay,mapActivity).setLayout(R.layout.drawer_list_doubleitem).setDescription(underlayMapDescr).setIcon(R.drawable.ic_layer_bottom_dark).setListener(listener).setPosition(15).createItem());
}
