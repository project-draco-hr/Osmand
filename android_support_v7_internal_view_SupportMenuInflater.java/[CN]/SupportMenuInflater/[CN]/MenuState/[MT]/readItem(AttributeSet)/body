{
  TypedArray a=mContext.obtainStyledAttributes(attrs,R.styleable.MenuItem);
  itemId=a.getResourceId(R.styleable.MenuItem_android_id,defaultItemId);
  final int category=a.getInt(R.styleable.MenuItem_android_menuCategory,groupCategory);
  final int order=a.getInt(R.styleable.MenuItem_android_orderInCategory,groupOrder);
  itemCategoryOrder=(category & SupportMenu.CATEGORY_MASK) | (order & SupportMenu.USER_MASK);
  itemTitle=a.getText(R.styleable.MenuItem_android_title);
  itemTitleCondensed=a.getText(R.styleable.MenuItem_android_titleCondensed);
  itemIconResId=a.getResourceId(R.styleable.MenuItem_android_icon,0);
  itemAlphabeticShortcut=getShortcut(a.getString(R.styleable.MenuItem_android_alphabeticShortcut));
  itemNumericShortcut=getShortcut(a.getString(R.styleable.MenuItem_android_numericShortcut));
  if (a.hasValue(R.styleable.MenuItem_android_checkable)) {
    itemCheckable=a.getBoolean(R.styleable.MenuItem_android_checkable,false) ? 1 : 0;
  }
 else {
    itemCheckable=groupCheckable;
  }
  itemChecked=a.getBoolean(R.styleable.MenuItem_android_checked,defaultItemChecked);
  itemVisible=a.getBoolean(R.styleable.MenuItem_android_visible,groupVisible);
  itemEnabled=a.getBoolean(R.styleable.MenuItem_android_enabled,groupEnabled);
  itemShowAsAction=a.getInt(R.styleable.MenuItem_showAsAction,-1);
  itemListenerMethodName=a.getString(R.styleable.MenuItem_android_onClick);
  itemActionViewLayout=a.getResourceId(R.styleable.MenuItem_actionLayout,0);
  itemActionViewClassName=a.getString(R.styleable.MenuItem_actionViewClass);
  itemActionProviderClassName=a.getString(R.styleable.MenuItem_actionProviderClass);
  final boolean hasActionProvider=itemActionProviderClassName != null;
  if (hasActionProvider && itemActionViewLayout == 0 && itemActionViewClassName == null) {
    itemActionProvider=newInstance(itemActionProviderClassName,ACTION_PROVIDER_CONSTRUCTOR_SIGNATURE,mActionProviderConstructorArguments);
  }
 else {
    if (hasActionProvider) {
      Log.w(LOG_TAG,"Ignoring attribute 'actionProviderClass'." + " Action view already specified.");
    }
    itemActionProvider=null;
  }
  a.recycle();
  itemAdded=false;
}
