{
  if (dialog != null) {
    hideDialog();
  }
 else {
    dialog=showDialog(controlsLayer,mapActivity,createLayout(),new OnDismissListener(){
      @Override public void onDismiss(      DialogInterface d){
        dialog=null;
      }
    }
);
  }
}
