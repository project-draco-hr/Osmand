{
  settingsAppModeButton=addImageButton(parent,R.string.route_preferences,R.drawable.map_btn_plain);
  cachedId=0;
  settingsAppModeButton.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      notifyClicked();
      if (dialog != null) {
        dialog.hide();
        dialog=null;
        settingsAppModeButton.setBackgroundResource(R.drawable.map_btn_plain);
      }
 else {
        dialog=showDialog();
        dialog.show();
        settingsAppModeButton.setBackgroundResource(R.drawable.map_btn_plain_p);
        dialog.setOnDismissListener(new OnDismissListener(){
          @Override public void onDismiss(          DialogInterface dlg){
            settingsAppModeButton.setBackgroundResource(R.drawable.map_btn_plain);
            dialog=null;
          }
        }
);
      }
    }
  }
);
}
