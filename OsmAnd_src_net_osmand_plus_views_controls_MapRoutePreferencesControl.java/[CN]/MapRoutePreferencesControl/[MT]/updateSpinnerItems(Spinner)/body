{
  ArrayList<String> gpxActions=new ArrayList<String>();
  gpxActions.add(mapActivity.getString(R.string.shared_string_none));
  gpxActions.add(mapActivity.getString(R.string.select_gpx));
  GPXRouteParamsBuilder rp=mapActivity.getRoutingHelper().getCurrentGPXRoute();
  if (rp != null) {
    gpxActions.add(new File(rp.getFile().path).getName());
  }
  ArrayAdapter<String> gpxAdapter=new ArrayAdapter<String>(mapActivity,android.R.layout.simple_spinner_item,gpxActions);
  gpxAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
  gpxSpinner.setAdapter(gpxAdapter);
  if (rp != null) {
    gpxSpinner.setSelection(2);
  }
 else {
    gpxSpinner.setSelection(0);
  }
  gpxSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener(){
    @Override public void onItemSelected(    AdapterView<?> parent,    View view,    int position,    long id){
      if (position == 0) {
        if (mapActivity.getRoutingHelper().getCurrentGPXRoute() != null) {
          mapActivity.getRoutingHelper().setGpxParams(null);
          settings.FOLLOW_THE_GPX_ROUTE.set(null);
          mapActivity.getRoutingHelper().recalculateRouteDueToSettingsChange();
        }
        updateParameters();
      }
 else       if (position == 1) {
        openGPXFileSelection(gpxSpinner);
      }
 else       if (position == 2) {
      }
    }
    @Override public void onNothingSelected(    AdapterView<?> parent){
    }
  }
);
}
