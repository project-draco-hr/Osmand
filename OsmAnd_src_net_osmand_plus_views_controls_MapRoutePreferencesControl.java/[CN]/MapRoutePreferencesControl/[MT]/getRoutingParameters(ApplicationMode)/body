{
  List<LocalRoutingParameter> list=new ArrayList<LocalRoutingParameter>();
  GeneralRouter rm=SettingsNavigationActivity.getRouter(mapActivity.getMyApplication().getDefaultRoutingConfig(),am);
  GPXRouteParamsBuilder rparams=mapActivity.getRoutingHelper().getCurrentGPXRoute();
  if (rparams != null) {
    list.add(new GPXLocalRoutingParameter(R.string.gpx_option_reverse_route,getString(R.string.gpx_option_reverse_route),rparams.isReverse()));
    list.add(new GPXLocalRoutingParameter(R.string.gpx_option_from_start_point,getString(R.string.gpx_option_from_start_point),rparams.isPassWholeRoute()));
    list.add(new GPXLocalRoutingParameter(R.string.gpx_option_calculate_first_last_segment,getString(R.string.gpx_option_calculate_first_last_segment),rparams.isCalculateOsmAndRouteParts()));
    list.add(new GPXLocalRoutingParameter(R.string.announce_gpx_waypoints,getString(R.string.announce_gpx_waypoints),rparams.isAnnounceWaypoints()));
  }
  if (rm == null || (rparams != null && !rparams.isCalculateOsmAndRoute())) {
    return list;
  }
  for (  RoutingParameter r : rm.getParameters().values()) {
    if (r.getType() == RoutingParameterType.BOOLEAN) {
      LocalRoutingParameter rp=new LocalRoutingParameter();
      rp.routingParameter=r;
      list.add(rp);
    }
  }
  return list;
}
