{
  final View view=inflater.inflate(R.layout.maps_in_category_fragment,container,false);
  if (savedInstanceState != null) {
    searchText=savedInstanceState.getString(SEARCH_TEXT_DLG_KEY);
  }
  if (searchText == null) {
    searchText=getArguments().getString(SEARCH_TEXT_DLG_KEY);
  }
  if (searchText == null)   searchText="";
  Toolbar toolbar=(Toolbar)view.findViewById(R.id.toolbar);
  toolbar.setNavigationIcon(getMyApplication().getIconsCache().getIcon(R.drawable.abc_ic_ab_back_mtrl_am_alpha));
  toolbar.setNavigationOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      dismiss();
    }
  }
);
  search=new SearchView(getActivity());
  RelativeLayout.LayoutParams params=new RelativeLayout.LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
  params.setMargins(0,0,0,0);
  search.setLayoutParams(params);
  toolbar.addView(search);
  search.setOnQueryTextFocusChangeListener(new View.OnFocusChangeListener(){
    @Override public void onFocusChange(    View v,    boolean hasFocus){
    }
  }
);
  search.setOnQueryTextListener(new SearchView.OnQueryTextListener(){
    @Override public boolean onQueryTextSubmit(    String query){
      return false;
    }
    @Override public boolean onQueryTextChange(    String newText){
      Fragment f=getChildFragmentManager().findFragmentByTag(SearchItemsFragment.TAG);
      if (f != null) {
        ((SearchItemsFragment)f).updateSearchText(newText);
        return true;
      }
      return false;
    }
  }
);
  Fragment fragment=getChildFragmentManager().findFragmentById(R.id.fragmentContainer);
  if (fragment == null) {
    getChildFragmentManager().beginTransaction().add(R.id.fragmentContainer,SearchItemsFragment.createInstance(searchText),SearchItemsFragment.TAG).commit();
  }
  getDownloadActivity().initFreeVersionBanner(view);
  return view;
}
