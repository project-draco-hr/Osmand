{
  super.onCreate(icicle);
  settings=OsmandApplication.getSettings();
  setContentView(R.layout.search_transport);
  searchTransportLevel=(Button)findViewById(R.id.SearchTransportLevelButton);
  searchTransportLevel.setText(R.string.search_POI_level_btn);
  searchTransportLevel.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      if (!isRouteCalculated()) {
        if (isSearchFurtherAvailable()) {
          zoom--;
          searchTransport();
        }
      }
 else {
        intermediateListAdapater.clear();
        intermediateListAdapater.add(null);
        searchTransport();
      }
    }
  }
);
  searchArea=(TextView)findViewById(R.id.SearchAreaText);
  progress=(ProgressBar)findViewById(R.id.ProgressBar);
  progress.setVisibility(View.INVISIBLE);
  stopsAdapter=new TransportStopAdapter(new ArrayList<RouteInfoLocation>());
  setListAdapter(stopsAdapter);
  ListView intermediateList=(ListView)findViewById(R.id.listView);
  intermediateListAdapater=new TransportRouteAdapter(TransportRouteHelper.getInstance().getRoute());
  intermediateList.setAdapter(intermediateListAdapater);
  if (intermediateList.getCount() == 0) {
    intermediateListAdapater.add(null);
  }
}
