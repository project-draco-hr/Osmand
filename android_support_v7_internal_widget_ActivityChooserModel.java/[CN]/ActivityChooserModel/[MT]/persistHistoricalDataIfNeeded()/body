{
  if (!mReadShareHistoryCalled) {
    throw new IllegalStateException("No preceding call to #readHistoricalData");
  }
  if (!mHistoricalRecordsChanged) {
    return;
  }
  mHistoricalRecordsChanged=false;
  if (!TextUtils.isEmpty(mHistoryFileName)) {
    AsyncTaskCompat.executeParallel(new PersistHistoryAsyncTask(),mHistoricalRecords,mHistoryFileName);
  }
}
