{
  ((OsmandApplication)getApplication()).applyTheme(this);
  super.onCreate(savedInstanceState);
  getSherlock().setUiOptions(ActivityInfo.UIOPTION_SPLIT_ACTION_BAR_WHEN_NARROW);
  getSupportActionBar().setDisplayHomeAsUpEnabled(true);
  getSupportActionBar().setTitle("Sherpafy");
  if (!(getMyApplication().getAppCustomization() instanceof SherpafyCustomization)) {
    getMyApplication().setAppCustomization(new SherpafyCustomization());
  }
  customization=(SherpafyCustomization)getMyApplication().getAppCustomization();
  ProgressDialog startProgressDialog=new ProgressDialog(this);
  getMyApplication().checkApplicationIsBeingInitialized(this,startProgressDialog);
  if (startProgressDialog.isShowing()) {
    startProgressDialog.setOnDismissListener(new DialogInterface.OnDismissListener(){
      @Override public void onDismiss(      DialogInterface dialogInterface){
        onStartDialogClose();
      }
    }
);
  }
 else {
    onStartDialogClose();
  }
}
