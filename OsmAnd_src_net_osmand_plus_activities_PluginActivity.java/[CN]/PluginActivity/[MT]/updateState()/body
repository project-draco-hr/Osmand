{
  CompoundButton enableDisableButton=(CompoundButton)findViewById(R.id.plugin_enable_disable);
  Button getButton=(Button)findViewById(R.id.plugin_get);
  Button settingsButton=(Button)findViewById(R.id.plugin_settings);
  IconsCache ic=((OsmandApplication)getApplication()).getIconsCache();
  settingsButton.setCompoundDrawablesWithIntrinsicBounds(ic.getContentIcon(R.drawable.ic_action_settings),null,null,null);
  View installHeader=findViewById(R.id.plugin_install_header);
  if (plugin.needsInstallation()) {
    getButton.setVisibility(View.VISIBLE);
    enableDisableButton.setVisibility(View.GONE);
    settingsButton.setVisibility(View.GONE);
    installHeader.setVisibility(View.VISIBLE);
    ((ImageView)installHeader.findViewById(R.id.ic_world_globe)).setBackgroundDrawable(ic.getContentIcon(R.drawable.ic_world_globe_dark));
  }
 else {
    getButton.setVisibility(View.GONE);
    enableDisableButton.setVisibility(View.VISIBLE);
    enableDisableButton.setChecked(plugin.isActive());
    final Class<? extends Activity> settingsActivity=plugin.getSettingsActivity();
    if (settingsActivity == null || !plugin.isActive()) {
      settingsButton.setVisibility(View.GONE);
    }
 else {
      settingsButton.setVisibility(View.VISIBLE);
    }
    installHeader.setVisibility(View.GONE);
  }
}
