{
  CompoundButton enableDisableButton=(CompoundButton)findViewById(R.id.plugin_enable_disable);
  Button getButton=(Button)findViewById(R.id.plugin_get);
  Button settingsButton=(Button)findViewById(R.id.plugin_settings);
  View installHeader=findViewById(R.id.plugin_install_header);
  if (plugin.needsInstallation()) {
    getButton.setVisibility(View.VISIBLE);
    enableDisableButton.setVisibility(View.GONE);
    settingsButton.setVisibility(View.GONE);
    installHeader.setVisibility(View.VISIBLE);
  }
 else {
    getButton.setVisibility(View.GONE);
    enableDisableButton.setVisibility(View.VISIBLE);
    enableDisableButton.setChecked(plugin.isActive());
    final Class<? extends Activity> settingsActivity=plugin.getSettingsActivity();
    if (settingsActivity == null) {
      settingsButton.setVisibility(View.GONE);
    }
 else {
      settingsButton.setEnabled(plugin.isActive());
      settingsButton.setVisibility(View.VISIBLE);
    }
    installHeader.setVisibility(View.GONE);
  }
}
