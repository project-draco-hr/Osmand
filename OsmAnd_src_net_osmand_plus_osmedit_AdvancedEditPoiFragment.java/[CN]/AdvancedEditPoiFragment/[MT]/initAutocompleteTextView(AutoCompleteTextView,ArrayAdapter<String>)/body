{
  textView.setAdapter(adapter);
  textView.setThreshold(1);
  textView.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      AlertDialog.Builder builder=new AlertDialog.Builder(v.getContext());
      builder.setAdapter(adapter,new Dialog.OnClickListener(){
        @Override public void onClick(        DialogInterface dialog,        int which){
          textView.setText(adapter.getItem(which));
        }
      }
);
      builder.create().show();
    }
  }
);
  textView.setOnFocusChangeListener(new View.OnFocusChangeListener(){
    @Override public void onFocusChange(    View v,    boolean hasFocus){
      if (hasFocus) {
        adapter.getFilter().filter(textView.getText());
      }
    }
  }
);
}
