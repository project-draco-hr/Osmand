{
  final Node<K,V> node=data.remove(key);
  if (node == null) {
    return null;
  }
  makeRetired(node);
  afterWrite(new RemovalTask(node));
  return node.getValue();
}
