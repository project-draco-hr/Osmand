{
  final long pending=(writeCount - readBufferDrainAtWriteCount[bufferIndex].get());
  final boolean delayable=(pending < READ_BUFFER_THRESHOLD);
  final DrainStatus status=drainStatus.get();
  if (status.shouldDrainBuffers(delayable)) {
    tryToDrainBuffers();
  }
}
