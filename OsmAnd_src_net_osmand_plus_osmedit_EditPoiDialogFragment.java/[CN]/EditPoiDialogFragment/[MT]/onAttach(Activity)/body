{
  super.onAttach(activity);
  OsmandSettings settings=getMyApplication().getSettings();
  OsmEditingPlugin plugin=OsmandPlugin.getPlugin(OsmEditingPlugin.class);
  if (settings.OFFLINE_EDITION.get() || !settings.isInternetConnectionAvailable(true)) {
    mOpenstreetmapUtil=new OpenstreetmapLocalUtil(plugin,activity);
  }
 else {
    mOpenstreetmapUtil=new OpenstreetmapRemoteUtil(activity);
  }
  Node node=(Node)getArguments().getSerializable(KEY_AMENITY_NODE);
  editPoiData=new EditPoiData(node,getMyApplication());
}
