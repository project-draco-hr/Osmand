{
  this.activity=activity;
  OsmandSettings settings=((OsmandApplication)activity.getApplication()).getSettings();
  OsmEditingPlugin plugin=OsmandPlugin.getPlugin(OsmEditingPlugin.class);
  if (settings.OFFLINE_EDITION.get() || !settings.isInternetConnectionAvailable(true)) {
    openstreetmapUtil=new OpenstreetmapLocalUtil(plugin,activity);
  }
 else   if (!settings.isInternetConnectionAvailable(true)) {
    openstreetmapUtil=new OpenstreetmapLocalUtil(plugin,activity);
  }
 else {
    openstreetmapUtil=new OpenstreetmapRemoteUtil(activity);
  }
}
