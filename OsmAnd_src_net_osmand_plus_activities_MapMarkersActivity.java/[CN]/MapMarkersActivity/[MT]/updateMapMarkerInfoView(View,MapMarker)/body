{
  OsmandApplication app=getMyApplication();
  TextView text=(TextView)localView.findViewById(R.id.waypoint_text);
  AndroidUtils.setTextPrimaryColor(this,text,nightMode);
  TextView textShadow=(TextView)localView.findViewById(R.id.waypoint_text_shadow);
  TextView textDist=(TextView)localView.findViewById(R.id.waypoint_dist);
  ((ImageView)localView.findViewById(R.id.waypoint_icon)).setImageDrawable(getMapMarkerIcon(app,marker.colorIndex));
  LatLon lastKnownMapLocation=app.getSettings().getLastKnownMapLocation();
  int dist=(int)(MapUtils.getDistance(marker.getLatitude(),marker.getLongitude(),lastKnownMapLocation.getLatitude(),lastKnownMapLocation.getLongitude()));
  textDist.setText(OsmAndFormatter.getFormattedDistance(dist,app));
  localView.findViewById(R.id.waypoint_deviation).setVisibility(View.GONE);
  String descr;
  PointDescription pd=marker.getPointDescription(app);
  if (Algorithms.isEmpty(pd.getName())) {
    descr=pd.getTypeName();
  }
 else {
    descr=pd.getName();
  }
  if (textShadow != null) {
    textShadow.setText(descr);
  }
  text.setText(descr);
  localView.findViewById(R.id.waypoint_desc_text).setVisibility(View.GONE);
}
