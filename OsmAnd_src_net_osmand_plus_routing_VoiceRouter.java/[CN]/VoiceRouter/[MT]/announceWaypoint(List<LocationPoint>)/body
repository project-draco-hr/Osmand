{
  CommandBuilder p=getNewCommandPlayerToPlay();
  if (p == null) {
    return;
  }
  String favoritesWaypoints=null;
  String gpxWaypoints=null;
  String poiWaypoints=null;
  for (  LocationPoint point : points) {
    if (point instanceof GPXUtilities.WptPt) {
      gpxWaypoints=(favoritesWaypoints == null ? "" : ", ") + point.getName();
    }
 else     if (point instanceof FavouritePoint) {
      favoritesWaypoints=(favoritesWaypoints == null ? "" : ", ") + point.getName();
    }
 else {
      poiWaypoints=(favoritesWaypoints == null ? "" : ", ") + point.getName();
    }
  }
  if (gpxWaypoints != null) {
    p.arrivedAtWayPoint(gpxWaypoints).play();
  }
  if (favoritesWaypoints != null) {
    p.arrivedAtFavorite(favoritesWaypoints).play();
  }
  if (poiWaypoints != null) {
    p.arrivedAtPoi(poiWaypoints).play();
  }
}
