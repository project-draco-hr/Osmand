{
  if (alarm == null) {
    return;
  }
  long ms=System.currentTimeMillis();
  if (alarm.getTime() == AlarmInfo.SPEED_LIMIT) {
    if (router.getSettings().SPEAK_SPEED_LIMIT.get() && ms - lastAnnouncedSpeedLimit > 120 * 60 * 1000) {
      CommandBuilder p=getNewCommandPlayerToPlay();
      if (p != null) {
        lastAnnouncedSpeedLimit=ms;
        p.speedAlarm().play();
      }
    }
  }
 else   if (alarm.getTime() == AlarmInfo.SPEED_CAMERA) {
    if (router.getSettings().SPEAK_SPEED_CAMERA.get() && ms - lastAnnouncedSpeedCamera > 120 * 60 * 1000) {
      CommandBuilder p=getNewCommandPlayerToPlay();
      if (p != null) {
        lastAnnouncedSpeedCamera=ms;
        p.speedAlarm().play();
      }
    }
  }
 else {
    if (router.getSettings().SPEAK_TRAFFIC_WARNINGS.get() && ms - lastAnnouncedWarning > 120 * 60 * 1000) {
      CommandBuilder p=getNewCommandPlayerToPlay();
      if (p != null) {
        lastAnnouncedWarning=ms;
        p.speedAlarm().play();
      }
    }
  }
}
