{
  double tileNumberX=Math.floor(MapUtils.getTileNumberX(zoom,longitude));
  double tileNumberY=Math.floor(MapUtils.getTileNumberY(zoom,latitude));
  double topLatitude=MapUtils.getLatitudeFromTile(zoom,tileNumberY);
  double bottomLatitude=MapUtils.getLatitudeFromTile(zoom,tileNumberY + 1);
  double leftLongitude=MapUtils.getLongitudeFromTile(zoom,tileNumberX);
  double rightLongitude=MapUtils.getLongitudeFromTile(zoom,tileNumberX + 1);
  List<Amenity> amenities=new ArrayList<Amenity>();
  for (  AmenityIndexRepository index : amenityRepositories) {
    if (index.checkContains(topLatitude,leftLongitude,bottomLatitude,rightLongitude)) {
      if (!index.checkCachedAmenities(topLatitude,leftLongitude,bottomLatitude,rightLongitude,amenities)) {
        index.searchAmenities(topLatitude,leftLongitude,bottomLatitude,rightLongitude,limit,type,amenities);
      }
    }
  }
  return amenities;
}
