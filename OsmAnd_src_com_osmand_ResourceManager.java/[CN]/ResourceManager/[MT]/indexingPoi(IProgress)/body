{
  if (poiIndex == null) {
    poiIndex=new DataTileManager<Amenity>();
    indexingFiles(POI_PATH,".osmand",progress,"POI",new IndexVisitor(){
      @Override public boolean visitEntry(      String entryName,      InputStream stream) throws IOException, SAXException {
        OsmIndexStorage storage=new OsmIndexStorage(new Region());
        storage.parseOSM(stream,progress);
        Region region=((OsmIndexStorage)storage).getRegion();
        for (        Amenity a : region.getAmenityManager().getAllObjects()) {
          LatLon location=a.getLocation();
          poiIndex.registerObject(location.getLatitude(),location.getLongitude(),a);
        }
        return true;
      }
    }
);
    File file=new File(Environment.getExternalStorageDirectory(),POI_PATH);
    if (file.exists() && file.canRead()) {
      for (      File f : file.listFiles()) {
        if (f.getName().endsWith(".db")) {
          progress.startTask("Indexing poi " + f.getName(),-1);
          amenityRepository.initialize(progress,f);
        }
      }
    }
  }
}
