{
  super.onAttachedToWindow();
  LatLon latLon=OsmandSettings.getAndClearMapLocationToShow(settings);
  LatLon cur=new LatLon(mapView.getLatitude(),mapView.getLongitude());
  if (latLon != null && !latLon.equals(cur)) {
    mapView.getAnimatedDraggingThread().startMoving(cur.getLatitude(),cur.getLongitude(),latLon.getLatitude(),latLon.getLongitude(),mapView.getZoom(),OsmandSettings.getMapZoomToShow(settings),mapView.getSourceTileSize(),mapView.getRotate(),true);
  }
}
