{
  if (mapView.getMap() instanceof SQLiteTileSource) {
    ((SQLiteTileSource)mapView.getMap()).closeDB();
  }
  ((OsmandApplication)getApplication()).getResourceManager().setMapSource(newSource);
  mapView.setMap(newSource);
}
