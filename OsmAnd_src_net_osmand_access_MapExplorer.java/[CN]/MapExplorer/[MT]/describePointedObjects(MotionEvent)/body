{
  PointF point=new PointF(event.getX(),event.getY());
  List<Object> newSelections=new ArrayList<Object>();
  for (  OsmandMapLayer layer : mapView.getLayers())   if (layer instanceof IContextMenuProvider) {
    ((IContextMenuProvider)layer).collectObjectsFromPoint(point,newSelections);
    if (!newSelections.isEmpty()) {
      contextProvider=(IContextMenuProvider)layer;
      break;
    }
  }
  if (newSelections.isEmpty()) {
    collectObjectsFromPoint(point,newSelections);
    contextProvider=this;
  }
  if (different(newSelections,selectedObjects)) {
    ContextMenuLayer contextMenuLayer=mapView.getLayerByClass(ContextMenuLayer.class);
    if (contextMenuLayer != null) {
      contextMenuLayer.setSelections(newSelections,contextProvider);
      if (!newSelections.isEmpty())       mapView.showMessage(mapView.getSettings().USE_SHORT_OBJECT_NAMES.get() ? contextMenuLayer.getSelectedObjectName() : contextMenuLayer.getSelectedObjectDescription());
    }
    selectedObjects=newSelections;
  }
}
