{
  final PoiFilter filter=((AmenityAdapter)getListAdapter()).getItem(position);
  if (filter.getFilterId().equals(PoiFilter.CUSTOM_FILTER_ID)) {
    showEditActivity(filter);
    return;
  }
  final Intent newIntent=new Intent(SearchPoiFilterActivity.this,SearchPOIActivity.class);
  newIntent.putExtra(SearchPOIActivity.AMENITY_FILTER,filter.getFilterId());
  if (searchNearBy) {
    AlertDialog.Builder b=new AlertDialog.Builder(this);
    b.setItems(new String[]{getString(R.string.search_nearby),getString(R.string.search_near_map)},new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
        if (which == 1) {
          newIntent.putExtra(SearchPOIActivity.SEARCH_LAT,latitude);
          newIntent.putExtra(SearchPOIActivity.SEARCH_LON,longitude);
        }
        startActivityForResult(newIntent,0);
      }
    }
);
    b.show();
  }
 else {
    newIntent.putExtra(SearchPOIActivity.SEARCH_LAT,latitude);
    newIntent.putExtra(SearchPOIActivity.SEARCH_LON,longitude);
    startActivityForResult(newIntent,0);
  }
}
