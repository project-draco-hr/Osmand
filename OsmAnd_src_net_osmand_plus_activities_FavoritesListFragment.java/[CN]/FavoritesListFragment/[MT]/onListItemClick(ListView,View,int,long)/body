{
  if (!isSelectFavoriteMode()) {
    FavouritePoint point=favouritesAdapter.getItem(position);
    String name=getString(R.string.favorite) + ": " + point.getName();
    LatLon location=new LatLon(point.getLatitude(),point.getLongitude());
    final PopupMenu optionsMenu=new PopupMenu(getActivity(),v);
    DirectionsDialogs.createDirectionActionsPopUpMenu(optionsMenu,location,point,name,settings.getLastKnownMapZoom(),getActivity(),true,false);
    optionsMenu.show();
  }
 else {
    Intent intent=getActivity().getIntent();
    intent.putExtra(SELECT_FAVORITE_POINT_INTENT_KEY,favouritesAdapter.getItem(position));
    getActivity().setResult(SELECT_FAVORITE_POINT_RESULT_OK,intent);
    getActivity().finish();
  }
}
