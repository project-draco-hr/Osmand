{
  if ("http".equalsIgnoreCase(data.getScheme()) && "maps.google.com".equals(data.getHost())) {
    String q=data.getQueryParameter("q");
    if (q.indexOf(',') != -1) {
      int i=q.indexOf(',');
      String lat=q.substring(0,i);
      String lon=q.substring(i + 1);
      try {
        double llat=Double.parseDouble(lat.trim());
        double llon=Double.parseDouble(lon.trim());
        return new GeoPointSearch(llat,llon);
      }
 catch (      NumberFormatException e) {
        showErrorMessage(q);
      }
    }
 else {
      showErrorMessage(q);
    }
  }
 else   if (data.getSchemeSpecificPart().indexOf("0,0?") != -1) {
    return new GeoAddressSearch(data.getQuery());
  }
 else {
    String geo=data.getSchemeSpecificPart();
    if (geo == null) {
      showErrorMessage("");
    }
 else {
      int latIndex=geo.indexOf(',');
      int lonIndex=geo.indexOf('?');
      lonIndex=lonIndex > 0 ? lonIndex : geo.length();
      if (latIndex > 0) {
        try {
          double lat=Double.parseDouble(geo.substring(0,latIndex).trim());
          double lon=Double.parseDouble(geo.substring(latIndex + 1,lonIndex).trim());
          return new GeoPointSearch(lat,lon);
        }
 catch (        NumberFormatException e) {
          showErrorMessage(geo);
        }
      }
 else {
        showErrorMessage(geo);
      }
    }
  }
  return new Empty();
}
