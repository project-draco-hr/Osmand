{
  if ("http".equalsIgnoreCase(data.getScheme()) && "maps.google.com".equals(data.getHost())) {
    String q=null;
    String parameter=data.getQueryParameter("q");
    if (parameter == null) {
      parameter=data.getQueryParameter("daddr");
    }
    if (parameter != null) {
      q=parameter.split(" ")[0];
    }
    if (q.indexOf(',') != -1) {
      int i=q.indexOf(',');
      String lat=q.substring(0,i);
      String lon=q.substring(i + 1);
      if (lat.indexOf(':') != -1) {
        i=lat.indexOf(':');
        lat=lat.substring(i + 1);
      }
      try {
        double llat=Double.parseDouble(lat.trim());
        double llon=Double.parseDouble(lon.trim());
        return new GeoPointSearch(llat,llon);
      }
 catch (      NumberFormatException e) {
        showErrorMessage(q);
      }
    }
 else {
      showErrorMessage(q);
    }
  }
 else   if (data.getSchemeSpecificPart().indexOf("0,0?") != -1) {
    return new GeoAddressSearch(data.getQuery());
  }
 else {
    String geo=data.getSchemeSpecificPart();
    if (geo == null) {
      showErrorMessage("");
    }
 else {
      int latIndex=geo.indexOf(',');
      if (latIndex > 0) {
        int lonIndex=geo.indexOf(',',latIndex + 1);
        int altIndex=geo.indexOf(';',latIndex + 1);
        int paramIndex=geo.indexOf('?',latIndex + 1);
        paramIndex=paramIndex > 0 ? paramIndex : geo.length();
        altIndex=altIndex > 0 && altIndex < paramIndex ? altIndex : paramIndex;
        lonIndex=lonIndex > 0 && lonIndex < altIndex ? lonIndex : altIndex;
        try {
          double lat=Double.parseDouble(geo.substring(0,latIndex).trim());
          double lon=Double.parseDouble(geo.substring(latIndex + 1,lonIndex).trim());
          return new GeoPointSearch(lat,lon);
        }
 catch (        NumberFormatException e) {
          showErrorMessage(geo);
        }
      }
 else {
        showErrorMessage(geo);
      }
    }
  }
  return new Empty();
}
