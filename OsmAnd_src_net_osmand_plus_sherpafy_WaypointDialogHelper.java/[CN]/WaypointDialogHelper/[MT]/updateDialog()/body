{
  List<LocationPoint> vlp=targetPointsHelper.getVisibleLocationPoints();
  long locationPointsModified=targetPointsHelper.getLocationPointsModified();
  if (locationPointsModified != uiModified) {
    uiModified=locationPointsModified;
    if (vlp.isEmpty()) {
      removeDialog();
    }
 else {
      final LocationPoint point=vlp.get(0);
      boolean created=false;
      if (closePointDialog == null) {
        created=true;
        final LayoutInflater vi=(LayoutInflater)app.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        closePointDialog=vi.inflate(R.layout.waypoint_reached,null);
      }
      createView(closePointDialog,point);
      closePointDialog.setBackgroundColor(mapActivity.getResources().getColor(R.color.color_black));
      ((TextView)closePointDialog.findViewById(R.id.waypoint_text)).setTextColor(Color.WHITE);
      View all=closePointDialog.findViewById(R.id.all_points);
      all.setVisibility(vlp.size() <= 1 ? View.GONE : View.VISIBLE);
      all.setOnClickListener(new View.OnClickListener(){
        @Override public void onClick(        View view){
          showAllDialog();
        }
      }
);
      View btnN=closePointDialog.findViewById(R.id.info_close);
      btnN.setOnClickListener(new View.OnClickListener(){
        @Override public void onClick(        View view){
          targetPointsHelper.removeVisibleLocationPoint(point);
          updateDialog();
        }
      }
);
      if (created) {
        mainLayout.addView(closePointDialog,getDialogLayoutParams());
        waitBeforeLayoutIsResized(closePointDialog);
      }
    }
  }
}
