{
  if (mapActivity == null) {
    mapActivity=app.mapActivity;
    if (mapActivity != null) {
      mainLayout=(FrameLayout)((FrameLayout)mapActivity.getLayout()).getChildAt(0);
    }
 else {
      return;
    }
  }
  FrameLayout.LayoutParams params=new FrameLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT,FrameLayout.LayoutParams.WRAP_CONTENT);
  params.gravity=Gravity.BOTTOM | Gravity.CENTER_HORIZONTAL;
  final LayoutInflater vi=(LayoutInflater)app.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  View reachedView=vi.inflate(R.layout.waypoint_reached,null);
  TextView text=(TextView)reachedView.findViewById(R.id.waypoint_text);
  text.setText(point != null ? point.name : "Point");
  text.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View view){
      final Intent favorites=new Intent(mapActivity,app.getAppCustomization().getFavoritesActivity());
      favorites.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);
      mapActivity.startActivity(favorites);
      removeDialog(view);
    }
  }
);
  Button btnN=(Button)reachedView.findViewById(R.id.info_close);
  btnN.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View view){
      removeDialog(view);
    }
  }
);
  if (reachedView != null && mainLayout != null) {
    mainLayout.addView(reachedView,params);
    waitBeforeLayoutIsResized(reachedView);
  }
}
