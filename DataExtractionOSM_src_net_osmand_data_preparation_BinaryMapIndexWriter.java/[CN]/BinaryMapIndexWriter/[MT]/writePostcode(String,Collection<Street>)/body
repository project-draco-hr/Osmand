{
  checkPeekState(POSTCODES_INDEX_INIT);
  if (streets.isEmpty()) {
    return;
  }
  postcode=postcode.toUpperCase();
  LatLon loc=streets.iterator().next().getLocation();
  PostcodeIndex.Builder post=OsmandOdb.PostcodeIndex.newBuilder();
  post.setPostcode(postcode);
  int cx=MapUtils.get31TileNumberX(loc.getLongitude());
  int cy=MapUtils.get31TileNumberY(loc.getLatitude());
  post.setX(cx);
  post.setY(cy);
  for (  Street s : streets) {
    StreetIndex streetInd=createStreetAndBuildings(s,cx,cy,postcode);
    post.addStreets(streetInd);
  }
  codedOutStream.writeMessage(OsmandOdb.PostcodesIndex.POSTCODES_FIELD_NUMBER,post.build());
}
