{
  LayoutInflater inflater=getActivity().getLayoutInflater();
  View row=convertView;
  if (row == null) {
    row=inflater.inflate(R.layout.note,parent,false);
  }
  final AudioVideoNotesPlugin.Recording recording=getItem(position);
  String name=recording.getName();
  TextView nameText=((TextView)row.findViewById(R.id.name));
  if (name != null) {
    nameText.setText(name);
  }
 else   if (recording.isAudio()) {
    nameText.setText(R.string.audio);
  }
 else   if (recording.isVideo()) {
    nameText.setText(R.string.video);
  }
 else   if (recording.isPhoto()) {
    nameText.setText(R.string.photo);
  }
  ((TextView)row.findViewById(R.id.descr)).setText(recording.getDescription(getActivity()));
  ImageView icon=(ImageView)row.findViewById(R.id.icon);
  if (recording.isAudio()) {
    icon.setImageResource(R.drawable.ic_type_audio);
  }
 else   if (recording.isVideo()) {
    icon.setImageResource(R.drawable.ic_type_video);
  }
 else {
    icon.setImageResource(R.drawable.ic_type_img);
  }
  ImageButton options=(ImageButton)row.findViewById(R.id.options);
  options.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      openPopUpMenu(v,recording);
    }
  }
);
  row.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      showOnMap(recording);
    }
  }
);
  return row;
}
