{
  rightTitleButtonController.visible=true;
  if (!recording.isPhoto()) {
    if (plugin.isPlaying(recording)) {
      leftTitleButtonController.caption=getMapActivity().getString(R.string.shared_string_control_stop);
      leftTitleButtonController.leftIconId=R.drawable.ic_action_rec_stop;
      int pos=plugin.getPlayingPosition();
      String durationStr;
      if (pos == -1) {
        durationStr=recording.getPlainDuration();
      }
 else {
        durationStr=Algorithms.formatDuration(pos / 1000);
      }
      leftTitleButtonController.needRightText=true;
      leftTitleButtonController.rightTextCaption="??? " + durationStr;
      rightTitleButtonController.visible=false;
    }
 else {
      leftTitleButtonController.caption=getMapActivity().getString(R.string.recording_context_menu_play);
      leftTitleButtonController.leftIconId=R.drawable.ic_play_dark;
      String durationStr=recording.getPlainDuration();
      leftTitleButtonController.needRightText=true;
      leftTitleButtonController.rightTextCaption="??? " + durationStr;
    }
  }
 else {
    leftTitleButtonController.caption=getMapActivity().getString(R.string.recording_context_menu_show);
    leftTitleButtonController.leftIconId=R.drawable.ic_action_view;
  }
}
