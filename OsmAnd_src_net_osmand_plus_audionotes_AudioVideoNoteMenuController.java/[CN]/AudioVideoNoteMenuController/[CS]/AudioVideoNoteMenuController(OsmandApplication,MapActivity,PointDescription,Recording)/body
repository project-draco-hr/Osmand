{
  super(new AudioVideoNoteMenuBuilder(app,recording),pointDescription,mapActivity);
  this.recording=recording;
  plugin=OsmandPlugin.getPlugin(AudioVideoNotesPlugin.class);
  leftTitleButtonController=new TitleButtonController(){
    @Override public void buttonPressed(){
      if (plugin != null) {
        if (plugin.isPlaying(getRecording())) {
          plugin.stopPlaying();
        }
 else {
          plugin.playRecording(getMapActivity(),getRecording());
        }
      }
    }
  }
;
  rightTitleButtonController=new TitleButtonController(){
    @Override public void buttonPressed(){
      AccessibleAlertBuilder bld=new AccessibleAlertBuilder(getMapActivity());
      bld.setMessage(R.string.recording_delete_confirm);
      bld.setPositiveButton(R.string.shared_string_yes,new DialogInterface.OnClickListener(){
        @Override public void onClick(        DialogInterface dialog,        int which){
          if (plugin != null) {
            plugin.deleteRecording(getRecording(),true);
            getMapActivity().getContextMenu().close();
          }
        }
      }
);
      bld.setNegativeButton(R.string.shared_string_no,null);
      bld.show();
    }
  }
;
  rightTitleButtonController.caption=getMapActivity().getString(R.string.shared_string_delete);
  rightTitleButtonController.leftIconId=R.drawable.ic_action_delete_dark;
  updateData();
}
