{
  if (distanceControl != null) {
    if (distanceMeasurementMode == 0) {
      distanceControl.setText(app.getString(R.string.dist_control_start),"");
    }
 else {
      float dist=0;
      for (int j=1; j < measurementPoints.size(); j++) {
        dist+=MapUtils.getDistance(measurementPoints.get(j - 1),measurementPoints.get(j));
      }
      String ds=OsmAndFormatter.getFormattedDistance(dist,app);
      int ls=ds.lastIndexOf(' ');
      if (ls == -1) {
        distanceControl.setText(ds,null);
      }
 else {
        distanceControl.setText(ds.substring(0,ls),ds.substring(ls + 1));
      }
    }
  }
}
