{
  List<GPXUtilities.WptPt> track=resampleTrack(pts,dist);
  GPXUtilities.WptPt lastPt=track.get(0);
  lastPt.speed=0;
  for (int i=1; i < track.size(); i++) {
    GPXUtilities.WptPt pt=track.get(i);
    double delta=pt.time - lastPt.time;
    if (delta > 0)     pt.speed=MapUtils.getDistance(pt.getLatitude(),pt.getLongitude(),lastPt.getLatitude(),lastPt.getLongitude()) / delta;
 else     pt.speed=0;
    lastPt=pt;
  }
  Double max=Double.NEGATIVE_INFINITY;
  Double min=Double.POSITIVE_INFINITY;
  for (  GPXUtilities.WptPt pt : track) {
    max=Math.max(max,pt.speed);
    min=Math.min(min,pt.speed);
    pt.colourARGB=getColor2(0.5);
  }
  Double range=max - min;
  if (range > 0)   for (  GPXUtilities.WptPt pt : track)   pt.colourARGB=getColor2((pt.speed - min) / range);
  return track;
}
