{
  List<LocationPointWrapper> points=new ArrayList<WaypointHelper.LocationPointWrapper>();
  List<List<LocationPointWrapper>> local=locationPoints;
  TIntArrayList ps=pointsProgress;
  for (int i=0; i < local.size(); i++) {
    List<LocationPointWrapper> loc=local.get(i);
    if (ps.get(i) < loc.size()) {
      points.addAll(loc.subList(ps.get(i),loc.size()));
    }
  }
  List<TargetPoint> wts=app.getTargetPointsHelper().getIntermediatePointsWithTarget();
  for (int k=0; k < wts.size(); k++) {
    TargetPoint tp=wts.get(wts.size() - k - 1);
    int routeIndex=k == 0 ? Integer.MAX_VALUE : route.getIndexOfIntermediate(k);
    points.add(new LocationPointWrapper(route,TARGETS,new TargetPointHelper(tp),0,routeIndex));
  }
  sortList(points);
  return points;
}
