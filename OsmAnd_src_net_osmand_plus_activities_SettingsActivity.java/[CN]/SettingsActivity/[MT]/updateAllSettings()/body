{
  for (  OsmandPreference<Boolean> b : booleanPreferences.values()) {
    CheckBoxPreference pref=(CheckBoxPreference)screenPreferences.get(b.getId());
    pref.setChecked(b.get());
  }
  for (  OsmandPreference<?> p : listPreferences.values()) {
    ListPreference listPref=(ListPreference)screenPreferences.get(p.getId());
    Map<String,?> prefValues=listPrefValues.get(p.getId());
    String[] entryValues=new String[prefValues.size()];
    String[] entries=new String[prefValues.size()];
    int i=0;
    for (    Entry<String,?> e : prefValues.entrySet()) {
      entries[i]=e.getKey();
      entryValues[i]=e.getValue() + "";
      i++;
    }
    listPref.setEntries(entries);
    listPref.setEntryValues(entryValues);
    listPref.setValue(p.get() + "");
  }
  for (  OsmandPreference<String> s : editTextPreferences.values()) {
    EditTextPreference pref=(EditTextPreference)screenPreferences.get(s.getId());
    pref.setText(s.get());
  }
  routeServiceEnabled.setChecked(getMyApplication().getNavigationService() != null);
  Map<String,String> entriesMap=osmandSettings.getTileSourceEntries();
  String[] entries=new String[entriesMap.size() + 1];
  String[] values=new String[entriesMap.size() + 1];
  values[0]=VECTOR_MAP;
  entries[0]=getString(R.string.vector_data);
  int ki=1;
  for (  Map.Entry<String,String> es : entriesMap.entrySet()) {
    entries[ki]=es.getValue();
    values[ki]=es.getKey();
    ki++;
  }
  String value=osmandSettings.isUsingMapVectorData() ? VECTOR_MAP : osmandSettings.getMapTileSourceName();
  fill(tileSourcePreference,entries,values,value);
  updateTileSourceSummary();
  updateApplicationDirTextAndSummary();
}
