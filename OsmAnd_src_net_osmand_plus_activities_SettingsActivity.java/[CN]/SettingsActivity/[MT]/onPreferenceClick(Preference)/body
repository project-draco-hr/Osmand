{
  if (preference.getKey().equals(OsmandSettings.DOWNLOAD_INDEXES)) {
    startActivity(new Intent(this,DownloadIndexActivity.class));
    return true;
  }
 else   if (preference.getKey().equals(OsmandSettings.LOCAL_INDEXES)) {
    startActivity(new Intent(this,LocalIndexesActivity.class));
    return true;
  }
 else   if (preference.getKey().equals(OsmandSettings.RELOAD_INDEXES)) {
    reloadIndexes();
    return true;
  }
 else   if (preference == saveCurrentTrack) {
    SavingTrackHelper helper=new SavingTrackHelper(this);
    if (helper.hasDataToSave()) {
      progressDlg=ProgressDialog.show(this,getString(R.string.saving_gpx_tracks),getString(R.string.saving_gpx_tracks),true);
      final ProgressDialogImplementation impl=new ProgressDialogImplementation(progressDlg);
      impl.setRunnable("SavingGPX",new Runnable(){
        @Override public void run(){
          try {
            SavingTrackHelper helper=new SavingTrackHelper(SettingsActivity.this);
            helper.saveDataToGpx();
            helper.close();
          }
  finally {
            if (progressDlg != null) {
              progressDlg.dismiss();
              progressDlg=null;
            }
          }
        }
      }
);
      impl.run();
    }
 else {
      helper.close();
    }
    return true;
  }
  return false;
}
