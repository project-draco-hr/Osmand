{
  if (preference == localIndexes) {
    boolean empty=getMyApplication().getResourceManager().getIndexFileNames().isEmpty();
    if (empty) {
      File folder=getMyApplication().getAppPath(IndexConstants.BACKUP_INDEX_DIR);
      if (folder.exists() && folder.isDirectory()) {
        String[] l=folder.list();
        empty=l == null || l.length == 0;
      }
    }
    if (empty) {
      startActivity(new Intent(this,getMyApplication().getAppCustomization().getDownloadIndexActivity()));
    }
 else {
      startActivity(new Intent(this,getMyApplication().getAppCustomization().getDownloadActivity()));
    }
    return true;
  }
 else   if (preference == bidforfix) {
    startActivity(new Intent(this,OsmandBidForFixActivity.class));
  }
 else   if (preference == general) {
    startActivity(new Intent(this,SettingsGeneralActivity.class));
    return true;
  }
 else   if (preference == routing) {
    startActivity(new Intent(this,SettingsNavigationActivity.class));
    return true;
  }
 else   if (preference == about) {
    showAboutDialog();
    return true;
  }
 else   if (preference == plugins) {
    startActivityForResult(new Intent(this,getMyApplication().getAppCustomization().getPluginsActivity()),PLUGINS_SELECTION_REQUEST);
    return true;
  }
 else {
    super.onPreferenceClick(preference);
  }
  return false;
}
