{
  final Dialog dialog=new Dialog(this,app.getSettings().isLightContent() ? R.style.OsmandLightTheme : R.style.OsmandDarkTheme);
  LinearLayout ll=new LinearLayout(this);
  ll.setOrientation(LinearLayout.VERTICAL);
  Toolbar tb=new Toolbar(this);
  tb.setClickable(true);
  Drawable back=((OsmandApplication)getApplication()).getIconsCache().getIcon(R.drawable.abc_ic_ab_back_mtrl_am_alpha);
  tb.setNavigationIcon(back);
  tb.setTitle(R.string.about_settings);
  tb.setBackgroundColor(getResources().getColor(getResIdFromAttribute(this,R.attr.pstsTabBackground)));
  tb.setTitleTextColor(getResources().getColor(getResIdFromAttribute(this,R.attr.pstsTextColor)));
  tb.setNavigationOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    final View v){
      dialog.dismiss();
    }
  }
);
  ScrollView sv=new ScrollView(this);
  TextView tv=new TextView(this);
  sv.addView(tv);
  String version=Version.getFullVersion(app);
  String vt=this.getString(R.string.about_version) + "\t";
  String edition="";
  if (!this.getString(R.string.app_edition).equals("")) {
    edition=this.getString(R.string.shared_string_release) + " : \t" + this.getString(R.string.app_edition);
  }
  tv.setText(vt + version + "\n"+ edition+ "\n\n"+ this.getString(R.string.about_content));
  DisplayMetrics m=new DisplayMetrics();
  WindowManager mgr=(WindowManager)getSystemService(Context.WINDOW_SERVICE);
  mgr.getDefaultDisplay().getMetrics(m);
  int dp=(int)(5 * m.density);
  tv.setPadding(3 * dp,dp,3 * dp,dp);
  tv.setTextSize(TypedValue.COMPLEX_UNIT_SP,19);
  if (app.getSettings().isLightContent()) {
    tv.setTextColor(Color.BLACK);
  }
  ll.addView(tb);
  ll.addView(sv);
  dialog.setContentView(ll);
  dialog.show();
}
