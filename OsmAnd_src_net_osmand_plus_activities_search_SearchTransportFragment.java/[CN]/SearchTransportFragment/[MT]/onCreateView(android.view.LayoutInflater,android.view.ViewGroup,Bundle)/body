{
  view=inflater.inflate(R.layout.search_transport,container,false);
  settings=((OsmandApplication)getApplication()).getSettings();
  searchTransportLevel=(Button)view.findViewById(R.id.SearchTransportLevelButton);
  searchTransportLevel.setText(R.string.search_POI_level_btn);
  searchTransportLevel.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      if (!isRouteCalculated()) {
        if (isSearchFurtherAvailable()) {
          zoom--;
          searchTransport();
        }
      }
 else {
        intermediateListAdapater.clear();
        intermediateListAdapater.add(null);
        searchTransport();
      }
    }
  }
);
  searchArea=(TextView)view.findViewById(R.id.SearchAreaText);
  progress=(ProgressBar)view.findViewById(R.id.ProgressBar);
  progress.setVisibility(View.INVISIBLE);
  stopsAdapter=new TransportStopAdapter(new ArrayList<RouteInfoLocation>());
  ((ListView)view.findViewById(android.R.id.list)).setAdapter(stopsAdapter);
  ListView intermediateList=(ListView)view.findViewById(R.id.listView);
  intermediateListAdapater=new TransportRouteAdapter(TransportRouteHelper.getInstance().getRoute());
  intermediateList.setOnItemClickListener(this);
  intermediateList.setAdapter(intermediateListAdapater);
  if (intermediateList.getCount() == 0) {
    intermediateListAdapater.add(null);
  }
  return view;
}
