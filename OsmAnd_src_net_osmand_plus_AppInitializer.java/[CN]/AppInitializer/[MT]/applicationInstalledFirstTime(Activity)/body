{
  final OsmandApplication app=(OsmandApplication)ctx.getApplication();
  boolean netOsmandWasInstalled=false;
  try {
    ApplicationInfo applicationInfo=ctx.getPackageManager().getApplicationInfo("net.osmand",PackageManager.GET_META_DATA);
    netOsmandWasInstalled=applicationInfo != null && !Version.isFreeVersion(app);
  }
 catch (  PackageManager.NameNotFoundException e) {
    netOsmandWasInstalled=false;
  }
  if (netOsmandWasInstalled) {
  }
 else {
    AlertDialog.Builder builder=new AccessibleAlertBuilder(ctx);
    builder.setMessage(R.string.first_time_msg);
    builder.setPositiveButton(R.string.first_time_download,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
        ctx.startActivity(new Intent(ctx,app.getAppCustomization().getDownloadIndexActivity()));
      }
    }
);
    builder.setNegativeButton(R.string.first_time_continue,null);
    builder.show();
  }
}
