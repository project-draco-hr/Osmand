{
  for (  WorldRegion region : app.getWorldRegion().getFlattenedSubregions()) {
    processRegion(resourcesInRepository,di,false,region);
  }
  processRegion(resourcesInRepository,di,true,app.getWorldRegion());
  final net.osmand.Collator collator=OsmAndCollator.primaryCollator();
  final OsmandRegions osmandRegions=app.getRegions();
  Collections.sort(di.voiceRecItems,new Comparator<IndexItem>(){
    @Override public int compare(    IndexItem lhs,    IndexItem rhs){
      return collator.compare(lhs.getVisibleName(app.getApplicationContext(),osmandRegions),rhs.getVisibleName(app.getApplicationContext(),osmandRegions));
    }
  }
);
  Collections.sort(di.voiceTTSItems,new Comparator<IndexItem>(){
    @Override public int compare(    IndexItem lhs,    IndexItem rhs){
      return collator.compare(lhs.getVisibleName(app.getApplicationContext(),osmandRegions),rhs.getVisibleName(app.getApplicationContext(),osmandRegions));
    }
  }
);
  initAlreadyLoadedFiles();
  return true;
}
