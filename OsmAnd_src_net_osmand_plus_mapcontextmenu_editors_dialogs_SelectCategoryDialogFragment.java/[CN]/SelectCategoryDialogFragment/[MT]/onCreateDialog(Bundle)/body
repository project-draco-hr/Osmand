{
  AlertDialog.Builder builder=new AlertDialog.Builder(getActivity());
  builder.setTitle(R.string.favorite_category_select);
  final View v=getActivity().getLayoutInflater().inflate(R.layout.favorite_categories_dialog,null,false);
  LinearLayout ll=(LinearLayout)v.findViewById(R.id.list_container);
  final FavouritesDbHelper helper=((OsmandApplication)getActivity().getApplication()).getFavorites();
  List<FavouritesDbHelper.FavoriteGroup> gs=helper.getFavoriteGroups();
  for (  final FavouritesDbHelper.FavoriteGroup category : gs) {
    View itemView=getActivity().getLayoutInflater().inflate(R.layout.favorite_category_dialog_item,null);
    ImageView icon=(ImageView)itemView.findViewById(R.id.image_view);
    if (category.color != 0) {
      icon.setImageDrawable(getIcon(getActivity(),R.drawable.ic_action_folder,category.color));
    }
 else {
      icon.setImageDrawable(getIcon(getActivity(),R.drawable.ic_action_folder));
    }
    Button button=(Button)itemView.findViewById(R.id.button);
    button.setText(category.name);
    button.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        ((PointEditorFragment)getParentFragment()).setCategory(category.name);
        dismiss();
      }
    }
);
    ll.addView(itemView);
  }
  View itemView=getActivity().getLayoutInflater().inflate(R.layout.favorite_category_dialog_item,null);
  ImageView icon=(ImageView)itemView.findViewById(R.id.image_view);
  icon.setImageDrawable(getIcon(getActivity(),R.drawable.map_zoom_in));
  Button button=(Button)itemView.findViewById(R.id.button);
  button.setText(getActivity().getResources().getText(R.string.favorite_category_add_new));
  button.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
    }
  }
);
  ll.addView(itemView);
  builder.setView(v);
  builder.setNegativeButton(R.string.shared_string_cancel,null);
  return builder.create();
}
