{
  if (o instanceof Amenity) {
    final Amenity a=(Amenity)o;
    OnContextMenuClick listener=new ContextMenuAdapter.OnContextMenuClick(){
      @Override public void onContextMenuClick(      int itemId,      int pos,      boolean isChecked,      DialogInterface dialog){
        if (itemId == R.string.poi_context_menu_call) {
          try {
            Intent intent=new Intent(Intent.ACTION_VIEW);
            intent.setData(Uri.parse("tel:" + a.getPhone()));
            view.getContext().startActivity(intent);
          }
 catch (          RuntimeException e) {
            log.error("Failed to invoke call",e);
            AccessibleToast.makeText(view.getContext(),e.getMessage(),Toast.LENGTH_SHORT).show();
          }
        }
 else         if (itemId == R.string.poi_context_menu_website) {
          try {
            Intent intent=new Intent(Intent.ACTION_VIEW);
            intent.setData(Uri.parse(a.getSite()));
            view.getContext().startActivity(intent);
          }
 catch (          RuntimeException e) {
            log.error("Failed to invoke call",e);
            AccessibleToast.makeText(view.getContext(),e.getMessage(),Toast.LENGTH_SHORT).show();
          }
        }
 else         if (itemId == R.string.poi_context_menu_showdescription) {
          showDescriptionDialog(a);
        }
      }
    }
;
    if (OsmAndFormatter.getAmenityDescriptionContent(view.getApplication(),a).length() > 0) {
      adapter.item(R.string.poi_context_menu_showdescription).icons(R.drawable.ic_action_note_dark,R.drawable.ic_action_note_light).listen(listener).reg();
    }
    if (a.getPhone() != null) {
      adapter.item(R.string.poi_context_menu_call).icons(R.drawable.ic_action_call_dark,R.drawable.ic_action_call_light).listen(listener).reg();
    }
    if (a.getSite() != null) {
      adapter.item(R.string.poi_context_menu_website).icons(R.drawable.ic_action_globus_dark,R.drawable.ic_action_globus_light).listen(listener).reg();
    }
  }
}
