{
  final Amenity a=(Amenity)o;
  int ind=0;
  final int phoneIndex=a.getPhone() != null ? ind++ : -1;
  final int siteIndex=a.getSite() != null ? ind++ : -1;
  final int descriptionIndex=a.getDescription() != null ? ind++ : -1;
  if (a.getPhone() != null) {
    actionsList.add(this.view.getResources().getString(R.string.poi_context_menu_call));
  }
  if (a.getSite() != null) {
    actionsList.add(this.view.getResources().getString(R.string.poi_context_menu_website));
  }
  if (a.getDescription() != null) {
    actionsList.add(this.view.getResources().getString(R.string.poi_context_menu_showdescription));
  }
  final int modifyInd=ind++;
  actionsList.add(this.view.getResources().getString(R.string.poi_context_menu_modify));
  final int deleteInd=ind++;
  actionsList.add(this.view.getResources().getString(R.string.poi_context_menu_delete));
  final EditingPOIActivity edit=activity.getPoiActions();
  return new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
      if (which == modifyInd) {
        edit.showEditDialog(a);
      }
 else       if (which == deleteInd) {
        edit.showDeleteDialog(a);
      }
 else       if (which == phoneIndex) {
        try {
          Intent intent=new Intent(Intent.ACTION_VIEW);
          intent.setData(Uri.parse("tel:" + a.getPhone()));
          view.getContext().startActivity(intent);
        }
 catch (        RuntimeException e) {
          log.error("Failed to invoke call",e);
          Toast.makeText(view.getContext(),e.getMessage(),Toast.LENGTH_SHORT).show();
        }
      }
 else       if (which == siteIndex) {
        try {
          Intent intent=new Intent(Intent.ACTION_VIEW);
          intent.setData(Uri.parse(a.getSite()));
          view.getContext().startActivity(intent);
        }
 catch (        RuntimeException e) {
          log.error("Failed to invoke call",e);
          Toast.makeText(view.getContext(),e.getMessage(),Toast.LENGTH_SHORT).show();
        }
      }
 else       if (which == descriptionIndex) {
        showDescriptionDialog(a);
      }
 else {
      }
    }
  }
;
}
