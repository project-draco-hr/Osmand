{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.local_openstreetmap);
  listAdapter=new LocalOpenstreetmapAdapter();
  getExpandableListView().setOnCreateContextMenuListener(new View.OnCreateContextMenuListener(){
    @Override public void onCreateContextMenu(    ContextMenu menu,    View v,    ContextMenuInfo menuInfo){
      long packedPos=((ExpandableListContextMenuInfo)menuInfo).packedPosition;
      int group=ExpandableListView.getPackedPositionGroup(packedPos);
      int child=ExpandableListView.getPackedPositionChild(packedPos);
      MenuInflater inflater=getMenuInflater();
      if (child >= 0 && group >= 0) {
        inflater.inflate(R.menu.localosm_child,menu);
      }
 else       if (group >= 0) {
        inflater.inflate(R.menu.localosm_group,menu);
      }
    }
  }
);
  setListAdapter(listAdapter);
  dbpoi=new OpenstreetmapsDbHelper(this);
  dbbug=new OsmBugsDbHelper(this);
  remotepoi=new OpenstreetmapRemoteUtil(this,this.getWindow().getDecorView());
  remotebug=new OsmBugsRemoteUtil();
  findViewById(R.id.UploadAllButton).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      toUpload=listAdapter.values().toArray(new OsmPoint[0]);
      showDialog(DIALOG_PROGRESS_UPLOAD);
    }
  }
);
}
