{
  ItemViewHolder viewHolder;
  if (convertView == null) {
    convertView=LayoutInflater.from(parent.getContext()).inflate(R.layout.two_line_with_images_list_item,parent,false);
    viewHolder=new ItemViewHolder(convertView,getMyActivity(),getMyApplication().getResourceManager().getDateFormat());
    convertView.setTag(viewHolder);
  }
 else {
    viewHolder=(ItemViewHolder)convertView.getTag();
  }
  final Object child=getChild(groupPosition,childPosition);
  if (child instanceof WorldRegion) {
    viewHolder.bindRegion((WorldRegion)child);
  }
 else   if (child instanceof ItemsListBuilder.ResourceItem) {
    final int localProgress=groupPosition == groupInProgressPosition && childPosition == childInProgressPosition ? progress : -1;
    viewHolder.bindIndexItem(((ItemsListBuilder.ResourceItem)child).getIndexItem(),false,true,localProgress);
  }
 else {
    throw new IllegalArgumentException("Item must be of type WorldRegion or " + "ResourceItem but is of type:" + child.getClass());
  }
  return convertView;
}
