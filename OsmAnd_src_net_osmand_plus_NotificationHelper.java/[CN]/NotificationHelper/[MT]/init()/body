{
  saveBroadcastReceiver=new BroadcastReceiver(){
    @Override public void onReceive(    Context context,    Intent intent){
      final OsmandMonitoringPlugin plugin=OsmandPlugin.getEnabledPlugin(OsmandMonitoringPlugin.class);
      if (plugin != null) {
        plugin.saveCurrentTrack();
      }
    }
  }
;
  app.registerReceiver(saveBroadcastReceiver,new IntentFilter(OSMAND_SAVE_GPX_SERVICE_ACTION));
  startBroadcastReceiver=new BroadcastReceiver(){
    @Override public void onReceive(    Context context,    Intent intent){
      final OsmandMonitoringPlugin plugin=OsmandPlugin.getEnabledPlugin(OsmandMonitoringPlugin.class);
      if (plugin != null) {
        plugin.startGPXMonitoring(null);
      }
    }
  }
;
  app.registerReceiver(startBroadcastReceiver,new IntentFilter(OSMAND_START_GPX_SERVICE_ACTION));
  stopBroadcastReceiver=new BroadcastReceiver(){
    @Override public void onReceive(    Context context,    Intent intent){
      final OsmandMonitoringPlugin plugin=OsmandPlugin.getEnabledPlugin(OsmandMonitoringPlugin.class);
      if (plugin != null) {
        plugin.stopRecording();
      }
    }
  }
;
  app.registerReceiver(stopBroadcastReceiver,new IntentFilter(OSMAND_STOP_GPX_SERVICE_ACTION));
}
