{
  if (areAllTypesAccepted()) {
    return null;
  }
  if (acceptedTypes.size() == 0) {
    return "1 > 1";
  }
  StringBuilder b=new StringBuilder();
  b.append("(");
  boolean first=true;
  for (  AmenityType a : acceptedTypes.keySet()) {
    if (first) {
      first=false;
    }
 else {
      b.append(" OR ");
    }
    b.append("(");
    b.append(IndexPoiTable.TYPE.name().toLowerCase()).append(" = '").append(AmenityType.valueToString(a)).append("'");
    if (acceptedTypes.get(a) != null) {
      List<String> list=acceptedTypes.get(a);
      b.append(" AND ");
      b.append(IndexPoiTable.SUBTYPE.name().toLowerCase()).append(" IN (");
      boolean bfirst=true;
      for (      String s : list) {
        if (bfirst) {
          bfirst=false;
        }
 else {
          b.append(", ");
        }
        b.append("'").append(s).append("'");
      }
      b.append(")");
    }
    b.append(")");
  }
  b.append(")");
  return b.toString();
}
