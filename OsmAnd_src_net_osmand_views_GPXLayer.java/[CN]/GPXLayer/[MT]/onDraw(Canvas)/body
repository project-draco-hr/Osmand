{
  if (points.isEmpty()) {
    return;
  }
  int w=view.getWidth();
  int h=view.getHeight();
  boundsRect=new Rect(0,0,w,h);
  view.calculateTileRectangle(boundsRect,view.getCenterPointX(),view.getCenterPointY(),view.getXTile(),view.getYTile(),tileRect);
  double topLatitude=MapUtils.getLatitudeFromTile(view.getZoom(),tileRect.top);
  double leftLongitude=MapUtils.getLongitudeFromTile(view.getZoom(),tileRect.left);
  double bottomLatitude=MapUtils.getLatitudeFromTile(view.getZoom(),tileRect.bottom);
  double rightLongitude=MapUtils.getLongitudeFromTile(view.getZoom(),tileRect.right);
  for (  List<Location> l : points) {
    path.rewind();
    int startIndex=-1;
    int endIndex=-1;
    for (int i=0; i < l.size(); i++) {
      Location ls=l.get(i);
      if (startIndex == -1) {
        if (leftLongitude <= ls.getLongitude() && ls.getLongitude() <= rightLongitude && bottomLatitude <= ls.getLatitude() && ls.getLatitude() <= topLatitude) {
          startIndex=i > 0 ? i - 1 : i;
        }
      }
 else       if (!(leftLongitude <= ls.getLongitude() + 0.01 && ls.getLongitude() - 0.01 <= rightLongitude && bottomLatitude <= ls.getLatitude() + 0.01 && ls.getLatitude() - 0.01 <= topLatitude)) {
        endIndex=i;
        break;
      }
    }
    if (startIndex == -1) {
      return;
    }
    if (endIndex == -1) {
      endIndex=l.size() - 1;
    }
    int px=view.getMapXForPoint(l.get(startIndex).getLongitude());
    int py=view.getMapYForPoint(l.get(startIndex).getLatitude());
    path.moveTo(px,py);
    for (int i=startIndex + 1; i <= endIndex; i++) {
      Location p=l.get(i);
      int x=view.getMapXForPoint(p.getLongitude());
      int y=view.getMapYForPoint(p.getLatitude());
      path.lineTo(x,y);
    }
    canvas.drawPath(path,paint);
  }
}
