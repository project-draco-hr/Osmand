{
  if (!playNext)   return;
  while (!filesToPlay.isEmpty()) {
    String f=filesToPlay.remove(0);
    if (f != null && voiceDir != null) {
      File file=new File(voiceDir,f);
      if (file.exists()) {
        log.debug("Playing file : " + f);
        playNext=false;
        try {
          if (mediaPlayer == null) {
            mediaPlayer=new MediaPlayer();
          }
          mediaPlayer.setAudioStreamType(streamType);
          mediaPlayer.setDataSource(file.getAbsolutePath());
          mediaPlayer.prepare();
          mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener(){
            @Override public void onCompletion(            MediaPlayer mp){
              mp.reset();
              int sleep=60;
              boolean delay=true;
              while (!filesToPlay.isEmpty() && delay) {
                delay=filesToPlay.get(0).startsWith(DELAY_CONST);
                if (delay) {
                  String s=filesToPlay.remove(0).substring(DELAY_CONST.length());
                  try {
                    sleep+=Integer.parseInt(s);
                  }
 catch (                  NumberFormatException e) {
                  }
                }
              }
              try {
                Thread.sleep(sleep);
              }
 catch (              InterruptedException e) {
              }
              playNext=true;
              playQueue();
            }
          }
);
          mediaPlayer.start();
        }
 catch (        Exception e) {
          log.error("Error while playing voice command",e);
          playNext=true;
        }
      }
 else {
        log.info("Play file not found : " + f);
      }
    }
  }
  if (mediaPlayer != null) {
    mediaPlayer.release();
    mediaPlayer=null;
  }
}
