{
  View row=convertView;
  if (row == null) {
    LayoutInflater inflater=getActivity().getLayoutInflater();
    row=inflater.inflate(R.layout.searchpoifolder_list,parent,false);
  }
  TextView label=(TextView)row.findViewById(R.id.folder_label);
  ImageView icon=(ImageView)row.findViewById(R.id.folder_icon);
  OsmandApplication app=getMyApplication();
  final PoiLegacyFilter model=getItem(position);
  label.setText(model.getName());
  IconsCache iconsCache=app.getIconsCache();
  if (model.getFilterId().equals(PoiLegacyFilter.CUSTOM_FILTER_ID)) {
    icon.setImageDrawable(iconsCache.getContentIcon(R.drawable.ic_action_filter_dark));
  }
 else   if (model.getFilterId().equals(PoiLegacyFilter.BY_NAME_FILTER_ID)) {
    icon.setImageResource(android.R.drawable.ic_search_category_default);
  }
 else {
    if (RenderingIcons.containsBigIcon(model.getSimplifiedId())) {
      icon.setImageDrawable(RenderingIcons.getBigIcon(getActivity(),model.getSimplifiedId()));
    }
 else {
      icon.setImageResource(R.drawable.mx_user_defined);
    }
  }
  ImageView editIcon=(ImageView)row.findViewById(R.id.folder_edit_icon);
  editIcon.setImageDrawable(iconsCache.getContentIcon(R.drawable.ic_action_edit_dark));
  if (model.isStandardFilter()) {
    editIcon.setVisibility(View.GONE);
  }
 else {
    editIcon.setVisibility(View.VISIBLE);
  }
  editIcon.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      showEditActivity(model);
    }
  }
);
  return (row);
}
