{
  ArrayList<CalendarListItem> calendarList=new ArrayList<CalendarListItem>();
  String[] projection=new String[]{CalendarColumns.ID,CalendarColumns.NAME,CalendarColumns.DISPLAYNAME};
  Cursor managedCursor=context.getContentResolver().query(calendars,projection,null,null,null);
  if (managedCursor.getCount() > 0) {
    int nameColumn=managedCursor.getColumnIndex(CalendarColumns.NAME);
    int displayNameColumn=managedCursor.getColumnIndex(CalendarColumns.DISPLAYNAME);
    int idColumn=managedCursor.getColumnIndex(CalendarColumns.ID);
    while (managedCursor.moveToNext()) {
      if (!managedCursor.isNull(nameColumn))       calendarList.add(new CalendarListItem(managedCursor.getString(nameColumn),managedCursor.getLong(idColumn)));
 else       calendarList.add(new CalendarListItem(managedCursor.getString(displayNameColumn),managedCursor.getLong(idColumn)));
    }
  }
  if (managedCursor != null)   managedCursor.close();
  return calendarList;
}
