{
  double priority=0d;
  boolean sortByName=false;
switch (searchObject.getType()) {
case POI:
    priority=getPriorityByDistance(10,((PoiSearchObject)searchObject).getDistance());
  break;
case CITY:
case VILLAGE:
case POSTCODE:
float cityType=getCityType((StreetGroupSearchObject)searchObject);
priority=(getPriorityByDistance(citySelected ? 20f : 7f + cityType,((StreetGroupSearchObject)searchObject).getDistance()));
break;
case STREET:
StreetSearchObject streetSearchObject=(StreetSearchObject)searchObject;
Street street=streetSearchObject.getStreet();
if (!citySelected) {
priority=getPriorityByDistance(9f,streetSearchObject.getDistance());
}
 else {
boolean streetFromSelectedCity=false;
for (SearchToken st : objectTokens.values()) {
if (st.getSearchObject() instanceof StreetGroupSearchObject) {
StreetGroup streetGroup=((StreetGroupSearchObject)st.getSearchObject()).getStreetGroup();
if (streetGroup.getId().getId().equals(street.getStreetGroup().getId().getId())) {
streetFromSelectedCity=true;
break;
}
}
 else if (st.getSearchObject() instanceof StreetSearchObject) {
StreetGroup streetGroup=((StreetSearchObject)st.getSearchObject()).getStreet().getStreetGroup();
if (streetGroup.getId().getId().equals(street.getStreetGroup().getId().getId())) {
streetFromSelectedCity=true;
break;
}
}
}
if (streetFromSelectedCity) {
priority=3f;
sortByName=true;
}
 else {
priority=getPriorityByDistance(9f,streetSearchObject.getDistance());
}
}
break;
}
searchObject.setPriority(priority);
searchObject.setSortByName(sortByName);
return true;
}
