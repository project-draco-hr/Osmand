{
  double priority=0.0;
switch (searchObject.getType()) {
case BUILDING:
    priority=3.0;
  break;
case POI_TYPE:
priority=poiTypeSelected ? 10.0 : 9.0;
break;
case POI:
priority=getPriorityByDistance(10.0,((PoiSearchObject)searchObject).getDistance());
break;
case CITY:
case VILLAGE:
case POSTCODE:
double cityType=getCityType((StreetGroupSearchObject)searchObject);
priority=(getPriorityByDistance(citySelected ? 20.0 : 7.0 + cityType,((StreetGroupSearchObject)searchObject).getDistance()));
break;
case STREET:
StreetSearchObject streetSearchObject=(StreetSearchObject)searchObject;
Street street=streetSearchObject.getBaseObject();
if (!citySelected) {
priority=getPriorityByDistance(9.0,streetSearchObject.getDistance());
}
 else {
boolean streetFromSelectedCity=false;
for (ObjectSearchToken st : objectTokens.values()) {
if (st.getSearchObject() instanceof StreetGroupSearchObject) {
StreetGroup streetGroup=((StreetGroupSearchObject)st.getSearchObject()).getBaseObject();
if (streetGroup.getId().getId().equals(street.getStreetGroup().getId().getId())) {
streetFromSelectedCity=true;
break;
}
}
 else if (st.getSearchObject() instanceof StreetSearchObject) {
StreetGroup streetGroup=((StreetSearchObject)st.getSearchObject()).getBaseObject().getStreetGroup();
if (streetGroup.getId().getId().equals(street.getStreetGroup().getId().getId())) {
streetFromSelectedCity=true;
break;
}
}
}
if (streetFromSelectedCity) {
priority=3.0;
}
 else {
priority=getPriorityByDistance(9.0,streetSearchObject.getDistance());
}
}
break;
}
searchObject.setPriority(priority);
return true;
}
