{
  l.clear();
  boolean previousVisible=false;
  if (lastFixedLocation != null) {
    if (leftLongitude <= lastFixedLocation.getLongitude() && lastFixedLocation.getLongitude() <= rightLongitude && bottomLatitude <= lastFixedLocation.getLatitude() && lastFixedLocation.getLatitude() <= topLatitude) {
      l.add(lastFixedLocation);
      previousVisible=true;
    }
  }
  for (int i=currentRoute; i < routeNodes.size(); i++) {
    Location ls=routeNodes.get(i);
    if (leftLongitude <= ls.getLongitude() && ls.getLongitude() <= rightLongitude && bottomLatitude <= ls.getLatitude() && ls.getLatitude() <= topLatitude) {
      l.add(ls);
      if (i > currentRoute) {
        l.add(0,ls);
        previousVisible=true;
      }
 else       if (lastFixedLocation != null) {
        l.add(0,ls);
      }
      previousVisible=true;
    }
 else     if (previousVisible) {
      l.add(ls);
      previousVisible=false;
      break;
    }
  }
}
