{
  final Location loc=mapActivity.getLastKnownLocation();
  if (loc == null) {
    AccessibleToast.makeText(app,R.string.audionotes_location_not_defined,Toast.LENGTH_LONG).show();
    return;
  }
  double lon=loc.getLongitude();
  double lat=loc.getLatitude();
  if (app.getSettings().AV_DEFAULT_ACTION.get() == OsmandSettings.AV_DEFAULT_ACTION_VIDEO) {
    recordVideo(lat,lon,mapActivity);
  }
 else   if (app.getSettings().AV_DEFAULT_ACTION.get() == OsmandSettings.AV_DEFAULT_ACTION_TAKEPICTURE) {
    takePhoto(lat,lon,mapActivity);
  }
 else {
    recordAudio(lat,lon,mapActivity);
  }
}
