{
  if (visibility == View.GONE) {
    ViewCompat.animate(mToolbar).alpha(0).setListener(new ViewPropertyAnimatorListenerAdapter(){
      private boolean mCanceled=false;
      @Override public void onAnimationEnd(      View view){
        if (!mCanceled) {
          mToolbar.setVisibility(View.GONE);
        }
      }
      @Override public void onAnimationCancel(      View view){
        mCanceled=true;
      }
    }
);
  }
 else   if (visibility == View.VISIBLE) {
    ViewCompat.animate(mToolbar).alpha(1).setListener(new ViewPropertyAnimatorListenerAdapter(){
      @Override public void onAnimationStart(      View view){
        mToolbar.setVisibility(View.VISIBLE);
      }
    }
);
  }
}
