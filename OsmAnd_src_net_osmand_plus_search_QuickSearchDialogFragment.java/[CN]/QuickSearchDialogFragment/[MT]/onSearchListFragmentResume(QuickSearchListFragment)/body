{
switch (searchListFragment.getType()) {
case HISTORY:
    historySearchFragment=(QuickSearchHistoryListFragment)searchListFragment;
  reloadHistory();
break;
case CATEGORIES:
categoriesSearchFragment=(QuickSearchCategoriesListFragment)searchListFragment;
reloadCategories();
break;
case MAIN:
if (!Algorithms.isEmpty(searchQuery) && !searchQuery.equals(searchEditText.getText().toString())) {
String txt=searchQuery;
searchQuery="";
searchEditText.setText(txt);
searchEditText.setSelection(txt.length());
}
break;
}
LatLon mapCenter=getMapActivity().getMapView().getCurrentRotatedTileBox().getCenterLatLon();
if (useMapCenter) {
searchListFragment.updateLocation(mapCenter,null);
}
}
