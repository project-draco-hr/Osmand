{
  FragmentManager fragmentManager=getSupportFragmentManager();
  Fragment fragment=fragments.get(item);
  if (new Integer(R.string.sherpafy_tours).equals(item)) {
    if (fragment == null) {
      fragment=new SherpafyToursFragment();
      fragments.put(item,fragment);
    }
    state=STATE_SELECT_TOUR;
  }
 else   if (item instanceof TourInformation) {
    state=STATE_TOUR_VIEW;
    if (fragment == null) {
      fragment=new SherpafyTourOverviewFragment();
      Bundle bl=new Bundle();
      bl.putString("TOUR",((TourInformation)item).getId());
      fragment.setArguments(bl);
      fragments.put(item,fragment);
    }
  }
 else   if (item instanceof StageInformation) {
    state=STATE_STAGE_OVERVIEW;
  }
  if (fragment != null) {
    fragmentManager.beginTransaction().replace(R.id.content_frame,fragment).commit();
  }
  selectedItem=item;
  if (mDrawerLayout.isDrawerOpen(mDrawerList)) {
    mDrawerLayout.closeDrawer(mDrawerList);
  }
  drawerAdapter.clear();
  drawerAdapter.add(R.string.sherpafy_tours);
  TourInformation selectedTour=customization.getSelectedTour();
  for (  TourInformation it : customization.getTourInformations()) {
    int insert=drawerAdapter.getCount();
    if (it == selectedTour) {
      insert=1;
    }
    drawerAdapter.insert(it,insert++);
    if (it == selectedItem || (selectedItem instanceof StageInformation && ((StageInformation)selectedItem).getTour() == it)) {
      for (      StageInformation st : it.getStageInformation()) {
        drawerAdapter.insert(st,insert++);
      }
    }
 else     if (it == selectedTour) {
      StageInformation st=customization.getSelectedStage();
      if (st != null) {
        drawerAdapter.insert(st,insert++);
      }
    }
  }
  updateActionBarTitle();
}
