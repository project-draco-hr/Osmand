{
  FragmentManager fragmentManager=getSupportFragmentManager();
  if (new Integer(R.string.sherpafy_tours).equals(item)) {
    if (toursFragment == null) {
      toursFragment=new SherpafyToursFragment();
    }
    fragmentManager.beginTransaction().replace(R.id.content_frame,toursFragment).commit();
    state=STATE_SELECT_TOUR;
  }
 else   if (item instanceof TourInformation) {
    state=STATE_TOUR_VIEW;
    if (tourOverview == null) {
      tourOverview=new SherpafyTourOverviewFragment();
    }
    tourOverview.setTour((TourInformation)item);
    fragmentManager.beginTransaction().replace(R.id.content_frame,tourOverview).commit();
  }
 else   if (item instanceof StageInformation) {
    state=STATE_STAGE_OVERVIEW;
  }
  selectedItem=item;
  if (mDrawerLayout.isDrawerOpen(mDrawerList)) {
    mDrawerLayout.closeDrawer(mDrawerList);
  }
  drawerAdapter.clear();
  drawerAdapter.add(R.string.sherpafy_tours);
  TourInformation selectedTour=customization.getSelectedTour();
  for (  TourInformation it : customization.getTourInformations()) {
    int insert=drawerAdapter.getCount();
    if (it == selectedTour) {
      insert=1;
    }
    drawerAdapter.insert(it,insert++);
    if (it == selectedItem || (selectedItem instanceof StageInformation && ((StageInformation)selectedItem).getTour() == it)) {
      for (      StageInformation st : it.getStageInformation()) {
        drawerAdapter.insert(st,insert++);
      }
    }
 else     if (it == selectedTour) {
      StageInformation st=customization.getSelectedStage();
      if (st != null) {
        drawerAdapter.insert(st,insert++);
      }
    }
  }
  updateActionBarTitle();
}
