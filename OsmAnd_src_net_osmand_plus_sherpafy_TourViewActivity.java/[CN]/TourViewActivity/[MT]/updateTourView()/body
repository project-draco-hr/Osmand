{
  img=(ImageView)findViewById(R.id.tour_image);
  description=(TextView)findViewById(R.id.tour_description);
  description.setVisibility(View.VISIBLE);
  fullDescription=(TextView)findViewById(R.id.tour_fulldescription);
  fullDescription.setVisibility(View.VISIBLE);
  Button start_tour=(Button)findViewById(R.id.start_tour);
  Button itenerary=(Button)findViewById(R.id.itenerary);
  stages.removeAllViews();
  start_tour.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View view){
      MapActivity.launchMapActivityMoveToTop(GetActivity());
    }
  }
);
  cur_tour=customization.getSelectedTour();
  stages_info=cur_tour.getStageInformation();
  stages.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener(){
    @Override public void onCheckedChanged(    RadioGroup radioGroup,    int i){
      customization.selectStage(stages_info.get(i),IProgress.EMPTY_PROGRESS);
      if (i == 0) {
        fullDescription.setText(cur_tour.getFulldescription());
        description.setText((cur_tour.getShortDescription()));
        prepareBitmap();
      }
 else {
        description.setText(stages_info.get(i).getDescription());
        fullDescription.setText("");
      }
    }
  }
);
  final int count=stages_info.size();
  final RadioButton[] rb=new RadioButton[count];
  for (int i=0; i < count; i++) {
    rb[i]=new RadioButton(this);
    rb[i].setId(i);
    stages.addView(rb[i]);
    rb[i].setText(stages_info.get(i).getName());
    rb[i].setTextColor(getResources().getColor(R.color.color_black));
  }
  TourInformation.StageInformation cur_stage=customization.getSelectedStage();
  if (cur_stage == null) {
    stages.check(0);
    description.setText(cur_tour.getShortDescription());
    fullDescription.setText(cur_tour.getFulldescription());
    prepareBitmap();
  }
 else {
    int i=0;
    for (i=0; i < count; i++) {
      if (cur_stage.equals(stages_info.get(i)))       break;
    }
    if (i != count) {
      stages.check(i);
    }
 else {
      stages.check(0);
    }
  }
}
