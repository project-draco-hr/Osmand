{
  super.onCreate(savedInstanceState);
  ((OsmandApplication)getApplication()).applyTheme(this);
  getSupportActionBar().setDisplayHomeAsUpEnabled(false);
  ProgressDialog startProgressDialog=new ProgressDialog(this);
  getMyApplication().checkApplicationIsBeingInitialized(this,startProgressDialog);
  setContentView(R.layout.custom_tour_info);
  Button collapser=(Button)findViewById(R.id.collapse);
  stages=(RadioGroup)findViewById(R.id.stages);
  stages.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener(){
    @Override public void onCheckedChanged(    RadioGroup radioGroup,    int i){
      if (hack) {
        return;
      }
      if (i == 0) {
        customization.selectStage(null,IProgress.EMPTY_PROGRESS);
        fullDescription.setText(cur_tour.getFulldescription());
        description.setText((cur_tour.getShortDescription()));
        prepareBitmap();
      }
 else {
        customization.selectStage(stages_info.get(i - 1),IProgress.EMPTY_PROGRESS);
        description.setText(stages_info.get(i - 1).getDescription());
        fullDescription.setText("");
      }
    }
  }
);
  collapser.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View view){
      Button btn=(Button)view;
      if (btn.getText().equals("+")) {
        btn.setText("-");
        stages.setVisibility(View.VISIBLE);
      }
 else {
        btn.setText("+");
        stages.setVisibility(View.GONE);
      }
    }
  }
);
  Button settings=(Button)findViewById(R.id.btn_settings);
  settings.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      Intent intent=new Intent(getApplicationContext(),SherpafyStartActivity.class);
      intent.putExtra("SETTINGS",true);
      startActivity(intent);
    }
  }
);
}
