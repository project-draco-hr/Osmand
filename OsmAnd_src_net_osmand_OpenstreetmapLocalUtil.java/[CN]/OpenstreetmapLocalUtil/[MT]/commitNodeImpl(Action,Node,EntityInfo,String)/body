{
  Node newNode=n;
  if (n.getId() == -1) {
    newNode=new Node(n,--nextid);
  }
  OpenstreetmapPoint p=new OpenstreetmapPoint();
  p.setEntity(newNode);
  p.setAction(action);
  p.setComment(comment);
  if (p.getAction() == Action.DELETE && newNode.getId() < 0) {
    db.deleteAllPOIModifications(p.getId());
  }
 else {
    db.addOpenstreetmap(p);
  }
  return newNode;
}
