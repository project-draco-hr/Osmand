{
  lowLevelWays++;
  List<Node> nodes=new ArrayList<Node>();
  MapAlgorithms.simplifyDouglasPeucker(in,zoom + 8 + zoomWaySmothness,3,nodes);
  boolean first=true;
  long firstId=-1;
  long lastId=-1;
  ByteArrayOutputStream bnodes=new ByteArrayOutputStream();
  ByteArrayOutputStream btypes=new ByteArrayOutputStream();
  ByteArrayOutputStream baddtypes=new ByteArrayOutputStream();
  try {
    for (    Node n : nodes) {
      if (n != null) {
        if (first) {
          firstId=n.getId();
          first=false;
        }
        lastId=n.getId();
        Algoritms.writeInt(bnodes,Float.floatToRawIntBits((float)n.getLatitude()));
        Algoritms.writeInt(bnodes,Float.floatToRawIntBits((float)n.getLongitude()));
      }
    }
  }
 catch (  IOException e) {
    throw new IllegalStateException(e);
  }
  if (firstId == -1) {
    return;
  }
  for (int j=0; j < types.size(); j++) {
    try {
      Algoritms.writeInt(btypes,types.get(j));
    }
 catch (    IOException e) {
    }
  }
  for (int j=0; j < addTypes.size(); j++) {
    try {
      Algoritms.writeInt(baddtypes,types.get(j));
    }
 catch (    IOException e) {
    }
  }
  mapLowLevelBinaryStat.setLong(1,id);
  mapLowLevelBinaryStat.setLong(2,firstId);
  mapLowLevelBinaryStat.setLong(3,lastId);
  mapLowLevelBinaryStat.setString(4,name);
  mapLowLevelBinaryStat.setBytes(5,bnodes.toByteArray());
  mapLowLevelBinaryStat.setBytes(6,btypes.toByteArray());
  mapLowLevelBinaryStat.setBytes(7,baddtypes.toByteArray());
  mapLowLevelBinaryStat.setShort(8,(short)level);
  addBatch(mapLowLevelBinaryStat);
}
