{
  handler.postDelayed(new Runnable(){
    @Override public void run(){
      LocationManager locationManager=(LocationManager)getSystemService(LOCATION_SERVICE);
      if (register) {
        boolean continuous=serviceOffInterval == 0;
        locationManager.requestLocationUpdates(serviceOffProvider,continuous ? 1000 : serviceOffInterval,0,NavigationService.this);
        if (!continuous) {
          delayedAction(false,serviceError);
        }
      }
 else {
        locationManager.removeUpdates(NavigationService.this);
        delayedAction(true,serviceOffInterval);
      }
    }
  }
,delay);
}
