{
  handler.postDelayed(new Runnable(){
    @Override public void run(){
      if (!serviceActive) {
        return;
      }
      LocationManager locationManager=(LocationManager)getSystemService(LOCATION_SERVICE);
      if (register) {
        registered=true;
        locationManager.requestLocationUpdates(serviceOffProvider,1000,0,NavigationService.this);
        if (!isContinuous() || serviceOffInterval > serviceError) {
          delayedAction(false,serviceError);
        }
      }
 else {
        if (registered) {
          registered=false;
          locationManager.removeUpdates(NavigationService.this);
          delayedAction(true,serviceOffInterval);
        }
      }
    }
  }
,delay);
}
