{
  NotificationManager mNotificationManager=(NotificationManager)getSystemService(NOTIFICATION_SERVICE);
  mNotificationManager.cancel(NOTIFICATION_SERVICE_ID);
  if (broadcastReceiver != null) {
    unregisterReceiver(broadcastReceiver);
    broadcastReceiver=null;
  }
  if (mStopForeground != null) {
    Log.d(PlatformUtil.TAG,"invoke stopForeground");
    try {
      mStopForeground.invoke(this,Boolean.TRUE);
    }
 catch (    InvocationTargetException e) {
      Log.d(PlatformUtil.TAG,"invoke stopForeground failed");
    }
catch (    IllegalAccessException e) {
      Log.d(PlatformUtil.TAG,"invoke stopForeground failed");
    }
  }
 else {
    Log.d(PlatformUtil.TAG,"invoke setForeground");
    try {
      mSetForeground.invoke(this,Boolean.FALSE);
    }
 catch (    InvocationTargetException e) {
      Log.d(PlatformUtil.TAG,"invoke setForeground failed");
    }
catch (    IllegalAccessException e) {
      Log.d(PlatformUtil.TAG,"invoke setForeground failed");
    }
  }
}
