{
  if (this.dayNightMode != mode) {
    this.dayNightMode=mode;
    osmandApplication.getResourceManager().getRenderer().clearCache();
    unregisterServiceListener();
    if (dayNightMode.isSensor()) {
      registerServiceListener();
    }
  }
}
