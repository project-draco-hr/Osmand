{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.main);
  startServiceButton=(Button)findViewById(R.id.Button01);
  stopServiceButton=(Button)findViewById(R.id.Button02);
  gridView=(GridView)findViewById(R.id.GridView01);
  gridView.setNumColumns(1);
  gridView.setVerticalSpacing(3);
  gridViewAdapter=new ArrayAdapter<BatteryLogEntry>(getWindow().getContext(),R.layout.mytext);
  gridView.setAdapter(gridViewAdapter);
  startServiceButton.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      ComponentName name=getWindow().getContext().startService(serviceIntent);
      if (name != null) {
        stopServiceButton.setEnabled(true);
        startServiceButton.setEnabled(false);
      }
    }
  }
);
  stopServiceButton.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      boolean stopService=getWindow().getContext().stopService(serviceIntent);
      if (stopService) {
        stopServiceButton.setEnabled(false);
        startServiceButton.setEnabled(true);
      }
    }
  }
);
  ComponentName componentName=getWindow().getContext().startService(serviceIntent);
  startServiceButton.setEnabled(componentName == null);
  stopServiceButton.setEnabled(componentName != null);
  serviceConnection=new MyServiceConnection();
  getWindow().getContext().bindService(serviceIntent,serviceConnection,0);
}
