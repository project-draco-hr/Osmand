{
  final Activity activity=getActivity();
  OsmEditingPlugin plugin=OsmandPlugin.getPlugin(OsmEditingPlugin.class);
  final OpenstreetmapUtil mOpenstreetmapUtil;
  mOpenstreetmapUtil=new OpenstreetmapLocalUtil(plugin,activity);
  final Bundle args=getArguments();
  AlertDialog.Builder builder=new AlertDialog.Builder(activity);
  builder.setTitle(R.string.poi_remove_title);
  builder.setNegativeButton(R.string.shared_string_cancel,null);
  builder.setPositiveButton(R.string.shared_string_delete,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
      Node node=(Node)args.getSerializable(KEY_AMENITY_NODE);
      EditPoiFragment.commitNode(OsmPoint.Action.DELETE,node,mOpenstreetmapUtil.getEntityInfo(),null,false,new Runnable(){
        @Override public void run(){
          AccessibleToast.makeText(activity,getString(R.string.poi_deleted_localy),Toast.LENGTH_LONG).show();
          if (activity instanceof MapActivity) {
            ((MapActivity)activity).getMapView().refreshMap(true);
          }
        }
      }
,getActivity(),mOpenstreetmapUtil);
    }
  }
);
  return builder.create();
}
