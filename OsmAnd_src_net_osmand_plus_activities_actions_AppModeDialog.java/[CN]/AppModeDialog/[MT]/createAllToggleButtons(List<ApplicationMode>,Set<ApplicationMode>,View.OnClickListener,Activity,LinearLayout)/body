{
  if (ll.getChildCount() > 0) {
    ll.removeAllViews();
  }
  ToggleButton[] buttons;
  ll.setOrientation(LinearLayout.VERTICAL);
  buttons=new ToggleButton[allModes.size()];
  LinearLayout container=new LinearLayout(a);
  container.setOrientation(LinearLayout.HORIZONTAL);
  LayoutParams params=new LayoutParams(LayoutParams.MATCH_PARENT,LayoutParams.WRAP_CONTENT);
  container.setLayoutParams(params);
  ll.addView(container);
  for (int i=0; i < allModes.size(); i++) {
    if (i != 0 && i % 4 == 0) {
      container=new LinearLayout(a);
      container.setOrientation(LinearLayout.HORIZONTAL);
      container.setLayoutParams(params);
      ll.addView(container);
    }
    buttons[i]=createToggle(a,container,allModes.get(i),true);
  }
  for (int i=0; i < buttons.length; i++) {
    setButtonListener(allModes,selected,onClickListener,buttons,i,true);
  }
}
