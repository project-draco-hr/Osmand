{
  int margin=0;
  if (drawer) {
    margin=5;
  }
 else {
    margin=10;
  }
  int left=(int)TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,margin,ctx.getResources().getDisplayMetrics());
  int metrics=(int)TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,64,ctx.getResources().getDisplayMetrics());
  ToggleButton tb=new ToggleButton(ctx);
  tb.setTextOn("");
  tb.setTextOff("");
  tb.setContentDescription(mode.toHumanString(ctx));
  tb.setButtonDrawable(mode.getIconId());
  LayoutParams lp=new LinearLayout.LayoutParams(metrics,metrics);
  lp.setMargins(left,0,0,0);
  layout.addView(tb,lp);
  return tb;
}
