{
  if (visible.size() <= 4 && (selected.isEmpty() || visible.contains(selected.iterator().next()))) {
    return;
  }
  visible.clear();
  visible.addAll(selected);
  if (!selected.contains(ApplicationMode.DEFAULT)) {
    visible.add(0,ApplicationMode.DEFAULT);
  }
  for (  ApplicationMode mode : values) {
    if (visible.size() >= 3) {
      break;
    }
    if (!visible.contains(mode)) {
      visible.add(mode);
    }
  }
}
