{
  int margin=0;
  if (drawer) {
    margin=2;
  }
 else {
    margin=10;
  }
  int left=(int)TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,margin,ctx.getResources().getDisplayMetrics());
  int metrics=(int)TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,64,ctx.getResources().getDisplayMetrics());
  int padding=(int)TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,11,ctx.getResources().getDisplayMetrics());
  ToggleButton tb=new ToggleButton(ctx);
  tb.setTextOn("");
  tb.setTextOff("");
  tb.setContentDescription(mode.toHumanString(ctx));
  tb.setCompoundDrawablesWithIntrinsicBounds(null,ctx.getIconsCache().getIcon(mode.getIconId(),R.color.dashboard_blue),null,null);
  tb.setPadding(0,padding,0,0);
  LayoutParams lp=new LinearLayout.LayoutParams(metrics,metrics);
  lp.setMargins(left,0,0,0);
  layout.addView(tb,lp);
  return tb;
}
