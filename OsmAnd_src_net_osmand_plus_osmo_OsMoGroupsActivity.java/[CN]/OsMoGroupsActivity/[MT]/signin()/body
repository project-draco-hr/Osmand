{
  AlertDialog.Builder builder=new AlertDialog.Builder(this);
  builder.setTitle(R.string.osmo_sign_in);
  String message="";
  if (app.getSettings().OSMO_USER_PWD.get() != null) {
    message=getString(R.string.osmo_credentials_not_valid) + "\n";
  }
  message+=getString(R.string.osmo_create_groups_confirm);
  LinearLayout ll=new LinearLayout(this);
  ll.setOrientation(LinearLayout.VERTICAL);
  ll.setPadding(5,5,5,5);
  TextView tv=new TextView(this);
  tv.setText(message);
  tv.setTextSize(17);
  ll.addView(tv);
  setSupportProgressBarIndeterminateVisibility(true);
  final WebView wv=new WebView(this);
  wv.loadUrl(OsMoService.SIGN_IN_URL + app.getSettings().OSMO_DEVICE_KEY.get());
  ll.addView(wv);
  final EditText et=new EditText(this);
  et.setVisibility(View.GONE);
  ll.addView(et);
  ScrollView scrollView=new ScrollView(this);
  scrollView.addView(ll);
  builder.setView(scrollView);
  wv.setFocusable(true);
  wv.setFocusableInTouchMode(true);
  wv.requestFocus(View.FOCUS_DOWN);
  wv.setOnTouchListener(new View.OnTouchListener(){
    @Override public boolean onTouch(    View v,    MotionEvent event){
switch (event.getAction()) {
case MotionEvent.ACTION_DOWN:
case MotionEvent.ACTION_UP:
        if (!v.hasFocus()) {
          v.requestFocus();
        }
      break;
  }
  return false;
}
}
);
final AlertDialog dlg=builder.show();
wv.setWebViewClient(new WebViewClient(){
@Override public void onPageFinished(WebView view,String url){
  setSupportProgressBarIndeterminateVisibility(false);
  wv.requestFocus(View.FOCUS_DOWN);
}
public boolean shouldOverrideUrlLoading(WebView view,String url){
  if (url.contains(OsMoService.SIGNED_IN_CONTAINS)) {
    Uri data=Uri.parse(url);
    String user=data.getQueryParameter("u");
    String pwd=data.getQueryParameter("p");
    app.getSettings().OSMO_USER_NAME.set(user);
    app.getSettings().OSMO_USER_PWD.set(pwd);
    osMoPlugin.getService().reconnectToServer();
    createGroupWithDelay(3000);
    dlg.dismiss();
    return true;
  }
  return false;
}
}
);
}
