{
  app.runInUIThread(new Runnable(){
    @Override public void run(){
      if (osMoPlugin.getService().isConnectionError()) {
        CompoundButton srvc=(CompoundButton)header.findViewById(R.id.enable_service);
        if (srvc.isChecked()) {
          if (getExpandableListView().getFooterViewsCount() == 0) {
            getExpandableListView().addFooterView(footer);
          }
          adapter.clear();
        }
      }
 else {
        if (getExpandableListView().getFooterViewsCount() > 0) {
          getExpandableListView().removeFooterView(footer);
        }
      }
      updateStatus();
    }
  }
);
}
