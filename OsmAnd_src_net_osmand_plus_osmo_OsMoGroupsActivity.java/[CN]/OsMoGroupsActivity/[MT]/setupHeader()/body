{
  header=getLayoutInflater().inflate(R.layout.osmo_groups_list_header,null);
  getExpandableListView().addHeaderView(header);
  CompoundButton trackr=(CompoundButton)header.findViewById(R.id.enable_tracker);
  trackr.setChecked(osMoPlugin.getTracker().isEnabledTracker());
  trackr.setOnCheckedChangeListener(new OnCheckedChangeListener(){
    @Override public void onCheckedChanged(    CompoundButton buttonView,    boolean isChecked){
      if (isChecked) {
        osMoPlugin.getTracker().enableTracker();
        app.startNavigationService(NavigationService.USED_BY_LIVE);
        app.getSettings().SERVICE_OFF_INTERVAL.set(0);
      }
 else {
        osMoPlugin.getTracker().disableTracker();
        if (app.getNavigationService() != null) {
          app.getNavigationService().stopIfNeeded(app,NavigationService.USED_BY_LIVE);
        }
      }
      updateStatus();
    }
  }
);
  CompoundButton srvc=(CompoundButton)header.findViewById(R.id.enable_service);
  srvc.setChecked(osMoPlugin.getService().isEnabled());
  srvc.setOnCheckedChangeListener(new OnCheckedChangeListener(){
    @Override public void onCheckedChanged(    CompoundButton buttonView,    boolean isChecked){
      if (isChecked) {
        osMoPlugin.getService().connect(true);
      }
 else {
        osMoPlugin.getTracker().disableTracker();
        osMoPlugin.getService().disconnect();
        if (app.getNavigationService() != null) {
          app.getNavigationService().stopIfNeeded(app,NavigationService.USED_BY_LIVE);
        }
      }
      setSupportProgressBarIndeterminateVisibility(true);
      header.postDelayed(new Runnable(){
        @Override public void run(){
          updateStatus();
          if (osMoPlugin.getService().isConnected()) {
            adapter.synchronizeGroups();
          }
 else {
            adapter.clear();
          }
          setSupportProgressBarIndeterminateVisibility(false);
        }
      }
,3000);
    }
  }
);
  TextView mtd=(TextView)header.findViewById(R.id.motd);
  SessionInfo si=osMoPlugin.getService().getCurrentSessionInfo();
  boolean visible=si != null && si.motd != null && si.motd.length() > 0;
  mtd.setVisibility(visible ? View.VISIBLE : View.GONE);
  if (visible) {
    mtd.setText(si.motd);
  }
}
