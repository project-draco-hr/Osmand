{
  users.clear();
  sortedGroups.clear();
  final Collator clt=Collator.getInstance();
  for (  OsMoGroup key : grs.getGroups().values()) {
    sortedGroups.add(key);
    final ArrayList<OsMoDevice> list=new ArrayList<OsMoDevice>(key.users.values());
    Collections.sort(list,new Comparator<OsMoGroups.OsMoDevice>(){
      @Override public int compare(      OsMoDevice lhs,      OsMoDevice rhs){
        return clt.compare(lhs.getVisibleName(),rhs.getVisibleName());
      }
    }
);
    users.put(key,list);
  }
  Collections.sort(sortedGroups,new Comparator<OsMoGroups.OsMoGroup>(){
    @Override public int compare(    OsMoGroup lhs,    OsMoGroup rhs){
      if (lhs.isMainGroup()) {
        return 1;
      }
      if (rhs.isMainGroup()) {
        return -1;
      }
      return clt.compare(lhs.getVisibleName(OsMoGroupsActivity.this),rhs.getVisibleName(OsMoGroupsActivity.this));
    }
  }
);
  notifyDataSetChanged();
}
