{
  final Paint paintCircle=new Paint();
  final float th=11 * scaleCoefficient;
  paintCircle.setColor(Color.rgb(225,15,15));
  paintCircle.setStrokeWidth(11 * scaleCoefficient);
  paintCircle.setStyle(Style.STROKE);
  paintCircle.setAntiAlias(true);
  paintCircle.setDither(true);
  final Paint content=new Paint();
  content.setColor(Color.WHITE);
  content.setStyle(Style.FILL);
  final Paint ptext=new Paint();
  ptext.setTextSize(27 * scaleCoefficient);
  ptext.setFakeBoldText(true);
  ptext.setAntiAlias(true);
  ptext.setTextAlign(Align.CENTER);
  final MapInfoControl alarm=new MapInfoControl(ctx){
    private String text="";
    private Bitmap img=null;
    private int imgId;
    @Override public boolean updateInfo(){
      boolean limits=settings.SHOW_SPEED_LIMITS.get();
      boolean cams=settings.SHOW_CAMERAS.get();
      boolean visible=false;
      if ((limits || cams) && routingHelper != null && routingHelper.isFollowingMode()) {
        AlarmInfo alarm=routingHelper.getMostImportantAlarm(settings.METRIC_SYSTEM.get(),cams);
        if (alarm != null) {
          int locimgId=0;
          String text=null;
          if (alarm.getType() == AlarmInfo.SPEED_LIMIT) {
            text=alarm.getIntValue() + "";
          }
 else           if (alarm.getType() == AlarmInfo.SPEED_CAMERA) {
            text="CAM";
            locimgId=R.drawable.warnings_speed_camera;
          }
 else           if (alarm.getType() == AlarmInfo.BORDER_CONTROL) {
            text="CLO";
          }
 else           if (alarm.getType() == AlarmInfo.TOLL_BOOTH) {
            text="$";
          }
 else           if (alarm.getType() == AlarmInfo.TRAFFIC_CALMING) {
            text="~^~";
            locimgId=R.drawable.warnings_speed_bump;
          }
 else           if (alarm.getType() == AlarmInfo.STOP) {
          }
          visible=text != null && text.length() > 0;
          if (visible) {
            if (alarm.getType() == AlarmInfo.SPEED_CAMERA) {
              visible=cams;
            }
 else {
              visible=limits;
            }
          }
          if (visible) {
            if (locimgId != imgId) {
              imgId=locimgId;
              if (imgId == 0) {
                img=null;
              }
 else {
                img=BitmapFactory.decodeResource(getResources(),locimgId);
              }
              invalidate();
            }
            if (text != null && !text.equals(this.text)) {
              this.text=text;
              invalidate();
            }
          }
        }
      }
      updateVisibility(visible);
      return true;
    }
    @Override protected void onDraw(    Canvas canvas){
      if (img == null) {
        RectF f=new RectF(th / 2,th / 2,getWidth() - th / 2,getHeight() - th / 2);
        canvas.drawOval(f,content);
        canvas.drawOval(f,paintCircle);
        canvas.drawText(text,getWidth() / 2,getHeight() / 2 + ptext.descent() + 3 * scaleCoefficient,ptext);
      }
 else {
        canvas.drawBitmap(img,0,0,paintCircle);
      }
    }
  }
;
  return alarm;
}
