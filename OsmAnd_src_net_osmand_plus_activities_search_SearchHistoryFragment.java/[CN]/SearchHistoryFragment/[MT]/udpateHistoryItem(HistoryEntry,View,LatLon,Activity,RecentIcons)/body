{
  TextView nameText=(TextView)row.findViewById(R.id.name);
  TextView distanceText=(TextView)row.findViewById(R.id.distance);
  ImageView direction=(ImageView)row.findViewById(R.id.direction);
  direction.setImageDrawable(ri.arrowImage);
  String distance="";
  if (location != null) {
    int dist=(int)(MapUtils.getDistance(location,historyEntry.getLat(),historyEntry.getLon()));
    distance=OsmAndFormatter.getFormattedDistance(dist,(OsmandApplication)activity.getApplication()) + "  ";
  }
  distanceText.setText(distance);
  PointDescription pd=historyEntry.getName();
  nameText.setText(pd.getSimpleName(activity,historyEntry.getLat(),historyEntry.getLon()),BufferType.SPANNABLE);
  ImageView icon=((ImageView)row.findViewById(R.id.icon));
  if (historyEntry.getName().isAddress()) {
    icon.setImageDrawable(ri.addressIcon);
  }
 else   if (historyEntry.getName().isFavorite()) {
    icon.setImageDrawable(ri.favoriteIcon);
  }
 else   if (historyEntry.getName().isLocation()) {
    icon.setImageDrawable(ri.locationIcon);
  }
 else   if (historyEntry.getName().isPoi()) {
    icon.setImageDrawable(ri.poiIcon);
  }
 else   if (historyEntry.getName().isWpt()) {
    icon.setImageDrawable(ri.wptIcon);
  }
 else   if (historyEntry.getName().isAudioNote()) {
    icon.setImageDrawable(ri.audioNoteIcon);
  }
 else   if (historyEntry.getName().isVideoNote()) {
    icon.setImageDrawable(ri.videoNoteIcon);
  }
 else   if (historyEntry.getName().isPhotoNote()) {
    icon.setImageDrawable(ri.photoNoteIcon);
  }
 else {
    icon.setImageDrawable(ri.addressIcon);
  }
  String typeName=historyEntry.getName().getTypeName();
  if (typeName != null && !typeName.isEmpty()) {
    row.findViewById(R.id.type_name_icon).setVisibility(View.VISIBLE);
    ((TextView)row.findViewById(R.id.type_name)).setText(typeName);
  }
 else {
    row.findViewById(R.id.type_name_icon).setVisibility(View.GONE);
    ((TextView)row.findViewById(R.id.type_name)).setText("");
  }
}
