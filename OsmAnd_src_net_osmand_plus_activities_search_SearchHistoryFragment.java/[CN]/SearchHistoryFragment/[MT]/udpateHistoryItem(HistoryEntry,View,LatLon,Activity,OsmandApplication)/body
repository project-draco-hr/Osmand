{
  TextView nameText=(TextView)row.findViewById(R.id.name);
  TextView distanceText=(TextView)row.findViewById(R.id.distance);
  ImageView direction=(ImageView)row.findViewById(R.id.direction);
  IconsCache ic=app.getIconsCache();
  direction.setImageDrawable(ic.getIcon(R.drawable.ic_destination_arrow_white,R.color.color_distance));
  String distance="";
  if (location != null) {
    int dist=(int)(MapUtils.getDistance(location,historyEntry.getLat(),historyEntry.getLon()));
    distance=OsmAndFormatter.getFormattedDistance(dist,(OsmandApplication)activity.getApplication()) + "  ";
  }
  distanceText.setText(distance);
  PointDescription pd=historyEntry.getName();
  nameText.setText(pd.getSimpleName(activity,historyEntry.getLat(),historyEntry.getLon()),BufferType.SPANNABLE);
  ImageView icon=((ImageView)row.findViewById(R.id.icon));
  if (historyEntry.getName().isAddress()) {
    icon.setImageDrawable(ic.getContentIcon(R.drawable.ic_type_address));
  }
 else   if (historyEntry.getName().isFavorite()) {
    icon.setImageDrawable(ic.getContentIcon(R.drawable.ic_type_favorites));
  }
 else   if (historyEntry.getName().isLocation()) {
    icon.setImageDrawable(ic.getContentIcon(R.drawable.ic_type_coordinates));
  }
 else   if (historyEntry.getName().isPoi()) {
    icon.setImageDrawable(ic.getContentIcon(R.drawable.ic_type_info));
  }
 else   if (historyEntry.getName().isWpt()) {
    icon.setImageDrawable(ic.getContentIcon(R.drawable.ic_type_waypoint));
  }
 else   if (historyEntry.getName().isAudioNote()) {
    icon.setImageDrawable(ic.getContentIcon(R.drawable.ic_type_audio));
  }
 else   if (historyEntry.getName().isVideoNote()) {
    icon.setImageDrawable(ic.getContentIcon(R.drawable.ic_type_video));
  }
 else   if (historyEntry.getName().isPhotoNote()) {
    icon.setImageDrawable(ic.getContentIcon(R.drawable.ic_type_img));
  }
 else {
    icon.setImageDrawable(ic.getContentIcon(R.drawable.ic_type_address));
  }
  String typeName=historyEntry.getName().getTypeName();
  if (typeName != null && !typeName.isEmpty()) {
    row.findViewById(R.id.type_name_icon).setVisibility(View.VISIBLE);
    ((TextView)row.findViewById(R.id.type_name)).setText(typeName);
  }
 else {
    row.findViewById(R.id.type_name_icon).setVisibility(View.GONE);
    ((TextView)row.findViewById(R.id.type_name)).setText("");
  }
}
