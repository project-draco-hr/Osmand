{
  MapInfoLayer mapInfoLayer=activity.getMapLayers().getMapInfoLayer();
  final OsmandMapTileView mv=activity.getMapView();
  if (mapInfoLayer != null) {
    fps=new TextInfoWidget(activity,0,mapInfoLayer.getPaintText(),mapInfoLayer.getPaintSubText()){
      @Override public boolean updateInfo(      DrawSettings drawSettings){
        if (!mv.isMeasureFPS()) {
          mv.setMeasureFPS(true);
        }
        setText("",Integer.toString((int)mv.getFPS()) + "/" + Integer.toString((int)mv.getSecondaryFPS())+ " FPS");
        return true;
      }
    }
;
    mapInfoLayer.getMapInfoControls().registerSideWidget(fps,R.drawable.widget_no_icon,R.string.map_widget_fps_info,"fps",false,30);
    mapInfoLayer.recreateControls();
  }
}
