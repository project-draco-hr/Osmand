{
  TextView descriptionText=(TextView)view.findViewById(R.id.sizeFreeTextView);
  ProgressBar sizeProgress=(ProgressBar)view.findViewById(R.id.memoryLeftProgressBar);
  File dir=getMyApplication().getAppPath("").getParentFile();
  String size=formatGb.format(new Object[]{0});
  int percent=0;
  if (dir.canRead()) {
    StatFs fs=new StatFs(dir.getAbsolutePath());
    size=formatGb.format(new Object[]{(float)(fs.getAvailableBlocks()) * fs.getBlockSize() / (1 << 30)});
    percent=100 - (int)(fs.getAvailableBlocks() * 100 / fs.getBlockCount());
  }
  sizeProgress.setProgress(percent);
  String text=getString(R.string.free,size);
  int l=text.indexOf('.');
  if (l == -1) {
    l=text.length();
  }
  descriptionText.setText(text);
  descriptionText.setMovementMethod(LinkMovementMethod.getInstance());
}
