{
  ((OsmandApplication)getApplication()).applyTheme(this);
  super.onCreate(savedInstanceState);
  setContentView(R.layout.tab_content);
  OsmandSettings settings=((OsmandApplication)getApplication()).getSettings();
  tabHost=(TabHost)findViewById(android.R.id.tabhost);
  tabHost.setup();
  ViewPager viewPager=(ViewPager)findViewById(R.id.pager);
  mTabsAdapter=new FavouritesActivity.TabsAdapter(this,tabHost,viewPager,settings);
  mTabsAdapter.addTab(tabHost.newTabSpec("LOCAL_INDEX").setIndicator("Local maps"),LocalIndexesFragment.class,null);
  mTabsAdapter.addTab(tabHost.newTabSpec("DOWNLOADS").setIndicator("Downloads"),DownloadIndexFragment.class,null);
  mTabsAdapter.addTab(tabHost.newTabSpec("UPDATES").setIndicator("Updates"),UpdatesIndexFragment.class,null);
  tabHost.setCurrentTab(0);
  if (downloadListIndexThread == null) {
    downloadListIndexThread=new DownloadIndexesThread(this);
  }
  if (downloadListIndexThread.getCachedIndexFiles() != null && downloadListIndexThread.isDownloadedFromInternet()) {
    downloadListIndexThread.runCategorization(type);
  }
 else {
    downloadListIndexThread.runReloadIndexFiles();
  }
}
