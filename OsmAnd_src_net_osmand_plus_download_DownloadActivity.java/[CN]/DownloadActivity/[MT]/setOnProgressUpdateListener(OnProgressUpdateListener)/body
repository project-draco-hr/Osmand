{
  this.onProgressUpdateListener=onProgressUpdateListener;
  if (onProgressUpdateListener == null)   return;
  BasicProgressAsyncTask<?,?,?> basicProgressAsyncTask=DownloadActivity.downloadListIndexThread.getCurrentRunningTask();
  final boolean isFinished=basicProgressAsyncTask == null || basicProgressAsyncTask.getStatus() == AsyncTask.Status.FINISHED;
  if (isFinished) {
    onProgressUpdateListener.onFinished();
  }
 else {
    onProgressUpdateListener.onProgressUpdate(basicProgressAsyncTask.getProgressPercentage(),downloadListIndexThread.getDownloads());
  }
}
