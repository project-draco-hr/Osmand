{
  if (!shouldShowFreeVersionBanner) {
    freeVersionBanner.setVisibility(View.GONE);
    return;
  }
  freeVersionBanner.setVisibility(View.VISIBLE);
  downloadsLeftProgressBar.setMax(BaseDownloadActivity.MAXIMUM_AVAILABLE_FREE_DOWNLOADS);
  freeVersionDescriptionTextView.setText(ctx.getString(R.string.free_version_message,BaseDownloadActivity.MAXIMUM_AVAILABLE_FREE_DOWNLOADS));
  freeVersionBanner.findViewById(R.id.getFullVersionButton).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      BaseDownloadActivity context=(BaseDownloadActivity)v.getContext();
      Intent intent=new Intent(Intent.ACTION_VIEW,Uri.parse(Version.marketPrefix(context.getMyApplication()) + "net.osmand.plus"));
      try {
        context.startActivity(intent);
      }
 catch (      ActivityNotFoundException e) {
      }
    }
  }
);
  laterButton.setOnClickListener(new ToggleCollapseFreeVersionBanner(freeVersionDescriptionTextView,buttonsLinearLayout));
}
