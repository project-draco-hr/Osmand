{
  if (!shouldShowFreeVersionBanner)   return;
  setMinimizedFreeVersionBanner(false);
  OsmandSettings settings=application.getSettings();
  final Integer mapsDownloaded=settings.NUMBER_OF_FREE_DOWNLOADS.get();
  downloadsLeftProgressBar.setProgress(mapsDownloaded);
  int downloadsLeft=BaseDownloadActivity.MAXIMUM_AVAILABLE_FREE_DOWNLOADS - mapsDownloaded;
  downloadsLeft=Math.max(downloadsLeft,0);
  if (downloadsLeft <= 0) {
    laterButton.setVisibility(View.GONE);
  }
  downloadsLeftTextView.setText(ctx.getString(R.string.downloads_left_template,downloadsLeft));
  freeVersionBanner.setOnClickListener(new ToggleCollapseFreeVersionBanner(freeVersionDescriptionTextView,buttonsLinearLayout,freeVersionBannerTitle));
}
