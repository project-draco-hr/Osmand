{
  final boolean isFinished=basicProgressAsyncTask == null || basicProgressAsyncTask.getStatus() == AsyncTask.Status.FINISHED;
  if (isFinished) {
    downloadProgressLayout.setVisibility(View.GONE);
    updateFreeVersionBanner();
  }
 else {
    boolean indeterminate=basicProgressAsyncTask.isIndeterminate();
    String message=basicProgressAsyncTask.getDescription();
    int percent=basicProgressAsyncTask.getProgressPercentage();
    setMinimizedFreeVersionBanner(true);
    updateAvailableDownloads(countedDownloads);
    downloadProgressLayout.setVisibility(View.VISIBLE);
    progressBar.setIndeterminate(indeterminate);
    if (indeterminate) {
      leftTextView.setText(message);
    }
 else {
      progressBar.setProgress(percent);
      leftTextView.setText(message);
      rightTextView.setText(percent + "%");
    }
  }
}
