{
  if (method != null) {
    ITypeBinding clazz=method.getDeclaringClass();
    ITypeBinding superclass=clazz.getSuperclass();
    if (superclass != null) {
      for (      IMethodBinding interfaceMethod : superclass.getDeclaredMethods()) {
        if (!(interfaceMethod instanceof IOSMethodBinding) && method.overrides(interfaceMethod)) {
          IMethodBinding decl=interfaceMethod.getMethodDeclaration();
          return decl != null ? decl : interfaceMethod.getMethodDeclaration();
        }
      }
    }
    Set<ITypeBinding> allInterfaces=Sets.newHashSet();
    while (clazz != null) {
      allInterfaces.addAll(getAllInterfaces(clazz));
      clazz=clazz.getSuperclass();
    }
    for (    ITypeBinding interfaceBinding : allInterfaces) {
      for (      IMethodBinding interfaceMethod : interfaceBinding.getDeclaredMethods()) {
        if (method.overrides(interfaceMethod)) {
          IMethodBinding decl=interfaceMethod.getMethodDeclaration();
          return decl != null ? decl : interfaceMethod.getMethodDeclaration();
        }
      }
    }
  }
  return method;
}
