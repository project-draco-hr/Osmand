{
  return new AsyncTask<Object,Object,List<BinaryMapDataObject>>(){
    @Override protected List<BinaryMapDataObject> doInBackground(    Object... params){
      if (queriedBox != null && !queriedBox.containsTileBox(tileBox) && Math.abs(queriedBox.getZoom() - tileBox.getZoom()) <= ZOOM_THRESHOLD) {
        return null;
      }
      if (tileBox.getZoom() < ZOOM_TO_SHOW_MAP_NAMES) {
        basemapExists=rm.getRenderer().basemapExists();
      }
      List<BinaryMapDataObject> result=null;
      int left=MapUtils.get31TileNumberX(tileBox.getLeftTopLatLon().getLongitude());
      int right=MapUtils.get31TileNumberX(tileBox.getRightBottomLatLon().getLongitude());
      int top=MapUtils.get31TileNumberY(tileBox.getLeftTopLatLon().getLatitude());
      int bottom=MapUtils.get31TileNumberY(tileBox.getRightBottomLatLon().getLatitude());
      final boolean empty=rm.getRenderer().checkIfMapIsEmpty(left,right,top,bottom,tileBox.getZoom());
      noMapsPresent=empty;
      if (!empty && tileBox.getZoom() >= ZOOM_TO_SHOW_MAP_NAMES) {
        return Collections.emptyList();
      }
      try {
        result=osmandRegions.queryBbox(left,right,top,bottom);
      }
 catch (      IOException e) {
        return result;
      }
      Iterator<BinaryMapDataObject> it=result.iterator();
      while (it.hasNext()) {
        BinaryMapDataObject o=it.next();
        if (tileBox.getZoom() < ZOOM_TO_SHOW_BORDERS) {
        }
 else {
          if (!osmandRegions.contain(o,left / 2 + right / 2,top / 2 + bottom / 2)) {
            it.remove();
          }
        }
      }
      return result;
    }
    @Override protected void onPreExecute(){
      currentTask=this;
    }
    @Override protected void onPostExecute(    List<BinaryMapDataObject> result){
      if (result != null) {
        queriedBox=tileBox;
        objectsToDraw=result;
      }
      currentTask=null;
      if (pendingTask != null) {
        executeTaskInBackground(pendingTask);
        pendingTask=null;
      }
    }
  }
;
}
