{
  RandomAccessFile raf=new RandomAccessFile(new File("d:\\android\\data\\Belarus.obf"),"r");
  BinaryMapIndexReader reader=new BinaryMapIndexReader(raf);
  BinaryRouteDataReader router=new BinaryRouteDataReader(reader);
  double lon=27.6024;
  double lat=53.9141;
  double elon=27.6018;
  double elat=53.9223;
  RoutingContext ctx=new RoutingContext();
  long ms=System.currentTimeMillis();
  RouteSegment start=router.findRouteSegment(lat,lon,ctx);
  if (start != null) {
    BinaryMapDataObject road=start.road;
    TagValuePair pair=road.mapIndex.decodeType(road.getTypes()[0]);
    System.out.println("ROAD TO START " + pair.tag + " "+ pair.value+ " "+ road.name+ " "+ start.segmentStart+ " "+ (road.id >> 1));
  }
  RouteSegment end=router.findRouteSegment(elat,elon,ctx);
  if (end != null) {
    BinaryMapDataObject road=end.road;
    TagValuePair pair=road.mapIndex.decodeType(road.getTypes()[0]);
    System.out.println("ROAD TO END " + pair.tag + " "+ pair.value+ " "+ road.name+ " "+ end.segmentStart+ " "+ (road.id >> 1));
  }
  for (  RouteSegmentResult s : router.searchRoute(ctx,start,end)) {
    double dist=MapUtils.getDistance(s.startPoint,s.endPoint);
    System.out.println("Street " + s.object.name + " distance "+ dist);
  }
  Collection<BinaryMapDataObject> res=ctx.values();
  System.out.println(res.size() + " objects for " + (System.currentTimeMillis() - ms)+ " ms");
  LatLon ls=new LatLon(0,5);
  LatLon le=new LatLon(1,5);
  System.out.println("X equator " + MapUtils.getDistance(ls,le) / (MapUtils.get31TileNumberX(ls.getLongitude()) - MapUtils.get31TileNumberX(le.getLongitude())));
  System.out.println("Y equator " + MapUtils.getDistance(ls,le) / (MapUtils.get31TileNumberY(ls.getLatitude()) - MapUtils.get31TileNumberY(le.getLatitude())));
}
