{
  TagValuePair pair=road.getTagValue(0);
  double speed=MapRenderingTypes.getMaxSpeedIfDefined(road.getHighwayAttributes()) / 3.6d;
  boolean highway="highway".equals(pair.tag);
  double priority=highway && autoPriorityValues.containsKey(pair.value) ? autoPriorityValues.get(pair.value) : 1d;
  if (speed == 0 && highway) {
    Double value=autoNotDefinedValues.get(pair.value);
    if (value == null) {
      value=50d;
    }
    speed=value / 3.6d;
  }
  return speed * priority;
}
