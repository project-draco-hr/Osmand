{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.preference_activity);
  toolbar=(Toolbar)findViewById(R.id.toolbar);
  if (VERSION.SDK_INT >= VERSION_CODES.LOLLIPOP) {
    shadowView=findViewById(R.id.shadowView);
    final ViewGroup parent=(ViewGroup)shadowView.getParent();
    parent.removeView(shadowView);
    shadowView=null;
  }
  toolbar.setClickable(true);
  toolbar.setNavigationIcon(getResIdFromAttribute(this,R.attr.homeAsUpIndicator));
  toolbar.setNavigationOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    final View v){
      finish();
    }
  }
);
  if (((OsmandApplication)getApplication()).getSettings().isLightActionBar()) {
    toolbar.setBackgroundColor(getResources().getColor(R.color.actionbar_light_color));
    toolbar.setTitleTextColor(getResources().getColor(R.color.color_white));
  }
 else {
    toolbar.setBackgroundColor(getResources().getColor(R.color.actionbar_dark_color));
  }
  getSpinner().setVisibility(View.GONE);
  setProgressVisibility(false);
}
