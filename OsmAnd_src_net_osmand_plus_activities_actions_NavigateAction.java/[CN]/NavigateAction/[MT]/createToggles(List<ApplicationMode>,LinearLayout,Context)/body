{
  final ToggleButton[] buttons=new ToggleButton[values.size()];
  int k=0;
  int left=(int)TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,10,ctx.getResources().getDisplayMetrics());
  int metrics=(int)TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,64,ctx.getResources().getDisplayMetrics());
  for (  ApplicationMode ma : values) {
    ToggleButton tb=new ToggleButton(ctx);
    buttons[k++]=tb;
    tb.setTextOn("");
    tb.setTextOff("");
    tb.setContentDescription(ma.toHumanString(ctx));
    tb.setButtonDrawable(ma.getIconId());
    LayoutParams lp=new LinearLayout.LayoutParams(metrics,metrics);
    lp.setMargins(left,0,0,0);
    topLayout.addView(tb,lp);
  }
  return buttons;
}
