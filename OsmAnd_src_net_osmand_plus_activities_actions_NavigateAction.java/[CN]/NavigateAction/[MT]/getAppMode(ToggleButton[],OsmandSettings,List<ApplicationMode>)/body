{
  for (int i=0; i < buttons.length; i++) {
    if (buttons[i] != null && buttons[i].isChecked() && i < modes.size()) {
      return modes.get(i);
    }
  }
  return settings.getApplicationMode();
}
