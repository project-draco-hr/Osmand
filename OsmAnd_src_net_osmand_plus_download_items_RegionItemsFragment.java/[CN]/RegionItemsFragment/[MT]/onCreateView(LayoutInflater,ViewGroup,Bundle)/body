{
  View view=inflater.inflate(R.layout.download_items_fragment,container,false);
  if (savedInstanceState != null) {
    regionId=savedInstanceState.getString(REGION_ID_KEY);
  }
  if (regionId == null) {
    regionId=getArguments().getString(REGION_ID_KEY);
  }
  ExpandableListView listView=(ExpandableListView)view.findViewById(android.R.id.list);
  listAdapter=new RegionsItemsAdapter(getActivity());
  listView.setAdapter(listAdapter);
  setListView(listView);
  if (regionId != null) {
    ItemsListBuilder builder=getDownloadActivity().getItemsBuilder(regionId);
    if (builder != null && builder.build()) {
      fillRegionItemsAdapter(builder);
      listAdapter.notifyDataSetChanged();
      expandAllGroups();
    }
  }
  return view;
}
