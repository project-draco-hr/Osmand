{
  final StageInformation st=selectedStage;
  cachedFavorites=new ArrayList<FavouritePoint>();
  for (  Object o : st.favorites) {
    if (o instanceof StageFavorite) {
      StageFavorite sf=(StageFavorite)o;
      FavouritePoint fp=new FavouritePoint(sf.getLatLon().getLatitude(),sf.getLatLon().getLongitude(),sf.getName(),sf.getGroup() == null ? "" : sf.getGroup().name);
      if (sf.getGroup() != null && sf.getGroup().getColor() != 0) {
        fp.setColor(sf.getGroup().getColor());
      }
      fp.setRemoveable(false);
      fp.setExtraParam(sf.getOrder());
      cachedFavorites.add(fp);
    }
  }
  if (st != null && st.gpxFile != null) {
    if (st.gpx == null) {
      st.gpx=GPXUtilities.loadGPXFile(app,st.gpxFile);
    }
  }
}
