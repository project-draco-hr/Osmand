{
  if (progress != null) {
    progress.startTask(app.getString(R.string.indexing_tour,tr.getName()),-1);
  }
  File settingsFile=new File(tr,"settings.props");
  FileSettingsAPIImpl fapi;
  try {
    fapi=new FileSettingsAPIImpl(app,settingsFile);
    if (!settingsFile.exists()) {
      fapi.saveFile();
    }
    app.getSettings().setSettingsAPI(fapi);
  }
 catch (  IOException e) {
    app.showToastMessage(R.string.settings_file_create_error);
  }
  tourInformation.loadFullInformation();
  selectedTour=tourInformation;
}
