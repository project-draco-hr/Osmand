{
  final View addParking=mapActivity.getLayoutInflater().inflate(R.layout.choose_type_of_parking,null);
  Builder choose=new AlertDialog.Builder(mapActivity);
  choose.setView(addParking);
  choose.setTitle("Choose the type of parking");
  final AlertDialog create=choose.create();
  ImageButton limitButton=(ImageButton)addParking.findViewById(R.id.parking_lim_button);
  limitButton.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      create.dismiss();
      settings.setParkingPosition(latitude,longitude);
      settings.setParkingType(true);
      if (mapActivity.getMapView().getLayers().contains(parkingLayer))       parkingLayer.setParkingPoint(settings.getParkingPosition());
      final View setTimeParking=mapActivity.getLayoutInflater().inflate(R.layout.set_time_of_parking,null);
      Builder setTime=new AlertDialog.Builder(mapActivity);
      setTime.setView(setTimeParking);
      setTime.setTitle("Set the time limit of parking");
      setTime.setNegativeButton(R.string.default_buttons_cancel,null);
      setTime.setPositiveButton(R.string.default_buttons_ok,new DialogInterface.OnClickListener(){
        @Override public void onClick(        DialogInterface dialog,        int which){
          create.dismiss();
          TimePicker timePicker=(TimePicker)setTimeParking.findViewById(R.id.parkingTimePicker);
          settings.setParkingHour(timePicker.getCurrentHour());
          settings.setParkingMinute(timePicker.getCurrentMinute());
        }
      }
);
      setTime.create();
      setTime.show();
    }
  }
);
  ImageButton noLimitButton=(ImageButton)addParking.findViewById(R.id.parking_no_lim_button);
  noLimitButton.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      create.dismiss();
      settings.setParkingPosition(latitude,longitude);
      settings.setParkingType(false);
      if (mapActivity.getMapView().getLayers().contains(parkingLayer))       parkingLayer.setParkingPoint(settings.getParkingPosition());
    }
  }
);
  choose.show();
}
