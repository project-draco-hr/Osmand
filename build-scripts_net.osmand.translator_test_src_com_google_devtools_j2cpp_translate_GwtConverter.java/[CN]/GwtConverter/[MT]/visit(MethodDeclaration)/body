{
  @SuppressWarnings("unchecked") List<IExtendedModifier> modifiers=node.modifiers();
  if (hasAnnotation(GwtIncompatible.class,modifiers)) {
    ASTNode parent=node.getParent();
    if (parent instanceof TypeDeclarationStatement) {
      parent=((TypeDeclarationStatement)parent).getDeclaration();
    }
    if (parent instanceof AbstractTypeDeclaration) {
      ((AbstractTypeDeclaration)parent).bodyDeclarations().remove(node);
    }
 else     if (parent instanceof AnonymousClassDeclaration) {
      ((AnonymousClassDeclaration)parent).bodyDeclarations().remove(node);
    }
 else {
      throw new AssertionError("unknown parent type: " + parent.getClass().getSimpleName());
    }
  }
  return true;
}
