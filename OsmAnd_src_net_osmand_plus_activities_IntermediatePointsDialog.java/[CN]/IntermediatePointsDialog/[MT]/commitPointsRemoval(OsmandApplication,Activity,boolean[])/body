{
  int cnt=0;
  for (int i=checkedIntermediates.length - 1; i >= 0; i--) {
    if (!checkedIntermediates[i]) {
      cnt++;
    }
  }
  if (cnt > 0) {
    for (int i=checkedIntermediates.length - 1; i >= 0; i--) {
      if (!checkedIntermediates[i]) {
        cnt--;
        app.getTargetPointsHelper().removeWayPoint((MapActivity)(mapActivity instanceof MapActivity ? mapActivity : null),cnt == 0,i);
      }
    }
    if (mapActivity instanceof MapActivity) {
      ((MapActivity)mapActivity).getMapLayers().getContextMenuLayer().setLocation(null,"");
    }
  }
}
