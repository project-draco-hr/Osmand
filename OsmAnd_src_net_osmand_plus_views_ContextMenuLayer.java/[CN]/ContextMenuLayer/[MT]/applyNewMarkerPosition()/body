{
  if (!mInChangeMarkerPositionMode) {
    throw new IllegalStateException("Not in change marker position mode");
  }
  mInChangeMarkerPositionMode=false;
  RotatedTileBox tileBox=activity.getMapView().getCurrentRotatedTileBox();
  PointF newMarkerPosition=getMoveableCenterPoint(tileBox);
  LatLon ll=tileBox.getLatLonFromPixel(newMarkerPosition.x,newMarkerPosition.y);
  applyMovedObject(getMoveableObject(),ll);
  showContextMenu(newMarkerPosition,tileBox,true);
  view.refreshMap();
}
