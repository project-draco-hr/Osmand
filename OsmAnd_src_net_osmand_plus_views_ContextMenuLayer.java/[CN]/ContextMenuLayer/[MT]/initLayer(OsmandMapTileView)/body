{
  this.view=view;
  dm=new DisplayMetrics();
  WindowManager wmgr=(WindowManager)view.getContext().getSystemService(Context.WINDOW_SERVICE);
  wmgr.getDefaultDisplay().getMetrics(dm);
  scaleCoefficient=dm.density;
  if (Math.min(dm.widthPixels / (dm.density * 160),dm.heightPixels / (dm.density * 160)) > 2.5f) {
    scaleCoefficient*=1.5f;
  }
  BASE_TEXT_SIZE=(int)(BASE_TEXT_SIZE * scaleCoefficient);
  SHADOW_OF_LEG=(int)(SHADOW_OF_LEG * scaleCoefficient);
  boxLeg=view.getResources().getDrawable(R.drawable.box_leg);
  boxLeg.setBounds(0,0,boxLeg.getMinimumWidth(),boxLeg.getMinimumHeight());
  textView=new TextView(view.getContext());
  LayoutParams lp=new LayoutParams(BASE_TEXT_SIZE,LayoutParams.WRAP_CONTENT);
  textView.setLayoutParams(lp);
  textView.setTextSize(15 * scaleCoefficient);
  textView.setTextColor(Color.argb(255,0,0,0));
  textView.setMinLines(1);
  textView.setGravity(Gravity.CENTER_HORIZONTAL);
  textView.setClickable(true);
  textView.setBackgroundDrawable(view.getResources().getDrawable(R.drawable.box_free));
}
