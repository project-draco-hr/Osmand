{
  long szLong=0;
  int i=0;
  for (  IndexItem es : downloadThread.getCurrentDownloadingItems()) {
    szLong+=es.contentSize;
    i++;
  }
  for (  IndexItem es : items) {
    szLong+=es.contentSize;
    i++;
  }
  double sz=((double)szLong) / (1 << 20);
  double asz=downloadThread.getAvailableSpace();
  if (asz != -1 && asz > 0 && sz / asz > 0.4) {
    AlertDialog.Builder builder=new AlertDialog.Builder(context);
    builder.setMessage(MessageFormat.format(context.getString(R.string.download_files_question_space),i,sz,asz));
    builder.setPositiveButton(R.string.shared_string_yes,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
        downloadFileCheck_Final_Run(context,items);
      }
    }
);
    builder.setNegativeButton(R.string.shared_string_no,null);
    builder.show();
  }
 else {
    downloadFileCheck_Final_Run(context,items);
  }
}
