{
  routeAnimation=new Thread(){
    @Override public void run(){
      Location current=directions.isEmpty() ? null : new Location(directions.remove(0));
      Location prev=null;
      float meters=metersToGoInFiveSteps(directions,current);
      while (!directions.isEmpty() && routeAnimation != null) {
        if (current.distanceTo(directions.get(0)) > meters) {
          current=LatLonUtils.middleLocation(current,directions.get(0),meters);
        }
 else {
          current=new Location(directions.remove(0));
          meters=metersToGoInFiveSteps(directions,current);
        }
        current.setSpeed(meters);
        current.setTime(System.currentTimeMillis());
        current.setAccuracy(5);
        if (prev != null) {
          current.setBearing(prev.bearingTo(current));
        }
        final Location toset=current;
        ma.runOnUiThread(new Runnable(){
          @Override public void run(){
            ma.setLocation(toset);
          }
        }
);
        try {
          Thread.sleep(1500);
        }
 catch (        InterruptedException e) {
        }
        prev=current;
      }
      RouteAnimation.this.stop();
    }
  }
;
  routeAnimation.start();
}
