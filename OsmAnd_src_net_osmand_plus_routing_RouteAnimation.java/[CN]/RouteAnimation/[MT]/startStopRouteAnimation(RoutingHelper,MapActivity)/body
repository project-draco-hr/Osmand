{
  final LocationManager mgr=(LocationManager)ma.getSystemService(Context.LOCATION_SERVICE);
  if (!isRouteAnimating()) {
    Builder builder=new AlertDialog.Builder(ma);
    builder.setTitle("Do you want to use existing GPX file?");
    builder.setPositiveButton(R.string.default_buttons_yes,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
        ma.getMapLayers().selectGPXFileLayer(new CallbackWithObject<GPXUtilities.GPXFile>(){
          @Override public boolean processResult(          GPXUtilities.GPXFile result){
            GPXRouteParams prms=new RouteProvider.GPXRouteParams(result,false,((OsmandApplication)ma.getApplication()).getSettings());
            mgr.removeUpdates(ma.getGpsListener());
            startAnimationThread(routingHelper,ma,prms.points);
            return true;
          }
        }
,true,false);
      }
    }
);
    builder.setNegativeButton(R.string.default_buttons_no,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
        mgr.removeUpdates(ma.getGpsListener());
        startAnimationThread(routingHelper,ma,new ArrayList<Location>(routingHelper.getCurrentRoute()));
      }
    }
);
    builder.show();
  }
 else {
    mgr.requestLocationUpdates(LocationManager.GPS_PROVIDER,1000,0,ma.getGpsListener());
    stop();
  }
}
