{
  if (item.getItemId() == R.id.map_show_location) {
    float f=(Runtime.getRuntime().totalMemory()) / 1e6f;
    String text=MessageFormat.format("Latitude : {0}, longitude : {1}, zoom : {2}, memory : {3}",mapView.getLatitude(),mapView.getLongitude(),mapView.getZoom(),f);
    Toast.makeText(this,text,Toast.LENGTH_SHORT).show();
    return true;
  }
 else   if (item.getItemId() == R.id.map_show_settings) {
    final Intent settings=new Intent(MapActivity.this,SettingsActivity.class);
    startActivity(settings);
    return true;
  }
 else   if (item.getItemId() == R.id.map_specify_point) {
    openChangeLocationDialog();
    return true;
  }
 else   if (item.getItemId() == R.id.map_navigate_to_point) {
    if (navigationLayer.getPointToNavigate() != null) {
      getPreferences(MODE_WORLD_READABLE).edit().remove(POINT_NAVIGATE_LAT).remove(POINT_NAVIGATE_LON).commit();
      item.setTitle(R.string.navigate_to_point);
      navigateToPoint(null);
    }
 else {
      getPreferences(MODE_WORLD_READABLE).edit().putFloat(POINT_NAVIGATE_LAT,(float)mapView.getLatitude()).putFloat(POINT_NAVIGATE_LON,(float)mapView.getLongitude()).commit();
      item.setTitle(R.string.stop_navigation);
      navigateToPoint(new LatLon(mapView.getLatitude(),mapView.getLongitude()));
    }
  }
  return super.onOptionsItemSelected(item);
}
