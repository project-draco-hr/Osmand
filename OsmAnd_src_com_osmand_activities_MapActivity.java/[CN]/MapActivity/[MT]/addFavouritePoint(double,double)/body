{
  final Resources resources=this.getResources();
  final FavouritePoint p=new FavouritesActivity.FavouritePoint();
  p.setLatitude(latitude);
  p.setLongitude(longitude);
  p.setName(resources.getString(R.string.add_favorite_dialog_default_favourite_name));
  Builder builder=new AlertDialog.Builder(this);
  builder.setTitle(R.string.add_favorite_dialog_top_text);
  final EditText editText=new EditText(this);
  builder.setView(editText);
  builder.setNegativeButton(R.string.default_buttons_cancel,null);
  builder.setPositiveButton(R.string.default_buttons_add,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
      FavouritesDbHelper helper=new FavouritesActivity.FavouritesDbHelper(MapActivity.this);
      p.setName(editText.getText().toString());
      boolean added=helper.addFavourite(p);
      if (added) {
        Toast.makeText(MapActivity.this,MessageFormat.format(resources.getString(R.string.add_favorite_dialog_favourite_added_template),p.getName()),Toast.LENGTH_SHORT).show();
      }
      helper.close();
    }
  }
);
  builder.create().show();
}
