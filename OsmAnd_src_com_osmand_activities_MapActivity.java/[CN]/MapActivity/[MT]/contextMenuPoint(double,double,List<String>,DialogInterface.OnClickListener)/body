{
  Builder builder=new AlertDialog.Builder(this);
  Resources resources=this.getResources();
  final int sizeAdditional=additionalActions == null || additionalItems == null ? 0 : additionalItems.size();
  List<String> actions=new ArrayList<String>();
  if (sizeAdditional > 0) {
    actions.addAll(additionalItems);
  }
  actions.add(resources.getString(R.string.context_menu_item_navigate_point));
  actions.add(resources.getString(R.string.context_menu_item_search_poi));
  actions.add(resources.getString(R.string.context_menu_item_show_route));
  actions.add(resources.getString(R.string.context_menu_item_add_favorite));
  actions.add(resources.getString(R.string.context_menu_item_create_poi));
  actions.add(resources.getString(R.string.context_menu_item_open_bug));
  actions.add(resources.getString(R.string.context_menu_item_update_map));
  builder.setItems(actions.toArray(new String[actions.size()]),new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
      if (which < sizeAdditional) {
        additionalActions.onClick(dialog,which);
        return;
      }
      which-=sizeAdditional;
      if (which == 0) {
        navigateToPoint(new LatLon(latitude,longitude));
      }
 else       if (which == 1) {
        Intent intent=new Intent(MapActivity.this,SearchPoiFilterActivity.class);
        intent.putExtra(SearchPoiFilterActivity.SEARCH_LAT,latitude);
        intent.putExtra(SearchPoiFilterActivity.SEARCH_LON,longitude);
        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
        startActivity(intent);
      }
 else       if (which == 2) {
        getDirections(latitude,longitude,false);
      }
 else       if (which == 3) {
        addFavouritePoint(latitude,longitude);
      }
 else       if (which == 4) {
        EditingPOIActivity activity=new EditingPOIActivity(MapActivity.this,mapView);
        activity.showCreateDialog(latitude,longitude);
      }
 else       if (which == 5) {
        osmBugsLayer.openBug(MapActivity.this,getLayoutInflater(),mapView,latitude,longitude);
      }
 else       if (which == 6) {
        reloadTile(mapView.getZoom(),latitude,longitude);
      }
    }
  }
);
  builder.create().show();
}
