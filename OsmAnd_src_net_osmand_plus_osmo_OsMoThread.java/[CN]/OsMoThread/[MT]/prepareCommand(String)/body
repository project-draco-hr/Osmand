{
  boolean addNL=true;
  StringBuilder res=new StringBuilder();
  int i=0;
  while (true) {
    int ni=l.indexOf('\n');
    if (ni == l.length() - 1) {
      res.append(l.substring(i));
      addNL=false;
      break;
    }
 else     if (ni == -1) {
      res.append(l.substring(i));
      break;
    }
 else {
      res.append(l.substring(i,ni));
      res.append("\\").append("n");
    }
    i=ni + 1;
  }
  if (addNL) {
    l+="\n";
  }
  return res;
}
