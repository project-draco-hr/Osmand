{
  if (authorized == 0) {
    String auth="TOKEN|" + sessionInfo.token;
    log.info("OSMO send:" + auth);
    authorized=1;
    return ByteBuffer.wrap(prepareCommand(auth).toString().getBytes("UTF-8"));
  }
  if (authorized == 1) {
    return null;
  }
  for (  OsMoSender s : listSenders) {
    String l=s.nextSendCommand(this);
    if (l != null) {
      StringBuilder res=prepareCommand(l);
      log.info("OSMO send " + res);
      return ByteBuffer.wrap(res.toString().getBytes("UTF-8"));
    }
  }
  return null;
}
