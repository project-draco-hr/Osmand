{
  if (location.hasSpeed()) {
    long now=System.currentTimeMillis();
    final RotatedTileBox tb=mapView.getCurrentRotatedTileBox();
    float zdelta=defineZoomFromSpeed(tb,location.getSpeed());
    if (Math.abs(zdelta) >= OsmandMapTileView.ZOOM_DELTA_1) {
      if (zdelta >= 2) {
        zdelta-=3 * OsmandMapTileView.ZOOM_DELTA_1;
      }
 else       if (zdelta <= -2) {
        zdelta+=3 * OsmandMapTileView.ZOOM_DELTA_1;
      }
      if (now - lastTimeAutoZooming > 4500) {
        lastTimeAutoZooming=now;
        float complexZoom=tb.getZoom() + tb.getZoomScale();
        float newZoom=Math.round((complexZoom + zdelta) * OsmandMapTileView.ZOOM_DELTA) * OsmandMapTileView.ZOOM_DELTA_1;
        final int tz=(int)newZoom;
        mapView.setComplexZoom(tz,newZoom - tz);
      }
    }
  }
}
