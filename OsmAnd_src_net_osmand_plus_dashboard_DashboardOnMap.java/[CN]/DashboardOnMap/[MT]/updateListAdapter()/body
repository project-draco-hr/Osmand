{
  ContextMenuAdapter cm=null;
  if (DashboardType.WAYPOINTS == visibleType || DashboardType.WAYPOINTS_FLAT == visibleType) {
    StableArrayAdapter listAdapter=waypointDialogHelper.getWaypointsDrawerAdapter(true,deletedPoints,mapActivity,running,DashboardType.WAYPOINTS_FLAT == visibleType,nightMode);
    OnItemClickListener listener=waypointDialogHelper.getDrawerItemClickListener(mapActivity,running,listAdapter);
    setDynamicListItems((DynamicListView)listView,listAdapter);
    updateListAdapter(listAdapter,listener);
  }
 else   if (DashboardType.MAP_MARKERS == visibleType || visibleType == DashboardType.MAP_MARKERS_SELECTION) {
    mapMarkerDialogHelper.setSelectionMode(visibleType == DashboardType.MAP_MARKERS_SELECTION);
    mapMarkerDialogHelper.setNightMode(nightMode);
    StableArrayAdapter listAdapter=mapMarkerDialogHelper.getMapMarkersListAdapter();
    OnItemClickListener listener=mapMarkerDialogHelper.getItemClickListener(listAdapter);
    setDynamicListItems((DynamicListView)listView,listAdapter);
    updateListAdapter(listAdapter,listener);
  }
 else {
    if (DashboardType.CONFIGURE_SCREEN == visibleType) {
      cm=mapActivity.getMapLayers().getMapWidgetRegistry().getViewConfigureMenuAdapter(mapActivity);
    }
 else     if (DashboardType.CONFIGURE_MAP == visibleType) {
      cm=new ConfigureMapMenu().createListAdapter(mapActivity);
    }
 else     if (DashboardType.LIST_MENU == visibleType) {
      cm=mapActivity.getMapActions().createMainOptionsMenu();
    }
 else     if (DashboardType.ROUTE_PREFERENCES == visibleType) {
      RoutePreferencesMenu routePreferencesMenu=new RoutePreferencesMenu(mapActivity);
      ArrayAdapter<LocalRoutingParameter> listAdapter=routePreferencesMenu.getRoutePreferencesDrawerAdapter(nightMode);
      OnItemClickListener listener=routePreferencesMenu.getItemClickListener(listAdapter);
      updateListAdapter(listAdapter,listener);
    }
 else     if (DashboardType.UNDERLAY_MAP == visibleType) {
      cm=RasterMapMenu.createListAdapter(mapActivity,OsmandRasterMapsPlugin.RasterMapType.UNDERLAY);
    }
 else     if (DashboardType.OVERLAY_MAP == visibleType) {
      cm=RasterMapMenu.createListAdapter(mapActivity,OsmandRasterMapsPlugin.RasterMapType.OVERLAY);
    }
    if (cm != null) {
      updateListAdapter(cm);
    }
  }
}
