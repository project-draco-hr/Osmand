{
  if (!isVisible()) {
    mapActivity.getMyApplication().getSettings().USE_DASHBOARD_INSTEAD_OF_DRAWER.set(false);
  }
  this.listAdapter=listAdapter;
  this.listAdapterOnClickListener=optionsMenuOnClickListener;
  if (this.listView != null) {
    listView.setAdapter(listAdapter);
    if (listBackgroundView == null) {
      listView.setOnItemClickListener(optionsMenuOnClickListener);
    }
 else     if (optionsMenuOnClickListener != null) {
      listView.setOnItemClickListener(new OnItemClickListener(){
        @Override public void onItemClick(        AdapterView<?> parent,        View view,        int position,        long id){
          optionsMenuOnClickListener.onItemClick(parent,view,position - 1,id);
        }
      }
);
    }
 else {
      listView.setOnItemClickListener(null);
    }
  }
  setDashboardVisibility(true);
}
