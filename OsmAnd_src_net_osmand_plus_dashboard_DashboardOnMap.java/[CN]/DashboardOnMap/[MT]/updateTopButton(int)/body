{
  if (listBackgroundView != null) {
    float sh=mFlexibleSpaceImageHeight - mFlexibleBlurSpaceHeight;
    float t=sh == 0 ? 1 : (1 - Math.max(0,-scrollY + sh) / sh);
    int baseColor=0xff8f00;
    int alpha=(int)(t * 255);
    int malpha=t == 1 ? alpha=0 : alpha;
    paddingView.setBackgroundColor(baseColor);
    setAlpha(paddingView,malpha,baseColor);
    if (listBackgroundView != null) {
      dashboardView.findViewById(R.id.map_part_dashboard).setBackgroundColor(baseColor);
      setAlpha(dashboardView.findViewById(R.id.map_part_dashboard),malpha,baseColor);
    }
    gradientToolbar.setAlpha((int)((1 - t) * 255));
    if (t < 1) {
      ((Toolbar)dashboardView.findViewById(R.id.toolbar)).setBackgroundDrawable(gradientToolbar);
    }
 else {
      ((Toolbar)dashboardView.findViewById(R.id.toolbar)).setBackgroundColor(0xff000000 | baseColor);
    }
  }
  if (actionButton != null) {
    double scale=mapActivity.getResources().getDisplayMetrics().density;
    int originalPosition=(int)(160 * scale);
    int minTop=(int)(65 * scale);
    FrameLayout.LayoutParams lp=(FrameLayout.LayoutParams)actionButton.getLayoutParams();
    if (minTop > originalPosition - scrollY) {
      actionButton.hide();
    }
 else {
      actionButton.show();
      lp.topMargin=originalPosition - scrollY;
      ((FrameLayout)actionButton.getParent()).updateViewLayout(actionButton,lp);
    }
  }
}
