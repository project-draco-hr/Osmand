{
  try {
    if (message.getType().equals("OSMHeader")) {
      Osmformat.HeaderBlock headerblock=Osmformat.HeaderBlock.parseFrom(message.getData());
      parse(headerblock);
    }
 else     if (message.getType().equals("OSMData")) {
      Osmformat.PrimitiveBlock primblock=Osmformat.PrimitiveBlock.parseFrom(message.getData());
      parse(primblock);
    }
  }
 catch (  InvalidProtocolBufferException e) {
    e.printStackTrace();
    throw new Error("ParseError");
  }
}
