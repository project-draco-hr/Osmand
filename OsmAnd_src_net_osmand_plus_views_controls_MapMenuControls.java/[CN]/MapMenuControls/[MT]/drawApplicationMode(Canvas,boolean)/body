{
  OsmandMapTileView view=mapActivity.getMapView();
  ApplicationMode appMode=view.getSettings().getApplicationMode();
  if (appMode != cacheApplicationMode) {
    modeShadow.setBounds(backToMenuButton.getLeft() + (int)(2 * scaleCoefficient),backToMenuButton.getTop() - (int)(24 * scaleCoefficient),backToMenuButton.getRight() - (int)(4 * scaleCoefficient),backToMenuButton.getBottom());
    cacheAppModeIcon=view.getResources().getDrawable(appMode.getSmallIcon(nightMode));
    int l=modeShadow.getBounds().left + (modeShadow.getBounds().width() - cacheAppModeIcon.getMinimumWidth()) / 2;
    int t=(int)(modeShadow.getBounds().top + 2 * scaleCoefficient);
    cacheAppModeIcon.setBounds(l,t,l + cacheAppModeIcon.getMinimumWidth(),t + cacheAppModeIcon.getMinimumHeight());
  }
  modeShadow.draw(canvas);
  if (cacheAppModeIcon != null) {
    cacheAppModeIcon.draw(canvas);
  }
}
