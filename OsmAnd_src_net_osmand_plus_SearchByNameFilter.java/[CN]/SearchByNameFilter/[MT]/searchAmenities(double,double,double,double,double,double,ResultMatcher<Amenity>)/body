{
  searchedAmenities.clear();
  final int limit=distanceInd == 0 ? 500 : -1;
  List<Amenity> result=application.getResourceManager().searchAmenitiesByName(query,topLatitude,leftLongitude,bottomLatitude,rightLongitude,lat,lon,new ResultMatcher<Amenity>(){
    boolean elimit=false;
    @Override public boolean publish(    Amenity object){
      if (limit != -1 && searchedAmenities.size() > limit) {
        elimit=true;
      }
      if (matcher.publish(object)) {
        searchedAmenities.add(object);
        return true;
      }
      return false;
    }
    @Override public boolean isCancelled(){
      return matcher.isCancelled() || elimit;
    }
  }
);
  MapUtils.sortListOfMapObject(result,lat,lon);
  searchedAmenities=result;
  return searchedAmenities;
}
