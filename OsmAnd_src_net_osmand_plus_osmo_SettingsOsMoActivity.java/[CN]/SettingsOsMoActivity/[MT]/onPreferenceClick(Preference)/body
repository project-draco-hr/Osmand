{
  if (preference == debugPref) {
    updateDebugPref();
    return true;
  }
 else   if (preference == trackerId) {
    final OsMoPlugin plugin=OsMoPlugin.getEnabledPlugin(OsMoPlugin.class);
    OsMoService service=plugin.getService();
    SessionInfo ci=service.getCurrentSessionInfo();
    if (ci == null || ci.trackerId == null) {
      AccessibleToast.makeText(this,R.string.osmo_auth_pending,Toast.LENGTH_SHORT).show();
    }
 else {
      ShareDialog dlg=new ShareDialog(this);
      dlg.setTitle(getString(R.string.osmo_tracker_id));
      dlg.viewContent(ci.trackerId);
      dlg.shareURLOrText(ci.trackerId,getString(R.string.osmo_tracker_id_share,ci.trackerId,""),null);
      dlg.showDialog();
    }
  }
  return super.onPreferenceClick(preference);
}
