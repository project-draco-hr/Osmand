{
  new GwtConverter().run(unit);
  new Rewriter().run(unit);
  new Autoboxer(unit.getAST()).run(unit);
  new InitializationNormalizer().run(unit);
  new AnonymousClassConverter(unit).run(unit);
  new InnerClassExtractor(unit).run(unit);
  new JavaToIOSTypeConverter().run(unit);
  Map<String,String> methodMappings=Options.getMethodMappings();
  if (methodMappings.isEmpty()) {
    loadMappingFiles();
  }
  new JavaToIOSMethodTranslator(unit.getAST(),methodMappings).run(unit);
  new DestructorGenerator().run(unit);
  for (  Plugin plugin : Options.getPlugins()) {
    plugin.processUnit(unit);
  }
  Types.verifyNode(unit);
  Document doc=new Document(source);
  TextEdit edit=unit.rewrite(doc,Options.getCompilerOptions());
  try {
    edit.apply(doc);
  }
 catch (  MalformedTreeException e) {
    throw new AssertionError(e);
  }
catch (  BadLocationException e) {
    throw new AssertionError(e);
  }
  return doc.get();
}
